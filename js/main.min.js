"use strict";var _Vue$component,_Vue$component2,_Vue$component3,_Vue$component4;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function triggerCaptchaEvent(){var e=new Event("captcha-changed");document.dispatchEvent(e)}!function(e){jQuery.widget("nsp.calendar",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniSlick()},_iniVars:function(){var t=this;t.slider=e(".s-calendar__items",t.element),t.sliderPrev=e(".s-calendar__previous",t.element),t.sliderNext=e(".s-calendar__next",t.element)},_iniSlick:function(){var e=this;e.slider.slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:7,slidesToScroll:7,centerMode:!0,prevArrow:e.sliderPrev,nextArrow:e.sliderNext,responsive:[{breakpoint:992,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}]})},_unSlick:function(e){e.slick("unslick")},_goToSlick:function(e){this.slider.slick("slickGoTo",e-1)}})}(jQuery),function(e){jQuery.widget("nsp.header",{options:{topPosition:20},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e.iniVars(),e.iniStickyPosCheck(),e.iniTooltips(),e.iniDeskSubmenus(),e.iniSearch(),e.iniMobMenu(),e.goToBooking()},iniVars:function(){var t=this;t.body=e("body"),t.alert=e(".s-alert-wrap"),t.bookingBar=e(".s-booking-bar"),t.goToBookingHref=e(".go-to-booking-href",t.element)},iniStickyPosCheck:function(){var t=this;t.checkStickyPosition(),e(window).on("scroll",(function(){t.checkStickyPosition()}))},checkStickyPosition:function(){api.winTop>this.options.topPosition?(this.elem.addClass("sticky"),this.alert.addClass("sticky"),this.bookingBar.addClass("sticky")):(this.elem.removeClass("sticky"),this.alert.removeClass("sticky"),this.bookingBar.removeClass("sticky"))},iniTooltips:function(){this.elem.find(".tooltip").tooltipster({functionPosition:function(t,i,n){return n.side="bottom",n.coord.top=e(i.origin).offset().top-api.winTop+35,n}})},iniDeskSubmenus:function(){var t=this;t.deskSubmenusCols=t.elem.find(".header__submenu-col"),t.deskSubmenuLinks=t.elem.find(".header__submenu-link"),t.deskSubmenus=t.elem.find(".header__submenu"),t.currentSubmenu_desk,t.currentSubmenuLink_desk,t.closeTimer=0,t.openTimer=0,t.firstTimeOpenTimer=0,t.deskSubmenuLinks.on("mouseenter.submenu focus.submenu touchend click",(function(i){if(t.currentSubmenuLink_desk=e(this),t.currentSubmenu_desk=t.currentSubmenuLink_desk.parent().find(".header__submenu"),clearTimeout(t.openTimer),clearTimeout(t.closeTimer),clearTimeout(t.firstTimeOpenTimer),0!=t.currentSubmenu_desk.length){var n;t.elem.hasClass("header--submenuOpen");api.isTouch&&"mouseenter"==i.type||!api.isTouch&&"click"!=i.type?n=100:(api.isTouch||"click"==i.type)&&(n=0),t.openTimer=setTimeout((function(){t.currentSubmenu_desk.hasClass("active")||(t.elem.addClass("header--submenuOpen"),t.deskSubmenusCols.not(t.currentSubmenuLink_desk.parent()).removeClass("submenu-active"),t.deskSubmenus.not(t.currentSubmenu_desk).removeClass("active").fadeOut(200),t.openSubmenu_desk())}),n)}})),t.deskSubmenusCols.on("mouseleave.submenu",(function(){clearTimeout(t.openTimer),clearTimeout(t.closeTimer);var e=api.isTouch?0:200;t.closeTimer=setTimeout((function(){t.closeSubmenus_desk()}),e)})),t.deskSubmenusCols.on("mouseenter.submenu",(function(){clearTimeout(t.closeTimer)}))},openSubmenu_desk:function(){var e=this,t=e.currentSubmenuLink_desk.parent();e.deskSubmenusCols.removeClass("submenu-active"),t.addClass("submenu-active"),e.currentSubmenu_desk.fadeIn(200).addClass("active")},closeSubmenus_desk:function(){var e=this;e.deskSubmenusCols.removeClass("submenu-active"),e.deskSubmenus.removeClass("active").fadeOut(200),e.elem.removeClass("header--submenuOpen")},iniMobMenu:function(){var t=this;e(".header__burger").on("click",(function(){e("body").hasClass("mob-menu-open")?t.closeMobMenu():t.openMobMenu()})),e(".header__mob-menu__nav__item__head").on("click",(function(){var t=e(this);t.parent().toggleClass("active"),t.parent().find(".header__mob-menu__nav__item__body").slideToggle()})),e(window).on("resize",(function(){api.winW>=768&&t.closeMobMenu()}))},openMobMenu:function(){e("body").addClass("mob-menu-open"),api.fn.disableBodyScroll()},closeMobMenu:function(){e("body").removeClass("mob-menu-open"),api.fn.enableBodyScroll()},iniSearch:function(){var t=this;t.searchForm=t.elem.find(".header__search"),t.elem.find(".header__tools__search").on("click",(function(){t.openSearch()})),e(document).on("click",(function(i){!e(i.target).closest(".header__search__form").length&&t.searchForm.hasClass("active")&&t.closeSearch()})),e(window).on("resize",(function(){api.winW<768&&t.closeSearch()}))},openSearch:function(){var t=this;console.log("openSearch"),t.searchForm.fadeIn(250,(function(){t.searchForm.addClass("active"),e("#site-search").focus()}))},closeSearch:function(){this.searchForm.fadeOut(250).removeClass("active"),e("#site-search").blur()},goToBooking:function(){if(!this.goToBookingHref.length)return!1;this.goToBookingHref.click((function(t){if(e("body").hasClass("homepage")&&e(".s-booking-bar").length)return api.fn.scrollToBookingBar(),!1}))}})}(jQuery),function(e){jQuery.widget("nsp.alert",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniVars(),e._iniActions(),e._checkWizardView(),e.elem.addClass("init")},_iniVars:function(){var t=this;t.close=e(".close button",t.elem),t.isImportant=t.elem.hasClass("s-alert--important"),t.wizardView=e(".s-booking-wizard").length,t.wizard=e(".s-booking-wizard"),t.bookingBar=e(".s-booking-bar"),t.restoreTimer=0},_iniActions:function(){var t=this;t.close.click((function(i){i.preventDefault(),t.elem.hide(),e(".s-hero").hero("setTopOffset"),t.checkBookingBarOffset(),t.checkBookingWizardOffset()})),t.checkBookingBarOffset(),t.checkBookingWizardOffset(),e(window).on("resize",(function(){t.checkBookingBarOffset(),t.checkBookingWizardOffset()}));var i=document.querySelector("body");i.addEventListener("bookingPanelOpened",(function(e){clearTimeout(t.restoreTimer),t.elem.hide(),t.checkBookingBarOffset()}),!1),i.addEventListener("bookingPanelCleared",(function(e){t.isImportant&&!t.wizardView&&(t.restoreTimer=setTimeout((function(){t.elem.fadeIn(200),t.checkBookingBarOffset()}),4e3))}),!1)},_checkWizardView:function(){var e=this;e.wizardView&&(e.elem.hide(),e.checkBookingBarOffset(),e.checkBookingWizardOffset())},getAlertHeight:function(){var e=this;return e.element.parents(".s-alert-wrap").length?e.element.parents(".s-alert-wrap").height():e.element.height()},checkBookingBarOffset:function(){var t=this,i=t.getAlertHeight(),n=e("header").height();return t.bookingBar.length&&api.winW<768&&e("body").hasClass("homepage")?(t.wizard.length&&(n=0),t.bookingBar.css("margin-top",i+n),!1):t.wizard.length?(n=0,t.bookingBar.css("margin-top",i+n),!1):void t.bookingBar.removeAttr("style")},checkBookingWizardOffset:function(){var e=this,t=e.getAlertHeight();return e.wizard.length&&api.winW<768?(t>0?e.wizard.css("margin-top",t):e.wizard.removeAttr("style"),!1):e.wizard.length?(e.wizard.css("margin-top",t),!1):void e.wizard.removeAttr("style")}})}(jQuery),function(e){jQuery.widget("nsp.footer",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e._iniVars(),e._iniActions(),e._iniBreakpoints()},_iniVars:function(){this.heading=e(".s-footer__menu__col .heading",this.element)},_iniActions:function(){this.heading.click((function(t){if(Breakpoint.is("md")||Breakpoint.is("lg"))return!1;var i=e(this).parent();i.toggleClass("is-active"),e("> ul",i).slideToggle()}))},_iniBreakpoints:function(){var t=this;e(window).on("change:breakpoint",(function(e,i,n){"md"!==i&&"lg"!==i||t._clearInlineStyles()}))},_clearInlineStyles:function(){e("*",this.element).removeAttr("style"),e("*",this.element).removeClass("is-active")}})}(jQuery),function(e){jQuery.widget("nsp.hero",{options:{videoRatio:.33},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniActions()},_iniVars:function(){var t=this;t.sliderClass=".s-hero__items",t.slider=e(t.sliderClass,t.element),t.sliderCaptureClass=".s-hero__items-capture",t.sliderCapture=e(t.sliderCaptureClass,t.element),t.sliderCaptureExists=!!t.sliderCapture.length,t.videos=e("video",t.element)},_iniActions:function(){var t=this;t._iniSlick(),t._setHeroType(),t._setVideosDimensions(),t.setTopOffset(),e(window).resize((function(){clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout((function(){t._setVideosDimensions(),t.setTopOffset()}),100)}))},_setHeroType:function(){this.sliderCaptureExists&&this.element.addClass("s-hero--multiple")},setTopOffset:function(){if(e(window).outerWidth()<992){var t=e(".header").outerHeight(),i=e(".s-alert-wrap").length?e(".s-alert-wrap").outerHeight():0;this.element.css("margin-top",t+i)}else this.element.css("margin-top",0)},_setVideosDimensions:function(){var t=this;t.videos.each((function(i,n){e(this).removeAttr("style");var r=e(this).parent();r.outerHeight()/r.outerWidth()>t.options.videoRatio?e(this).css("height","100%"):e(this).removeAttr("style")}))},_setVideos:function(t){var i=this;i.videos.each((function(t,n){i._pauseVideo(e(this))}));var n=i._getSlideVideo(t);n.length&&i._playVideo(n)},_getSlideVideo:function(t){var i=e(".slick-slide:eq("+t+")",this.element);return e("video",i)},_playVideo:function(e){e.trigger("play")},_pauseVideo:function(e){e.trigger("pause")},_iniSlick:function(){var e=this;if(e.slider.on("init",(function(t,i){e._setVideos(0)})),e.slider.slick({arrows:!0,dots:!e.sliderCaptureExists,infinite:!1,slidesToShow:1,slidesToScroll:1,asNavFor:e.sliderCaptureExists?e.sliderCaptureClass:null,responsive:[{breakpoint:992,settings:{arrows:!e.sliderCaptureExists}}]}).on("afterChange",(function(t,i,n){e._setVideos(n)})),!e.sliderCaptureExists)return!1;e.sliderCapture.slick({arrows:!0,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,appendArrows:jQuery(".s-hero__items-capture__toolbar"),appendDots:jQuery(".s-hero__items-capture__toolbar"),asNavFor:e.sliderClass})}})}(jQuery),function(e){jQuery.widget("nsp.gallery",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniActions()},_iniVars:function(){var t=this;t.slider=e(".s-gallery__items",t.element),t.sliderCaptions=e(".s-gallery-captions__items"),t.imgResp=e(".resp-background",t.element)},_iniActions:function(){this._iniSlick()},_iniSlick:function(){this.slider.slick({arrows:!0,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,asNavFor:".s-gallery-captions__items"}),this.sliderCaptions.slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,asNavFor:".s-gallery__items"})}})}(jQuery),function(e){jQuery.widget("nsp.shareLink",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniActions()},_iniActions:function(){var t=window.location.href;this.elem.on("click",(function(i){var n=e(this);n.hasClass("share-link--fb")&&(i.preventDefault(),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t),"Facebook","width=626,height=436")),n.hasClass("share-link--twitter")&&(i.preventDefault(),window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(t),"Twitter","width=626,height=436")),n.hasClass("share-link--linkedin")&&(i.preventDefault(),window.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(t),"LinkedIn","width=626,height=436"))}))}})}(jQuery),function(e){jQuery.widget("nsp.article",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniVars(),e.iniStickyPos()},_iniVars:function(){var t=this;t.body=e(".s-article__body",t.elem),t.tools=e(".s-article__tools",t.elem),t.relatedArts=e(".s-article__rel",t.elem),t.stickyElems=t.tools.add(t.relatedArts)},iniStickyPos:function(){var t=this;t.stickyElems.stick_in_parent({offset_top:120}),t.relatedArts.on("sticky_kit:stick",(function(){t.setRelatedArtsStickyPos()})),t.relatedArts.on("sticky_kit:unstick",(function(){t.relatedArts.css("right",0)})),t.relatedArts.on("sticky_kit:bottom",(function(){t.relatedArts.css("right",0)})),t.relatedArts.on("sticky_kit:unbottom",(function(){t.setRelatedArtsStickyPos()})),t.checkStickyByViewport(),e(window).on("resize",(function(){t.checkStickyByViewport()}))},setRelatedArtsStickyPos:function(){var e=this.relatedArts.parent().offset().left;this.relatedArts.css("right",e)},checkStickyByViewport:function(){api.winW<=991?this.stickyElems.trigger("sticky_kit:detach"):this.stickyElems.stick_in_parent({offset_top:120})}})}(jQuery),function(e){jQuery.widget("nsp.teaserCarousel",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniSlick()},_iniVars:function(){var t=this;t.elem=t.element,t.slider=e(".s-teaser-carousel__cont",t.elem)},_iniSlick:function(){var e=this;e.slider.slick({arrows:!0,dots:!0,infinite:!1,slidesToShow:4,slidesToScroll:1,appendArrows:jQuery(".b-slick-toolbar",e.slider.parent()),appendDots:jQuery(".b-slick-toolbar",e.slider.parent()),responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,variableWidth:!0,centerMode:!0}}]})},_unSlick:function(e){e.slick("unslick")},_goToSlick:function(e){this.slider.slick("slickGoTo",e-1)}})}(jQuery),function(e){jQuery.widget("nsp.carouselDouble",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniSlick()},_iniVars:function(){var t=this;t.elem=t.element,t.sliders=e(".s-carousel-double__carousel",t.elem)},_iniSlick:function(){var t=this;t.sliders.each((function(){var i=e(this),n=t.elem.hasClass("s-carousel-double--common"),r=n&&i.hasClass("s-carousel-double__carousel--main")?".s-carousel-double__carousel--aside":".s-carousel-double__carousel--main";n||(r="");var s=n&&i.hasClass("s-carousel-double__carousel--aside");i.slick(_defineProperty({arrows:!0,dots:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,appendArrows:jQuery(".b-slick-toolbar",i.parent()),appendDots:jQuery(".b-slick-toolbar",i.parent()),asNavFor:r},"dots",s))}))}})}(jQuery),function(e){jQuery.widget("nsp.destination",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniVars(),setTimeout((function(){e._iniStickies(),e._iniBreakpoints()}),100)},_iniVars:function(){var e=this;e.body=".s-destination__aside",e.aside=".s-destination__aside",e.sidebar=".s-destination__sidebar"},_iniStickies:function(){var t=this;e(t.aside).length&&e(t.sidebar).length&&(t.stickyAside=new StickySidebar(t.aside,{topSpacing:100,bottomSpacing:20,containerSelector:t.body}),t.stickySidebar=new StickySidebar(t.sidebar,{topSpacing:100,bottomSpacing:20,containerSelector:t.body}))},_destroyStickies:function(){var e=this;void 0!==e.stickyAside&&e.stickyAside.destroy(),void 0!==e.stickySidebar&&e.stickySidebar.destroy()},_iniBreakpoints:function(){var t=this;(Breakpoint.is("xs")||Breakpoint.is("sm"))&&t._destroyStickies(),e(window).on("change:breakpoint",(function(e,i,n){"xs"!==i&&"sm"!==i||t._destroyStickies(),"md"!==i&&"lg"!==i||(t._destroyStickies(),t._iniStickies())}))}})}(jQuery),function(e){jQuery.widget("nsp.bookingBarPanels",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniVars(),e._iniActions()},_iniVars:function(){var e=this;e.openTimer=0,e.clickEnabled=!0,e.animDur=150,e.trips=".s-booking-bar__dest__row",e.togglers=".panel-toggler",e.panels=".s-booking-bar__dest__panel",e.inputWraps=".s-booking-bar__input-wrap",e.inputGroups=".s-booking-bar__input-group",e.activeClass="active"},_iniActions:function(){var t=this;e(document).on("click",t.togglers,(function(){var i=e(this),n=i.parents(t.inputGroups).find(t.panels);!i.parents(t.inputGroups+".disabled").length&&t.clickEnabled&&(n.hasClass(t.activeClass)?(t.clearPanels(),t.bookingPanelsCleared()):t.setActivePanel(i.parents(t.inputGroups))),t.clickEnabled=!1,setTimeout((function(){t.clickEnabled=!0}),80)})),e(document).on("click",(function(i){var n=e(i.target);n.closest(t.panels).length||n.hasClass("panel-toggler")||(t.clearPanels(),t.bookingPanelsCleared())}))},setActivePanel:function(t){var i=this,n=e(i.panels).filter("."+i.activeClass).length?i.animDur:0;i.clearPanels(),i.openTimer=setTimeout((function(n){t.find(i.inputWraps).addClass(i.activeClass),t.find(i.panels).fadeIn(i.animDur).addClass(i.activeClass),i.bookingPanelOpened(),api.winW<api.vars.scr.md?api.fn.moveWindowToObj(t):api.fn.scrollToBookingBar(),setTimeout((function(i){t.find(".v-select__slot input").length&&t.find(".v-select__slot input").focus(),t.find(".datepicker").length&&(document.activeElement.blur(),e("input").blur())}),200)}),n)},openNextPanel:function(t){var i=this,n=e("#"+t),r=n.parents(i.trips).find(i.inputGroups),s=n.parents(i.trips).find(".s-booking-bar__dest__row__col"),a=n.parents(".s-booking-bar__dest__row__col"),o=a.find(i.inputGroups),c=n.parent(".s-booking-bar__input-group"),u=r.last().find(".s-booking-bar__dest__panel").attr("id")==t;i.clearPanels(),u&&!r.not(".hasValue").length||setTimeout((function(){var e=o.not(".hasValue").length&&!u?o.not(".hasValue").eq(0):s.eq(0).find(r).not(".hasValue").length?s.eq(0).find(r).not(".hasValue").eq(0):0==a.index()?s.eq(1).find(r).eq(0):r.slice(r.index(c)+1,r.length).eq(0);i.setActivePanel(e)}),200)},clearPanels:function(){var t=this;clearTimeout(t.openTimer),e(t.panels).fadeOut(t.animDur).removeClass(t.activeClass),e(t.inputWraps).removeClass(t.activeClass)},bookingPanelOpened:function(){if(Breakpoint.is("xs")){var e=document.querySelector("body"),t=new CustomEvent("bookingPanelOpened");e.dispatchEvent(t)}},bookingPanelsCleared:function(){if(Breakpoint.is("xs")){var e=document.querySelector("body"),t=new CustomEvent("bookingPanelCleared");e.dispatchEvent(t)}}})}($),function(e){jQuery.widget("nsp.searchBox",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniActions()},_iniVars:function(){this.input=e("input",this.element)},_iniActions:function(){var e=this;e.element.submit((function(t){t.preventDefault();var i=e.element.data("searchurl"),n=e.input.val();return!!e._hasValue(i)&&(!!e._hasValue(n)&&void location.assign("".concat(i,"?searchTerm=").concat(encodeURIComponent(n))))}))},_hasValue:function(e){return null!=e&&""!==e}})}(jQuery),function(e){jQuery.widget("nsp.respBackground",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniActions()},_iniVars:function(){this.items=e(".resp-background",this.element)},_iniActions:function(){var t=this;t._setImgsResp(),e(window).on("resize",(function(){t._setImgsResp()})),e(document).on("fetchDataAxiosResponse",(function(){t._iniVars(),t._setImgsResp()}))},_setImgsResp:function(){this.items.each((function(){void 0!==e(this).data("src768")&&void 0!==e(this).data("src0")?768<=document.body.clientWidth?e(this).css("background-image","url("+e(this).data("src768")+")"):e(this).css("background-image","url("+e(this).data("src0")+")"):void 0!==e(this).data("src")&&e(this).css("background-image","url("+encodeURI(e(this).data("src"))+")")}))}})}(jQuery),function(e){jQuery.widget("nsp.tripsCarousel",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var t=this;t._iniVars(),t._iniCarousel(),e(window).on("resize",(function(){t.positionTimeline()}))},_iniVars:function(){var t=this;t.carousel=e(".s-trips-carousel__slides",t.element),t.timelineItems=e(".s-trips-carousel__timeline__item",t.element),t.timelineWrap=e(".s-trips-carousel__timeline__cont",t.element)},_iniCarousel:function(){var t=this;t.carousel.on("init",(function(e,i,n){t.setActiveTimelineItem(t.carousel.find(".slick-current").index())})),t.carousel.slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1}),t.carousel.on("beforeChange",(function(e,i,n,r){t.setActiveTimelineItem(r)})),t.timelineItems.on("click",(function(i){t.carousel.slick("slickGoTo",e(i.target).closest(".s-trips-carousel__timeline__item").index())}))},setActiveTimelineItem:function(e){var t=this;t.timelineItems.not(":nth-child("+parseInt(e+1)+")").removeClass("active"),t.timelineItems.eq(e).addClass("active"),t.positionTimeline()},positionTimeline:function(){var e=this;if(e.timelineWrap[0].scrollWidth>e.timelineWrap.outerWidth()){var t=e.timelineItems.filter(".active").find(".s-trips-carousel__timeline__text"),i=e.timelineWrap[0].scrollWidth-e.timelineWrap.outerWidth(),n=t.offset().left+e.timelineWrap.scrollLeft();e.timelineWrap.stop().animate({scrollLeft:Math.min(i,n-20)},400),e.timelineWrap.addClass("scrollable")}else e.timelineWrap.removeClass("scrollable")}})}(jQuery),function(e){jQuery.widget("nsp.roadtripCarousel",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniCarousel()},_iniVars:function(){var t=this;t.carousel=e(".s-roadtrip-carousel__slides",t.element),t.timelineItems=e(".s-roadtrip-carousel__timeline__item",t.element),t.timelineCarousel=e(".s-roadtrip-carousel__timeline__items",t.element)},_iniCarousel:function(){var t=this;t.carousel.on("init",(function(e,t,i){})),t.carousel.slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,asNavFor:t.timelineCarousel}),t.timelineCarousel.slick({arrows:!1,dots:!1,infinite:!1,slidesToShow:3,slidesToScroll:1,asNavFor:t.carousel,responsive:[{breakpoint:768,settings:{slidesToShow:1,variableWidth:!0}}]}),t.carousel.on("beforeChange",(function(e,t,i,n){})),t.timelineItems.on("click",(function(i){t.carousel.slick("slickGoTo",e(i.target).closest(".s-roadtrip-carousel__timeline__item").index())}))}})}(jQuery),function(e){jQuery.widget("nsp.themeSwitcher",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.elem=e.element,e._iniVars(),e._iniActions()},_iniVars:function(){var t=this;t.href=e("a",t.elem),t.themeName=e("body").data("theme"),t._switchLogos()},_iniActions:function(){var t=this;t.href.click((function(i){i.preventDefault(),t.themeName=e(this).data("theme"),e("body").removeClass((function(e,t){return(t.match(/(^|\s)theme-\S+/g)||[]).join(" ")})),e("body").addClass("theme-"+t.themeName),t._switchLogos()}))},_switchLogos:function(){var t=this;e(".header__logo").find("img").attr("src","/imgs/logos/".concat(t.themeName,"/").concat(t.themeName,"-logo-header.svg")),e(".s-footer__aside").find("img").attr("src","/imgs/logos/".concat(t.themeName,"/").concat(t.themeName,"-logo-footer.png")),e(".s-error-500__header").find("img").attr("src","/imgs/logos/".concat(t.themeName,"/").concat(t.themeName,"-logo-header.svg"))}})}(jQuery),function(e){jQuery.widget("nsp.charsRestrictions",{options:{from:["ΞΏΟ","ΞΞ₯","ΞΟ","ΞΏΟ","Ξ±Ο","ΞΞ₯","ΞΟ","Ξ±Ο","Ξ΅Ο","ΞΞ₯","ΞΟ","Ξ΅Ο","Ξ±","Ξ","Ξ¬","Ξ","Ξ²","Ξ","Ξ³","Ξ","Ξ΄","Ξ","Ξ΅","Ξ","Ξ­","Ξ","ΞΆ","Ξ","Ξ·","Ξ","Ξ�","Ξ","ΞΈ","Ξ","ΞΉ","Ξ","Ξ―","Ξ","Ο","Ξ","Ξͺ","ΞΊ","Ξ","Ξ»","Ξ","ΞΌ","Ξ","Ξ½","Ξ","ΞΎ","Ξ","ΞΏ","Ξ","Ο","Ξ","Ο","Ξ ","Ο","Ξ‘","Ο","Ξ£","Ο","Ο","Ξ€","Ο","Ξ₯","Ο","Ξ","Ο","Ξ°","Ξ«","Ο","Ξ¦","Ο","Ξ§","Ο","Ξ¨","Ο","Ξ©","Ο","Ξ"],to:["ou","ou","ou","ou","au","au","au","au","eu","eu","eu","eu","a","a","a","a","b","b","g","g","d","d","e","e","e","e","z","z","i","i","i","i","th","th","i","i","i","i","i","i","i","k","k","l","l","m","m","n","n","ks","ks","o","o","o","o","p","p","r","r","s","s","s","t","t","y","y","y","y","y","y","y","f","f","x","x","ps","ps","o","o","o","o"]},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var t=this;e(document).on("cut copy paste",".e-prevent-paste",(function(e){e.preventDefault()})),e(document).on("keypress",".e-chars-name input",(function(e){var i=String.fromCharCode(e.which||e.charCode);return!!t._isGreek(i)||/[\u0061-\u007A]|[\u0041-\u005A]|\u0020/.test(i)})),e(document).on("keypress",".e-chars-doc input",(function(e){var i=String.fromCharCode(e.which||e.charCode);return!!t._isGreek(i)||/[\u0061-\u007A]|[\u0041-\u005A]|[\u0030-\u0039]/.test(i)})),e(document).on("keypress",".e-chars-nums input",(function(e){var t=String.fromCharCode(e.which||e.charCode);return/[\u0030-\u0039]/.test(t)})),e(document).on("keypress",".e-chars-plate input",(function(e){var i=String.fromCharCode(e.which||e.charCode);return!!t._isGreek(i)||/[\u0061-\u007A]|[\u0041-\u005A]|[\u0030-\u0039]/.test(i)}))},_isGreek:function(e){return this.options.from.includes(e)},_convertGreekToEnglish:function(e){var t=this;if(t._isGreek(e)){var i=t.options.from.findIndex((function(t){return t===e}));e=e.replace(t.options.from[i],t.options.to[i])}return e}})}(jQuery),function(e){jQuery.widget("nsp.experience",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var t=this;t.elem=t.element,t._iniVars(),t._getUrlSelected(),t._iniTabs(),t._positionNav(),t._showNav(),t._iniDraggableNav(),e(window).on("resize",(function(){t._positionNav()}))},_iniVars:function(){var t=this;t.nav=e(".s-experience__nav",t.elem),t.navList=e(".s-experience__nav__list",t.elem),t.navItems=e(".s-experience__nav__item",t.elem),t.preselectedTab=0},_getUrlSelected:function(){var t=api.fn.getUrlParameter("tab");t&&e("#"+t).length&&(this.preselectedTab=e("#"+t).index())},_iniTabs:function(){var e=this;e.elem.tabs({active:e.preselectedTab,activate:function(t,i){e._positionNav(),e.nav.addClass("dragged"),api.fn.setUrlParameter("tab",i.newPanel.attr("id"))}})},_showNav:function(){var t=this,i=0,n=0;t.nav.appear((function(){var r=e(this);setTimeout((function(){r.addClass("is-onscreen")}),400),setTimeout((function(){t.nav.hasClass("dragged")||(t.bounceNav(),i=setInterval((function(){n>=2||t.nav.hasClass("dragged")?clearInterval(i):(t.nav.hasClass("dragged")||t.bounceNav(),n++)}),4e3))}),2e3)}),{accX:0,accY:-200})},bounceNav:function(){var e=this;e.nav.addClass("items-bounce"),setTimeout((function(){e.nav.removeClass("items-bounce")}),1e3)},_iniDraggableNav:function(){var e=this;api.isTouch||(e.nav.addClass("draggable"),e.navList.draggable({axis:"x",drag:function(t,i){i.position.left>=api.winW/2-80&&(i.position.left=api.winW/2-80),i.position.left+e.navList.outerWidth()<=api.winW/2+80&&(i.position.left=api.winW/2+80-e.navList.outerWidth()),e.nav.addClass("dragged")}}))},_positionNav:function(){var e=this,t=e.navItems.filter(".ui-tabs-active");if(!(api.winW<e.navList[0].scrollWidth)||api.winW>=992){var i=api.winW/2-t.position().left-t.find(".s-experience__nav__lnk").outerWidth()/2;e.navItems.first().css({"padding-left":0}),e.navItems.last().css({"padding-right":0}),e.navList.css("left",i),e.nav.stop().animate({scrollLeft:0},300)}else{var n=api.winW/2-e.navItems.first().find(".s-experience__nav__lnk").outerWidth()/2,r=api.winW/2-e.navItems.last().find(".s-experience__nav__lnk").outerWidth()/2;e.navItems.first().css({"padding-left":n}),e.navItems.last().css({"padding-right":r});var s=t.position().left+t.find(".s-experience__nav__lnk").outerWidth()/2-api.winW/2;e.navList.css("left",0),e.nav.stop().animate({scrollLeft:s},300)}}})}(jQuery),function(e){e.widget("nsp.tablesResponsive",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){var e=this;e.clearStyles(),e.createTHead(),e.createDataTitles()},clearStyles:function(){var t=this.element;t.removeAttr("style").removeAttr("width").removeAttr("height").removeAttr("border").removeAttr("align"),e("tr, th, td",t).removeAttr("width").removeAttr("height")},createTHead:function(){var t=this.element;if(this.element.find("thead").length)return!1;e("<thead></thead>").prependTo(t),t.find("tbody").find("tr").eq(0).appendTo(e("thead",t)),e("thead",t).html((function(e,t){return t.replace(/td>/g,"th>")}))},createDataTitles:function(){var t=this.element;e("th",t).each((function(i,n){var r=e.trim(e(this).text());e("tbody tr",t).each((function(){e(this).find("td").eq(i).attr("data-title",r)}))}))}})}(jQuery),function(e){e.widget("nsp.tablesRoutes",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniActions()},_iniActions:function(){var e=this;e._setTitles(),e._wrapTable(),e._cloneTable(),e._fixedSide()},_wrapTable:function(){var e=this,t=jQuery("<div/>",{class:"e-table-wrapper"});e.element.wrap(t),e.$wrapper=e.element.parents(".e-table-wrapper")},_cloneTable:function(){this.element.clone(!0).appendTo(this.$wrapper).addClass("clone")},_fixedSide:function(){var t=this.element.siblings(".clone").first();e("tr",t).each((function(){e(this).find("td").eq(0).addClass("fixed-side")}))},_setTitles:function(){var e,t=this,i=t.element.hasClass("hidden-head")?"hidden-head":"";for(e=0;e<2;e++){var n=t.element.find("tr").eq(e).find("td").html();jQuery("<div/>",{class:"e-table-routes row".concat(e," d-block d-md-none ").concat(i),html:n}).insertBefore(t.element)}}})}(jQuery),function(e){e.widget("nsp.tablesPrices",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniActions()},_iniActions:function(){var e=this;e._setTitles(),e._wrapTable(),e._cloneTable(),e._fixedSide()},_wrapTable:function(){var e=this,t=jQuery("<div/>",{class:"e-table-wrapper"});e.element.wrap(t),e.$wrapper=e.element.parents(".e-table-wrapper")},_cloneTable:function(){this.element.clone(!0).appendTo(this.$wrapper).addClass("clone")},_fixedSide:function(){var t=this.element.siblings(".clone").first();e("tr",t).each((function(){var t=e(this).find("td").eq(0);t.addClass("fixed-side"),t.attr("colspan")||e(this).find("td").eq(1).addClass("fixed-side")}))},_setTitles:function(){var e,t=this,i=t.element.hasClass("hidden-head")?"hidden-head":"";for(e=0;e<3;e++){var n=t.element.find("tr").eq(e).find("td").html();jQuery("<div/>",{class:"e-table-prices row".concat(e," d-block d-md-none ").concat(i),html:n}).insertBefore(t.element)}}})}(jQuery),function(e){jQuery.widget("nsp.partners",{options:{},_setOption:function(e,t){this.options[e]=t,this._update()},_create:function(){this._iniVars(),this._iniSlick()},_iniVars:function(){var t=this;t.slider=e(".s-partners__items",t.element),t.images=e("img",t.element)},_iniSlick:function(){this.slider.slick({autoplay:!0,arrows:!1,dots:!1,infinite:!0,slidesToShow:10,slidesToScroll:3,responsive:[{breakpoint:992,settings:{slidesToShow:7,slidesToScroll:5}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2,variableWidth:!0}}]}).on("setPosition",(function(e,t){t.$slides.css("height",t.$slideTrack.height()+"px")}))}})}(jQuery),jQuery.noConflict(),window.api={vars:{lang:"el",isIE:!1,isEdge:!1,isIE6To11:!1,is:"desktop",windW:0,windH:0,windOldW:0,windOldH:0,wresizetimer:100,resizetimeout:0,IframeAPIReady:!1,youtubeSelectors:[],youtube_addedScriptToHead:!1,scr:{xs:350,sm:576,md:768,lg:992,xl:1200},datepicker:{dateFormat:"dd/mm/yy"},selectors:{body:"body",header:".header",footer:".footer"},slick:{edgeFriction:0,speed:300,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>'}},detectors:{},fn:{},components:{},forms:{},resizeCommon:{},modules:{}},function(e){api.fn={checkTouchDevice:function(){api.isTouch=e("html").hasClass("touchevents")},setWinInfo:function(){var t=function(){api.winW=e(window).outerWidth(),api.winH=e(window).outerHeight(),api.winTop=e(window).scrollTop()};t(),e(window).resize((function(){t()})),e(window).scroll((function(){api.winTop=e(window).scrollTop()}))},checkFontsIconsLoad:function(){document.documentElement.className.indexOf("font-icons-loaded")>-1||new FontFaceObserver("atticagroup-font",{weight:400}).load(null,15e3).then((function(){document.documentElement.className+=" font-icons-loaded"}),(function(){document.documentElement.className+=" font-icons-loaded"}))},disableBodyScroll:function(){var t=api.winTop;api.winTopMemory=t,e("body").css({position:"fixed",width:"100%",top:-t}),e("html, body").addClass("scrollDisabled")},enableBodyScroll:function(){e("body").css({position:"static",top:"auto"}),e(window).scrollTop(api.winTopMemory),e("html, body").removeClass("scrollDisabled")},getUrlParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=window.location.href,i=new RegExp("[\\?|&]"+e+"=([^&#]*)").exec("?"+t.split("?")[1]);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},setUrlParameter:function(e,t){var i=window.location.href,n=i.split("?")[0],r=i.split("?").length>1?"?"+i.split("?")[1]:"",s=e+"="+t,a="?"+s,o=new RegExp("([?&])"+e+"[^&]*"),c=new RegExp("([?&])"+e+"=[^&;]+[&;]?");a="?"===(a=null==t||""===t?(a=r.replace(c,"$1")).replace(/[&;]$/,""):null!==r.match(o)?r.replace(o,"$1"+s):""==r?"?"+s:r+"&"+s)?"":a,window.history.replaceState("","",n+a)},moveWindowToObj:function(t,i,n){e(window).scrollTop();i=i||0;var r=0;t.is(":hidden")?(t.show(),r=e(t).offset(),t.hide()):r=e(t).offset();var s=api.fn.getHeaderHeight(),a=e(".s-alert-wrap").outerHeight();e("html,body").clearQueue(),e("html,body").stop(),e("html,body").stop().animate({scrollTop:r.top+i-s-a},400,(function(){n&&"function"==typeof n&&n()}))},scrollToBookingBar:function(){if(!e(".s-booking-bar").parents(".s-booking-wizard").length){var t=e(".header"),i=e(".s-alert-wrap"),n=e(this).data("offset-y"),r=void 0!==n?n:100,s=i.length?i.outerHeight():0,a=t.outerHeight();e([document.documentElement,document.body]).animate({scrollTop:e(".s-booking-bar").offset().top-r-a-s},1e3)}},checkUrlInternalLink:function(){var t=window.location.hash,i=e(t);if(i.length){var n=e(this).data("offset-y"),r=void 0!==n?n:100,s=e(".header"),a=e(".s-alert-wrap"),o=a.length?a.outerHeight():0,c=s.outerHeight();e([document.documentElement,document.body]).animate({scrollTop:i.offset().top-r-c-o},1e3)}},getHeaderHeight:function(){return e(".header").outerHeight()},toFocus:function(t){e(".toFocus").on("touchstart",(function(){e(this).focus()}))},toFocusThis:function(t){e(t).on("touchstart",(function(){e(this).focus()}))},googleMapsReady:function(){e(document).trigger("google-map-ready")},toggleMaxHeight:function(){e("body").on("click",".toggle-max-height:not(.doNotInit)",(function(t){t.preventDefault();var i=e(this);if(i.blur(),i.attr("href").indexOf("#")>=0){var n=e(i.attr("href"));n.length&&(i.toggleClass("opened"),i.blur(),api.fn.setMaxHeight(i,n))}})),e(document).on("window-resized",(function(t){e(".toggle-max-height:not(.doNotInit)").each((function(){var t=e(this);if(t.attr("href").indexOf("#")>=0){var i=e(t.attr("href"));i.length&&api.fn.setMaxHeight(t,i)}}))}))},setMaxHeight:function(t,i){api.fn.checkToShowToggleMaxHeightLnk(t,i);var n=parseInt(i.data("max-height")),r=e(i)[0].scrollHeight,s=r>n;t.is(":visible")?t.hasClass("opened")?s&&i.css("max-height",r).addClass("opened"):s?i.css("max-height",n).removeClass("opened"):i.removeAttr("style").addClass("opened"):i.removeAttr("style").addClass("opened")},checkToShowToggleMaxHeightLnk:function(t,i){if(i){api.fn.storeDataForToggleMaxHeight(t,i);var n=parseInt(i.data("max-height")),r=e(i)[0].scrollHeight;i.removeAttr("style").addClass("opened"),r<n?t.hide():t.show()}},storeDataForToggleMaxHeight:function(e,t){t&&!t.data("max-height")&&t.attr("data-max-height",t.css("max-height"))},localizeNum:function(e){var t=document.getElementsByTagName("html")[0].getAttribute("lang"),i="el"==t?".":",",n="el"==t?",":".",r=e.toString().split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,i),r.join(n)}}}(jQuery),function(e){e((function(){api.isTouch=e("html").hasClass("touchevents"),Breakpoint.init(),api.fn.checkTouchDevice(),api.fn.setWinInfo(),api.fn.toggleMaxHeight(),api.fn.checkUrlInternalLink(),api.fn.checkFontsIconsLoad(),e(".s-alert").alert(),e(".header").header(),e(".s-footer").footer(),e(".s-hero").hero(),e(".s-gallery").gallery(),e(".share-link").shareLink(),e(".s-article").article(),e(".s-teaser-carousel").teaserCarousel(),e(".s-carousel-double").carouselDouble(),e(".s-destination").destination(),e(".f-search-box").searchBox(),e(".s-trips-carousel").tripsCarousel(),e(".s-roadtrip-carousel").roadtripCarousel(),e(".s-experience").experience(),e(".s-theme-switcher").themeSwitcher(),e(".s-partners").partners(),e("body").charsRestrictions(),e("body").respBackground(),e("table",e(".b-article")).tablesResponsive(),e(".e-table-routes").tablesRoutes(),e(".e-table-prices, .e-table-prices-colored").tablesPrices(),e.each(jsCallbacks,(function(t,i){i(e)})),e(window).on("resize",(function(){})),e(window).on("load",(function(){}))}))}(jQuery);var Trip=function e(t,i,n,r,s,a,o,c,u,d,l,h,p,f,m,g,y,v){_classCallCheck(this,e),this.id=t,this.departurePortText=i,this.departurePort=n,this.arrivalPortText=r,this.arrivalPort=s,this.departureDate=a,this.passengersCount=c,this.vehiclesCount=u,this.petsCount=d,this.itinerary=l,this.cabins=h,this.berths=p,this.seats=[].concat(f),this.vehicles=m,this.pets=g,this.petsInCabins=y,this.roundTrip=v,this.openDate=o,this.render={menu_addCabins:!1},this.isValid=!1},Itinerary=function e(t,i,n,r,s,a,o,c,u,d,l,h,p,f,m){_classCallCheck(this,e),this.id=t,this.uniqueId=i,this.companyCode=n,this.companyName=r,this.hash=s,this.departureDateTime=a,this.departureLongDate=o,this.arrivalDateTime=c,this.arrivalLongDate=u,this.vessel=d,this.accommodation=l,this.isDomestic=h,this.supportsResidencyCode=p,this.availabilitySummary=f,this.basePrice=m},Cabin=function e(t,i,n,r,s,a,o,c){_classCallCheck(this,e),this.index=t,this.id=i,this.renderId=n,this.name=r,this.properties=s,this.passengers=a,this.accommodationType=o},Passenger=function e(t,i,n,r,s,a,o,c,u,d,l,h,p,f,m){_classCallCheck(this,e),this.index=t,this.id=i,this.seatType=n,this.discount=r,this.loyaltyCard=s,this.firstName=a,this.lastName=o,this.gender=""===c?0:c,this.passengerType=u,this.passport=d,this.documentId=l,this.nationality=h,this.birthDate=p,this.manCode=f,this.specialNeeds=m,this.isValid=!1},Vehicle=function e(t,i,n,r,s,a,o,c,u){_classCallCheck(this,e),this.index=t,this.id=i,this.vehicleType=n,this.discount=r,this.loyaltyCard=s,this.plateNumber=a,this.vehicleLength=o,this.documentId=c,this.vehicleGroup=u,this.trailer=null,this.isValid=!1},Contact=function e(){_classCallCheck(this,e),this.email=null,this.countryCode=null,this.phoneNumber=null,this.isValid=!1},Payment=function e(){_classCallCheck(this,e),this.agreeTerms=!1,this.agreeAgents=!1,this.agreeCovid=!1,this.subscribe=!1,this.isValid=!1,this.paymentMethod=""},Trailer=function e(t,i,n,r,s){_classCallCheck(this,e),this.id=t,this.trailerType=i,this.trailerLength=n,this.trailerPlateNumber=r,this.vehicleGroup=s,this.isValid=!1},LoyaltyCard=function e(t,i){_classCallCheck(this,e),this.code=t,this.birthYear=i},Discount=function e(t,i){_classCallCheck(this,e),this.discountId=t,this.companyCode=i},Pet=function e(t,i,n){_classCallCheck(this,e),this.index=t,this.id=i,this.petType=n,this.isValid=!1},CC=function e(t,i,n,r,s,a,o,c,u,d,l,h,p,f,m){_classCallCheck(this,e),this.cardholderName=t,this.email=i,this.billAddrLine1=n,this.billAddrLine2=r,this.billAddrLine3=s,this.billAddrPostCode=a,this.billAddrState=o,this.billAddrCity=c,this.billAddrCountry=u,this.mobilePhoneCode=d,this.mobilePhone=l,this.homePhoneCode=h,this.homePhone=p,this.workPhoneCode=f,this.workPhone=m,this.isValid=!1},store=new Vuex.Store({state:{booked:[],cc:new CC,contact:new Contact,payment:new Payment,currentStep:1,dictionary:void 0!==window.dictionaryData?window.dictionaryData:null,userId:null,reservationEndpoint:null,piraeusPaymentEndpoint:null,stateCreateBookingPlan:null,stateCreateBookingSchedule:null,companyDiscounts:[],quotes:[],price:null,tax:null,createBookingOnce:!1,paymentType:null,hashCreateBookingInventory:null,reservationToken:null,cancellationToken:null,hasPriceDifference:!1,paymentCode:"",deviceData:"",bookingUrl:""},mutations:{setCurrentStep:function(e,t){e.currentStep=t},setTrips:function(e,t){e.booked=[].concat(t)},setUserId:function(e,t){e.userId=t},setReservationEndpoint:function(e,t){e.reservationEndpoint=t},setPiraeusPaymentEndpoint:function(e,t){e.piraeusPaymentEndpoint=t},setStateCreateBookingPlan:function(e,t){e.stateCreateBookingPlan=t},setCompanyDiscounts:function(e,t){e.companyDiscounts=t},setQuotes:function(e,t){e.quotes=t},setPrice:function(e,t){e.price=t},setTax:function(e,t){e.tax=t},setStateCreateBookingSchedule:function(e,t){e.stateCreateBookingSchedule=t},setHashCreateBookingInventory:function(e,t){e.hashCreateBookingInventory=t},setReservationToken:function(e,t){e.reservationToken=t},setHasPriceDifference:function(e,t){e.hasPriceDifference=t},setCreateBookingOnce:function(e){e.createBookingOnce=!0},clearCreateBookingOnce:function(e){console.log("clearCreateBookingOnce"),e.createBookingOnce=!1},setDeviceData:function(e,t){e.deviceData=t},setPaymentCode:function(e,t){e.paymentCode=t},setCancellationToken:function(e,t){console.log("cancellationToken",t),e.cancellationToken=t},setPaymentType:function(e,t){e.paymentType=t},setBookingUrl:function(e,t){e.bookingUrl=t},setPets:function(e,t){for(var i=[],n=0;n<t;n++)i.push(new Pet(n,"pet"+n,""));e.booked.forEach((function(e){e.petsCount=t,e.pets=i}))},addPetsInCabins:function(e,t){if(e.booked.find((function(e){return e.id===t.tripId})).petsInCabins.findIndex((function(e){return e===t.petId}))>-1)return!1;e.booked.find((function(e){return e.id===t.tripId})).petsInCabins.push(t.petId)},removePetsInCabins:function(e,t){var i=e.booked.find((function(e){return e.id===t.tripId})).petsInCabins.findIndex((function(e){return e===t.petId}));if(-1===i)return!1;e.booked.find((function(e){return e.id===t.tripId})).petsInCabins.splice(i,1)},setDictionary:function(e,t){e.dictionary=t.dictionary},setItinerary:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).itinerary=t.itinerary},clearItinerary:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).itinerary=null},setDate:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).departureDate=t.departureDate},setSeats:function(e,t){for(var i=[],n=0;n<t;n++)i.push(new Passenger(n,"seat".concat(n),"","",null,"","",0,"","","","","","",!1));e.booked.forEach((function(e){e.passengersCount=t,e.seats=i}))},setVehicles:function(e,t){for(var i=[],n=0;n<t;n++)i.push(new Vehicle(n,"vehicle"+n,"","",null,"","","",0));e.booked.forEach((function(e){e.vehiclesCount=t,e.vehicles=i}))},setVehicle:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles[t.index]=t.vehicle},setVehicleIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles[t.index].isValid=t.isValid},setTrailerIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.find((function(e){return e.id===t.vehicleId})).trailer.isValid=t.isValid},setTrailer:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.find((function(e){return e.id===t.vehicleId})).trailer=t.trailer},setTrailerField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.find((function(e){return e.id===t.vehicleId})).trailer[t.field]=t.value},removeTrailer:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.find((function(e){return e.id===t.vehicleId})).trailer=null},addSeat:function(e,t){var i=e.booked.find((function(e){return e.id===t.tripId})).seats;i.push(t.passenger),i.sort((function(e,t){return e.index-t.index}))},setSeat:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).seats[t.index]=t.passenger},setSeatIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).seats[t.index].isValid=t.isValid},setBerthPassengerIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).berths.find((function(e){return e.renderId===t.renderId})).passengers[t.index].isValid=t.isValid},setCabinPassengerIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).cabins.find((function(e){return e.renderId===t.renderId})).passengers[t.index].isValid=t.isValid},removeSeat:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).seats.splice(t.index,1)},setSeatField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).seats.find((function(e){return e.id===t.passengerId}))[t.field]=t.value},copySeatField:function(e,t){e.booked.forEach((function(e){var i=e.seats.find((function(e){return e.id===t.passengerId}));if(void 0===i)return!1;i[t.field]=t.value}))},copySeatFieldByIndex:function(e,t){e.booked.forEach((function(e){var i=e.seats.find((function(e){return e.index===t.passengerIndex}));if(void 0===i)return!1;i[t.field]=t.value}))},setBerthPassengerField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).berths.find((function(e){return e.renderId===t.renderId})).passengers.find((function(e){return e.id===t.passengerId}))[t.field]=t.value},setCabinPassengerField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).cabins.find((function(e){return e.renderId===t.renderId})).passengers.find((function(e){return e.id===t.passengerId}))[t.field]=t.value},addBerth:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).berths.push(t.berth)},clearBerths:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).berths=[]},removeBerth:function(e,t){var i=e.booked.find((function(e){return e.id===t.tripId})).berths.findIndex((function(e){return e.renderId===t.renderId}));e.booked.find((function(e){return e.id===t.tripId})).berths.splice(i,1)},addCabin:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).cabins.push(t.cabin)},clearCabins:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).cabins=[]},removeCabin:function(e,t){var i=e.booked.find((function(e){return e.id===t.tripId})).cabins.findIndex((function(e){return e.renderId===t.renderId}));e.booked.find((function(e){return e.id===t.tripId})).cabins.splice(i,1)},setVehicleField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.find((function(e){return e.id===t.vehicleId}))[t.field]=t.value},copyVehicleField:function(e,t){e.booked.forEach((function(e){var i=e.vehicles.find((function(e){return e.id===t.vehicleId}));if(void 0===i)return!1;i[t.field]=t.value}))},removeVehicle:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles.splice(t.index,1)},clearVehicles:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).vehicles=[]},restoreVehicles:function(e,t){for(var i=[],n=0;n<t.vehiclesCount;n++)i.push(new Vehicle(n,"vehicle"+n,"","",null,"","","",0));e.booked.find((function(e){return e.id===t.tripId})).vehicles=i},setPetField:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).pets.find((function(e){return e.id===t.petId}))[t.field]=t.value},setPetIsValid:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).pets[t.index].isValid=t.isValid},removePet:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).pets.splice(t.index,1)},clearPets:function(e,t){e.booked.find((function(e){return e.id===t.tripId})).pets=[]},restorePets:function(e,t){for(var i=[],n=0;n<t.petsCount;n++)i.push(new Pet(n,"pet"+n,""));e.booked.find((function(e){return e.id===t.tripId})).pets=i},clearContact:function(e,t){e.contact=new Contact},setContactField:function(e,t){e.contact[t.field]=t.value},setContactIsValid:function(e,t){e.contact.isValid=t.isValid},clearPayment:function(e,t){e.payment=new Payment},setPaymentField:function(e,t){e.payment[t.field]=t.value},setPaymentIsValid:function(e,t){e.payment.isValid=t.isValid},setCCField:function(e,t){e.cc[t.field]=t.value}},getters:{getTrips:function(e){return function(){return e.booked}},getTripItineraryId:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).itinerary.id}},getTripCompanyCode:function(e){return function(t){var i=e.booked.find((function(e){return e.id===t})).itinerary;return null!==i?i.companyCode:null}},getSeatField:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===i})).seats[n][t]}},getSeatFieldById:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===i})).seats.find((function(e){return e.id===n}))[t]}},getSeatLoyaltyField:function(e){return function(t,i,n){var r=e.booked.find((function(e){return e.id===i})).seats[n].loyaltyCard;return null!=r?r[t]:""}},getSeats:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).seats}},getSeatsCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).seats.length}},getSeatsReservedLength:function(e){return function(t,i){return e.booked.find((function(e){return e.id===t})).seats.filter((function(e){return e.seatType===i})).length}},getPets:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).pets}},getPetsKennelReservedLength:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).pets.filter((function(e){return 1===e.petType})).length}},getPetsOnDeckCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).pets.filter((function(e){return 3===e.petType})).length}},getSeatsIsValid:function(e){return function(){return e.booked.every((function(e){return e.seats.every((function(e){return!0===e.isValid}))}))}},getBerths:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).berths}},getBerthPassengerField:function(e){return function(t,i,n,r){return e.booked.find((function(e){return e.id===i})).berths.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r}))[t]}},getBerthPassengerLoyaltyField:function(e){return function(t,i,n,r){return null!==e.booked.find((function(e){return e.id===i})).berths.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r})).loyaltyCard?e.booked.find((function(e){return e.id===i})).berths.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r})).loyaltyCard[t]:""}},getBerthsReservedLength:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===t})).berths.filter((function(e){return e.id===i&&e.accommodationType===n})).length}},getBerthsCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).berths.length}},getBerthsPassengersCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).berths.map((function(e){return e.passengers})).reduce((function(e,t){return e.concat(t)}),[]).length}},getCabins:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).cabins}},getCabinPassengerField:function(e){return function(t,i,n,r){return e.booked.find((function(e){return e.id===i})).cabins.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r}))[t]}},getCabinPassengerLoyaltyField:function(e){return function(t,i,n,r){return null!==e.booked.find((function(e){return e.id===i})).cabins.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r})).loyaltyCard?e.booked.find((function(e){return e.id===i})).cabins.find((function(e){return e.renderId===n})).passengers.find((function(e){return e.id===r})).loyaltyCard[t]:""}},getCabinsReservedLength:function(e){return function(t,i){return e.booked.find((function(e){return e.id===t})).cabins.filter((function(e){return e.id===i})).length}},getCabinsPetsCapacityMax:function(e){return function(t){return 2*e.booked.find((function(e){return e.id===t})).cabins.filter((function(e){return e.properties.includes("supportsPets")})).length}},getCabinsCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).cabins.length}},getCabinsPassengersCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).cabins.map((function(e){return e.passengers})).reduce((function(e,t){return e.concat(t)}),[]).length}},getCabinsIsValid:function(e){return function(){return e.booked.every((function(e){return e.cabins.every((function(e){return e.passengers.every((function(e){return!0===e.isValid}))}))}))}},getVehicles:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).vehicles}},getVehiclesCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).vehicles.length}},getVehicleField:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===i})).vehicles[n][t]}},getVehicleFieldById:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===i})).vehicles.find((function(e){return e.id===n}))[t]}},getVehicleLoyaltyField:function(e){return function(t,i,n){return null!==e.booked.find((function(e){return e.id===i})).vehicles[n].loyaltyCard?e.booked.find((function(e){return e.id===i})).vehicles[n].loyaltyCard[t]:""}},getVehiclesIsValid:function(e){return function(){return e.booked.every((function(e){return e.vehicles.every((function(e){return e.isValid&&(null===e.trailer||e.trailer.isValid)}))}))}},getTrailers:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).vehicles.map((function(e){return e.trailer}))}},getTrailer:function(e){return function(t,i){return e.booked.find((function(e){return e.id===t})).vehicles.find((function(e){return e.id===i})).trailer}},getTrailerField:function(e){return function(t,i,n){var r=e.booked.find((function(e){return e.id===i})).vehicles.find((function(e){return e.id===n})).trailer;return null!==r?r[t]:""}},getPetField:function(e){return function(t,i,n){return e.booked.find((function(e){return e.id===i})).pets[n][t]}},getPetIsStoredInCabins:function(e){return function(t,i){return e.booked.find((function(e){return e.id===t})).petsInCabins.includes(i)}},getPetsCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).pets.length}},getPetsStoredInCabinsCount:function(e){return function(t){return e.booked.find((function(e){return e.id===t})).pets.filter((function(e){return 2===e.petType})).length}},getPetsIsValid:function(e){return function(){return e.booked.every((function(e){return e.pets.every((function(e){return!0===e.isValid}))}))}},getContactField:function(e){return function(t){return e.contact[t]}},getContactIsValid:function(e){return function(){return!0===e.contact.isValid}},getPaymentField:function(e){return function(t){return e.payment[t]}},getPaymentIsValid:function(e){return function(){return!0===e.payment.isValid}},getCCField:function(e){return function(t){return e.cc[t]}}}}),mapState=Vuex.mapState,mapMutations=Vuex.mapMutations,mixins={data:function(){return{from:["ΞΏΟ","ΞΞ₯","ΞΟ","ΞΏΟ","Ξ±Ο","ΞΞ₯","ΞΟ","Ξ±Ο","Ξ΅Ο","ΞΞ₯","ΞΟ","Ξ΅Ο","Ξ±","Ξ","Ξ¬","Ξ","Ξ²","Ξ","Ξ³","Ξ","Ξ΄","Ξ","Ξ΅","Ξ","Ξ­","Ξ","ΞΆ","Ξ","Ξ·","Ξ","Ξ�","Ξ","ΞΈ","Ξ","ΞΉ","Ξ","Ξ―","Ξ","Ο","Ξ","Ξͺ","ΞΊ","Ξ","Ξ»","Ξ","ΞΌ","Ξ","Ξ½","Ξ","ΞΎ","Ξ","ΞΏ","Ξ","Ο","Ξ","Ο","Ξ ","Ο","Ξ‘","Ο","Ξ£","Ο","Ο","Ξ€","Ο","Ξ₯","Ο","Ξ","Ο","Ξ°","Ξ«","Ο","Ξ¦","Ο","Ξ§","Ο","Ξ¨","Ο","Ξ©","Ο","Ξ"],to:["ou","ou","ou","ou","au","au","au","au","eu","eu","eu","eu","a","a","a","a","b","b","g","g","d","d","e","e","e","e","z","z","i","i","i","i","th","th","i","i","i","i","i","i","i","k","k","l","l","m","m","n","n","ks","ks","o","o","o","o","p","p","r","r","s","s","s","t","t","y","y","y","y","y","y","y","f","f","x","x","ps","ps","o","o","o","o"]}},created:function(){},methods:{convertGreekToEnglish:function(e){if(!this.hasValue(e))return"";for(var t=0;t<this.from.length;t++)for(;-1!==e.indexOf(this.from[t]);)e=e.replace(this.from[t],this.to[t]);return e},arrayHasDuplicates:function(e){return new Set(e).size!==e.length},arraySum:function(e){return e.length?e.reduce((function(e,t){return e+t})):0},toUpperCase:function(e){return void 0!==e?e.toUpperCase():e},getAxiosConfig:function(){return{headers:{"Content-Type":"application/json"}}},getData:function(e){return void 0!==window[e]?window[e]:null},getDataText:function(e,t){if(void 0===window[e])return"";var i=window[e].find((function(e){return e.value===t}));return void 0===i?"":i.text},makeid:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*n));return t},validateFields:function(e){if(""===e)return!0;var t=[];return e.split(",").forEach((function(e,i){t.push(jQuery('*[name ="'.concat(e.trim(),'"]')).valid())})),!t.includes(!1)},getAllFields:function(e){var t=[];return jQuery("#".concat(e)).find(":input").each((function(){var e=jQuery(this).attr("name");""!==e&&void 0!==e&&t.push(e)})),t.join()},iniReCaptcha:function(e){var t=this;Vue.nextTick((function(){t.reCaptcha=jQuery(".e-g-recaptcha",e),grecaptcha.render(t.reCaptcha.attr("id"),{sitekey:t.reCaptcha.data("sitekey")})}))},scrollToError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Vue.nextTick((function(){jQuery([document.documentElement,document.body]).animate({scrollTop:jQuery(".alert").offset().top-e-200},500,"linear")}))},scrollToValidation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Vue.nextTick((function(){var t=jQuery(".s-booking-bar"),i=jQuery(".s-alert-wrap"),n=t.length?t.outerHeight():0,r=i.length?i.outerHeight():0,s=jQuery(".v-messages.error--text").first();if(!s.length)return!1;jQuery([document.documentElement,document.body]).animate({scrollTop:s.offset().top-e-n-r},500,"linear")}))},scrollToTop:function(){Vue.nextTick((function(){jQuery([document.documentElement,document.body]).animate({scrollTop:jQuery("html").offset().top},500,"linear")}))},scrollToElem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Vue.nextTick((function(){jQuery([document.documentElement,document.body]).animate({scrollTop:e.offset().top-t},500,"linear")}))},vSelectMouseDown:function(){var e=this,t=document.querySelectorAll(".v-input__slot");(t=Array.from(t)).forEach((function(t){t.addEventListener("mousedown",(function(i){e.menu_props="true"===t.getAttribute("aria-expanded")?{offsetY:!0,closeOnClick:!0}:{offsetY:!0,closeOnClick:!1}}))}))},getIndex:function(e){return e+1},hasValue:function(e){return null!=e&&""!==e},formatDate:function(e){var t=new Date(e),i=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),[r,i,n].join("-")},getRandomInt:function(e){return Math.floor(Math.random()*Math.floor(e))},getUrlVars:function(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,i,n){e[i]=n}));return e},getUrlParam:function(e,t){var i=t;return window.location.href.indexOf(e)>-1&&(i=this.getUrlVars()[e]),i},addDays:function(e,t){var i=new Date(Number(e));return i.setDate(e.getDate()+t),i},setBirthYears:function(){for(var e=(new Date).getFullYear(),t=[];e>=1920;)t.push(e--);return t},getValuesSteps:function(e,t,i){if(0===t)return[e];if(t<=e)return[e];for(var n=[];e<=t;)n.push(e),e=(10*e+10*i)/10;return n},checkAgeInRange:function(e,t,i){if(!this.hasValue(e)||!this.hasValue(t)||!this.hasValue(i))return!0;var n=new Date(e).getTime(),r=new Date(t).getTime(),s=new Date(i).getTime();return n>=r&&n<=s}}},mixinsBooking={created:function(){},methods:{getPiraeusPaymentPostUrl:function(e){return this.piraeusPaymentEndpoint.replace("{0}",e)},getReservationPostUrl:function(e){return this.reservationEndpoint.replace("{0}",e)},getUserSessionId:function(){return this.reservationEndpoint.split("/").pop()},setRequiresLoyaltyDataValidation:function(){var e=this;if(this.loyaltyCardDescriptionRules=[],!this.hasValue(this.discount))return this.$refs.form[0].validate(),!1;this.accommodationDiscounts.find((function(t){return t.id===e.discount})).requiresLoyaltyData&&(this.loyaltyCardDescriptionRules=[function(t){return!!t||e.dictionary.loyaltyRequired}],this.$refs.form[0].validate())},setRequiresDataValidation:function(){var e=this;if(this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],!this.hasValue(this.discount))return this.$refs.form[0].validate(),!1;this.accommodationDiscounts.find((function(t){return t.id===e.discount})).requiresData&&(this.documentIdRules=[function(t){return!!t||e.dictionary.documentIdRequired},function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],this.$refs.form[0].validate())},resetRequiresLoyaltyDataValidation:function(){this.loyaltyCardDescriptionRules=[]},resetRequiresDataValidation:function(){var e=this;this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}]},showErrorDialog:function(e){var t=this;if(this.errorDialog=!0,!this.hasValue(e)){var i=jQuery(".s-booking-bar").data("server-error-msg");return this.hasValue(i)||(i=jQuery("#v-booking-wizard").data("server-error-msg")),this.errorMsgs.push(i),this.errorMsgs=this.errorMsgs.filter((function(e,i){return t.errorMsgs.indexOf(e)===i})),!1}if(e.length)return this.errorMsgs=e,!1},getTripIndex:function(){var e=this;return e.booked.findIndex((function(t){return t.id===e.trip.id}))},getVehicleGroupIcon:function(e){var t="";switch(e){case 0:t="unknown";break;case 1:t="car";break;case 2:t="carbgt";break;case 3:t="moto";break;case 4:t="moto34";break;case 5:t="mbscmp";break;case 6:t="bgt";break;case 7:t="btr";break;case 8:t="trlcrv";break;default:t="unknown"}return"icon-vehicle-group-".concat(t)},stripCurrency:function(e){return e.replace("&euro;","").replace(",",".")}}},mixinsCC={created:function(){},methods:{sendCCPersonalData:function(){var e=this,t=this.getPiraeusPaymentPostUrl("CreatePiraeusPaymentReference"),i=JSON.stringify({reservationToken:this.reservationToken,country:this.cc.billAddrCountry,city:this.cc.billAddrCity,address01:this.cc.billAddrLine1,address02:this.hasValue(this.cc.billAddrLine2)?this.cc.billAddrLine2:"",address03:this.hasValue(this.cc.billAddrLine3)?this.cc.billAddrLine3:"",region:this.hasValue(this.cc.billAddrState)?this.cc.billAddrState:"",postalCode:this.cc.billAddrPostCode,cardholderName:this.cc.cardholderName,email:this.cc.email,homePhone:"".concat(this.cc.homePhoneCode,"-").concat(this.cc.homePhone),workPhone:"".concat(this.cc.workPhoneCode,"-").concat(this.cc.workPhone),mobilePhone:"".concat(this.cc.mobilePhoneCode,"-").concat(this.cc.mobilePhone)});this.$root.$emit("payment-show-loader"),this.loadingConfirm=!0,axios.post(t,i,this.getAxiosConfig).then((function(t){var i=t.data,n=i.hasError,r=i.errorMessages,s=i.data;return n?(e.handleError(r),!1):e.hasValue(s.paymentUrl)?void(window.location.href=s.paymentUrl):(e.handleError(),!1)})).catch((function(t){e.handleError(),console.error(t)}))},setDefaultPhoneCodes:function(){this.$nextTick((function(){if(!this.ccPhoneCodesData.length)return!1;var e=this.ccPhoneCodesData[0].code;this.homePhoneCode=this.mobilePhoneCode=this.workPhoneCode=e}))},setPhoneCodeImageUrl:function(e,t){var i=this.ccPhoneCodesData.find((function(t){return t.code===e}));if(void 0===i)return t.style.removeProperty("background-image"),!1;t.style.backgroundImage="url(".concat(i.imageUrl,")")},getCCField:function(e){return store.getters.getCCField(e)},setCCField:function(e,t){this.$store.commit("setCCField",{field:e,value:t})},restBillAddrStateRules:function(){this.billAddrStateRules=[]},setCCValidateRules:function(){var e=this;this.cardholderNameRules=[function(t){return!!t||e.dictionary.cardholderNameRequired},function(t){return/^[/:_().,+\-a-zA-Z ]*$/.test(t)||e.dictionary.cardholderNameRegex},function(t){return!t||t.length>=2||e.dictionary.cardholderNameMinLength}],this.emailRules=[function(t){return!!t||e.dictionary.emailRequired},function(t){return/.+@.+\..+/.test(t)||e.dictionary.emailRegex}],this.billAddrLine1Rules=[function(t){return!!t||e.dictionary.billAddrLine1Required},function(t){return/^[/:_().,+\-A-Za-zΞ-Ξ©Ξ±-ΟΞ¬Ξ­Ξ―ΟΟΟΞ�ΟΟΞΞ°Ο0-9 ]*$/.test(t)||e.dictionary.billAddrLine1Regex}],this.billAddrLine2Rules=[function(t){return!t||/^[/:_().,+\-A-Za-zΞ-Ξ©Ξ±-ΟΞ¬Ξ­Ξ―ΟΟΟΞ�ΟΟΞΞ°Ο0-9 ]*$/.test(t)||e.dictionary.billAddrLine2Regex}],this.billAddrLine3Rules=[function(t){return!t||/^[/:_().,+\-A-Za-zΞ-Ξ©Ξ±-ΟΞ¬Ξ­Ξ―ΟΟΟΞ�ΟΟΞΞ°Ο0-9 ]*$/.test(t)||e.dictionary.billAddrLine3Regex}],this.billAddrCityRules=[function(t){return!!t||e.dictionary.billAddrCityRequired},function(t){return/^[/:_().,+\-A-Za-zΞ-Ξ©Ξ±-ΟΞ¬Ξ­Ξ―ΟΟΟΞ�ΟΟΞΞ°Ο0-9 ]*$/.test(t)||e.dictionary.billAddrCityRegex}],this.billAddrPostCodeRules=[function(t){return!!t||e.dictionary.billAddrPostCodeRequired}],this.billAddrCountryRules=[function(t){return!!t||e.dictionary.billAddrCountryRequired}],this.billAddrStateRules=this.billAddrStateData.length?[function(t){return!!t||e.dictionary.billAddrStateRequired}]:this.restBillAddrStateRules(),this.homePhoneRules=[function(t){return!!t||e.dictionary.homePhoneRequired},function(t){return/^[0-9]{1,15}$/.test(t)||e.dictionary.homePhoneRegex}],this.mobilePhoneRules=[function(t){return!!t||e.dictionary.mobilePhoneRequired},function(t){return/^[0-9]{1,15}$/.test(t)||e.dictionary.mobilePhoneRegex}],this.workPhoneRules=[function(t){return!!t||e.dictionary.workPhoneRequired},function(t){return/^[0-9]{1,15}$/.test(t)||e.dictionary.workPhoneRegex}],this.phoneCodeRules=[function(t){return!!t||e.dictionary.phoneCodeRequired}]},getCountryId:function(e){var t=this.ccCountriesData.find((function(t){return t.code===e}));return this.hasValue(t)?t.id:-1},getCountryStates:function(e){var t=this,i=this.getPiraeusPaymentPostUrl("getregions"),n=JSON.stringify({countryId:this.getCountryId(e)});this.$root.$emit("payment-show-loader"),axios.post(i,n,this.getAxiosConfig).then((function(e){var i=e.data,n=i.hasError,r=i.errorMessages,s=i.data;if(n)return t.handleError(r),!1;t.billAddrStateData=s,t.$root.$emit("payment-hide-loader")})).catch((function(e){t.handleError(),console.error(e)}))}}},mixinsBookingAvailability={created:function(){},methods:{getVehicleTypeAvailability:function(e,t,i,n){return 0!==t&&(i?this.getVehicleTypeAvailabilityPerMeter(e,t,n):this.getVehicleTypeAvailabilityPerItem(e,t))},getVehicleTypeAvailabilityPerItem:function(e,t){return e===this.vehicleType||t-this.vehiclesBooked.filter((function(t){return t.vehicleType===e})).length>0},getVehicleTypeAvailabilityPerMeter:function(e,t,i){var n=this,r=this.vehiclesBooked.filter((function(t){return t.vehicleType===e})).filter((function(e){return n.hasValue(e.vehicleLength)})).map((function(e){return e.vehicleLength})),s=this.arraySum(r);return e===this.vehicleType?t-s>=0:t-s-i>=0},getVehicleLengthAvailability:function(e,t,i,n,r){var s=this;if(void 0===i&&(i=0),!r)return!0;var a=this.vehiclesBooked.filter((function(e){return e.vehicleType===t})).filter((function(e){return s.hasValue(e.vehicleLength)})).map((function(e){return e.vehicleLength}));return this.arraySum(a)-i+e<=n},getTrailerTypeAvailability:function(e,t,i,n){return 0!==t&&(i?this.getTrailerTypeAvailabilityPerMeter(e,t,n):this.getTrailerTypeAvailabilityPerItem(e,t))},getTrailerTypeAvailabilityPerItem:function(e,t){var i=this;return e===this.trailerType||t-this.trailersBooked.filter((function(e){return i.hasValue(e)})).filter((function(t){return t.trailerType===e})).length>0},getTrailerTypeAvailabilityPerMeter:function(e,t,i){var n=this;if(e===this.trailerType)return!0;var r=this.trailersBooked.filter((function(e){return n.hasValue(e)})).filter((function(t){return t.trailerType===e})).filter((function(e){return n.hasValue(e.trailerLength)})).map((function(e){return e.trailerLength}));return t-this.arraySum(r)-i>=0},getTrailerLengthAvailability:function(e,t,i,n,r){var s=this;if(void 0===i&&(i=0),!r)return!0;var a=this.trailersBooked.filter((function(e){return s.hasValue(e)})).filter((function(e){return e.trailerType===t})).filter((function(e){return s.hasValue(e.trailerLength)})).map((function(e){return e.trailerLength}));return this.arraySum(a)-i+e<=n},getCabinAvailability:function(e,t){return t-store.getters.getCabinsReservedLength(this.trip.id,e)},getBerthAvailability:function(e,t,i){return t-store.getters.getBerthsReservedLength(this.trip.id,e,i)},getPetTypeKennelAvailability:function(){var e=this.pets.kennelAvailability;return 0!==e&&(!!this.hasValue(this.petType)||e-store.getters.getPetsKennelReservedLength(this.trip.id)>0)}}};if(Vue.filter("capitalize",(function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""})),Vue.filter("upper",(function(e){return e?(e=e.toString()).toUpperCase():""})),Vue.filter("price",(function(e){return e?(e=e.toString(),"β¬".concat(e)):""})),Vue.filter("formatDate",(function(e,t){if(!e)return null;var i=new Date(e),n=6e4*i.getTimezoneOffset();return new Date(i.getTime()+n).toLocaleDateString(t).replace(/\./g,"/")})),Vue.filter("datetime",(function(e){return e?(e=e.toString()).split(" ").pop():""})),Vue.component("v-spinner",{mixins:[mixins],props:["id","min","max","disabled","static","themematerial","trip","cabin","value","decimal"],data:function(){return{innerValue:this.value}},template:'\n        <div class="input-spinner" :class="{\'disabled\' : disabled, \'theme-material\' : themematerial, \'static\': static}">\n            <span class="input-spinner__ctrl input-spinner__ctrl--minus" :class="{\'disabled\': innerValue <= min}" @click="decrease()"></span>\n            <span class="input-spinner__val" v-if="!decimal">{{ innerValue }}</span>\n            <span class="input-spinner__val" v-if="decimal">{{ innerValue.toFixed(2) }}</span>\n            <span class="input-spinner__ctrl input-spinner__ctrl--plus" :class="{\'disabled\': innerValue >= max}" @click="increase()"></span>\n            <input type="number" v-model="innerValue" :id="id" :min="min" v-bind:disabled="disabled"/>\n        </div>\n    ',mounted:function(){this.$root.$on("spinner-clear-value",this.clearValue)},methods:{increase:function(){return!this.disabled&&(!(this.innerValue>=this.max)&&(this.decimal?this.innerValue=this.innerValue+.1:this.innerValue++,void this.$emit("spinner-value-change",this.innerValue,this.cabinId,this.accommodationType,this.capacity)))},decrease:function(){return!this.disabled&&(this.innerValue<=Number(this.min)?this.min:(this.decimal?this.innerValue=this.innerValue-.1:this.innerValue--,void this.$emit("spinner-value-change",this.innerValue,this.cabinId,this.accommodationType,this.capacity)))},clearValue:function(){if(!this.hasValue(this.cabin))return!1;this.innerValue=this.min},setValue:function(e,t,i){if(this.trip.id!==e||this.cabin.id!==t)return!1;this.innerValue=i}},computed:{cabinId:function(){return void 0!==this.cabin?this.cabin.id:null},accommodationType:function(){return void 0!==this.cabin?this.cabin.accommodationType:null},capacity:function(){return void 0!==this.cabin?this.cabin.capacity:null}},watch:{value:function(){this.innerValue=this.value}}}),Vue.component("v-spinner-length",{mixins:[mixins],props:["id","min","max","disabled","value"],data:function(){return{innerValue:this.value}},template:'\n        <div class="input-spinner themematerial" v-bind:class="{\'disabled\' : disabled}">\n            <span class="input-spinner__ctrl input-spinner__ctrl--minus" :class="{\'disabled\': innerValue <= min}" @click="decrease()"></span>\n            <span class="input-spinner__val">\n                {{ innerValue ? innerValue.toFixed(2) : "" }}\n            </span>\n            <span class="input-spinner__ctrl input-spinner__ctrl--plus" :class="{\'disabled\': innerValue >= max}" @click="increase()"></span>\n            <input type="text" v-model="innerValue" :id="id" :min="min" v-bind:disabled="disabled"/>\n        </div>\n    ',mounted:function(){this.$root.$on("spinner-clear-value",this.clearValue)},methods:{increase:function(){return!this.disabled&&(!(this.innerValue>=this.max)&&(this.innerValue=(10*this.innerValue+1)/10,void this.$emit("spinner-value-change",this.innerValue)))},decrease:function(){return!this.disabled&&(this.innerValue<=Number(this.min)?this.min:(this.innerValue=(10*this.innerValue-1)/10,void this.$emit("spinner-value-change",this.innerValue)))},clearValue:function(){this.innerValue=this.min}},computed:{},watch:{value:function(){this.innerValue=this.value}}}),Vue.component("v-booking-bar",{mixins:[mixins,mixinsBooking],props:["current_step","is_wizard_view","wizard_error","locale"],data:function(){return{isMounted:!1,isLoading:!1,portsLoaded:!1,portsLoading:!1,formValid:!0,serverErrorMsg:"",hasTripValues:!1,editable:!0,mobInfoExpanded:!1,multilegInfoPanel:!1,accommodationPanel:!1,currentdate:null,maxTrips:4,trips:[],unsubmittedChanges:!0,validatingUserData:!1,passengers:1,vehicles:0,pets:0,mobFormPassengers:1,mobFormVehicles:0,mobFormPets:0,ports:[]}},mounted:function(){var e=this;e.elem=jQuery(e.$el),e.isMounted=!0,e.currentdate=e.elem.data("currentdate"),e.serverErrorMsg=e.elem.data("server-error-msg");var t=e.elem.data("revervation-endpoint");this.$store.commit("setReservationEndpoint",t),this.$store.commit("setUserId",this.getUserSessionId()),e.$nextTick((function(){e.is_wizard_view||e.addTrip(),e.is_wizard_view&&("undefined"==typeof userData?e.$root.$emit("init-canceled"):e.disableEditMode()),e.initializePorts()})),e.elem.bookingBarPanels()},methods:{checkRequestedTrips:function(){"undefined"!=typeof userData&&(this.validatingUserData=!0,this.validateUserDataTrip(0),this.setPassengers(parseInt(userData.passengersCount)),this.setVehicles(parseInt(userData.vehiclesCount)),this.setPets(parseInt(userData.petsCount)),this.unsubmittedChanges=!1)},validateUserDataTrip:function(e){var t=this,i=userData.timetables[e];t.addTrip(),t.$nextTick((function(){var n=t.ports.find((function(e){return e.id==i.departurePort})),r=t.hasValue(n)?n.destinations.find((function(e){return e.id==i.arrivalPort})):null;t.hasValue(n)&&t.hasValue(r)?(t.trips[e].departurePort=t.hasValue(n)?n.id:null,t.trips[e].departurePortText=t.hasValue(n)?n.text:null,t.trips[e].arrivalPort=t.hasValue(r)?r.id:null,t.trips[e].arrivalPortText=t.hasValue(r)?r.text:null,t.trips[e].oneWayTrip=!userData.roundTrip,t.trips[e].departureDate=i.departureDate,t.getAvailableDates(e,"departure",(function(){t.trips[e].availableDates.departure.includes(i.departureDate)?(t.updatePickerInfo(e,i.departureDate,"departure"),t.trips[e].availableDates.departure.includes(i.departureDate)&&(userData.roundTrip&&(t.trips[e].returnDate=userData.timetables[e+1].departureDate),0===e&&t.getAvailableDates(e,"return",(function(){if(userData.roundTrip){if(!t.trips[e].availableDates.return.includes(userData.timetables[e+1].departureDate))return void t.$root.$emit("init-canceled");t.$nextTick((function(){t.validatingUserData=!1,t.userDataReady()}))}})),e<userData.timetables.length-1&&!userData.roundTrip&&t.validateUserDataTrip(e+1)),e===userData.timetables.length-1&&t.$nextTick((function(){t.validatingUserData=!1,t.userDataReady()}))):t.$root.$emit("init-canceled")})),t.trips[e].openReturnDate=i.openReturnDate):t.$root.$emit("init-canceled")}))},checkPredefinedArrivalPort:function(){var e=this,t=e.elem.data("arrival-port");t.length&&!e.is_wizard_view&&(e.trips[0].arrivalPort=t)},userDataReady:function(){this.formValid&&(this.$root.$emit("wizard-initialized"),this.storeTrips(),this.$emit("user-data-initialized"),this.setDataLayer())},postSearchQuery:function(){var e=this;if(!e.formValid)return!1;e.isLoading=!0;var t={passengersCount:e.passengers,vehiclesCount:e.vehicles,petsCount:e.pets,roundTrip:!1,timetables:[]};t.timetables=e.trips.map((function(e){return{departurePort:e.departurePort,arrivalPort:e.arrivalPort,departureDate:e.departureDate}})),1!=e.trips.length||e.trips[0].oneWayTrip||(t.roundTrip=!0,t.timetables.push({departurePort:e.trips[0].arrivalPort,arrivalPort:e.trips[0].departurePort,departureDate:e.trips[0].returnDate}));var i=this.getReservationPostUrl("CreateBookingPlan");axios.post(i,JSON.stringify(t),this.getAxiosConfig).then((function(t){var i=t.data;if(i.hasError){e.isLoading=!1;var n=i.errorMessages;e.$root.$emit("show-error-dialog",n)}else window.location.href=i.data.url})).catch((function(t){e.isLoading=!1,e.$root.$emit("show-error-dialog",null)}))},initializePorts:function(){var e=this;e.portsLoaded||e.getPorts((function(){e.checkRequestedTrips(),e.checkPredefinedArrivalPort()}))},getPorts:function(e){var t=this,i=this;i.$root.$emit("wizard-initializing"),i.portsLoading=!0;var n=this.getReservationPostUrl("GetPortNetwork"),r=JSON.stringify({});axios.post(n,r,this.getAxiosConfig).then((function(t){var n=t.data;if(n.hasError){var r=n.errorMessages;i.$root.$emit("show-error-dialog",r),i.$root.$emit("init-canceled")}else i.ports=n.data.ports,i.portsLoaded=!0,"function"==typeof e&&e();i.portsLoading=!1})).catch((function(e){t.isLoading=!1,i.portsLoading=!1,i.$root.$emit("init-canceled"),i.$root.$emit("show-error-dialog",null)}))},getAvailableDates:function(e,t,i){var n=this;if(n.hasValue(n.trips[e].departurePort)&&n.hasValue(n.trips[e].arrivalPort)&&void 0!==t){var r="departure"===t?n.trips[e].departurePort:n.trips[e].arrivalPort,s="departure"===t?n.trips[e].arrivalPort:n.trips[e].departurePort,a=JSON.stringify({departurePort:r,arrivalPort:s});n.trips[e].datepickerLoaders[t]=!0;var o=this.getReservationPostUrl("GetRouteFrequency");axios.post(o,a,this.getAxiosConfig).then((function(r){var s=r.data;if(n.trips[e].datepickerLoaders[t]=!1,s.hasError){n.trips[e].availableDates[t]=[];var a=s.errorMessages;n.$root.$emit("show-error-dialog",a),n.validatingUserData&&n.$root.$emit("init-canceled")}else n.trips[e].availableDates[t]=s.data.availableDates,n.$nextTick((function(){"departure"!==t||n.trips[e].availableDates[t].includes(n.trips[e].departureDate)||(n.trips[e].minReturnDate=n.trips[e].minDepartureDate),n.setFirstAvailableMonth(e,"departure"),n.setFirstAvailableMonth(e,"return")})),"function"==typeof i&&i();"departure"!==t||n.trips[e].availableDates[t].includes(n.trips[e].departureDate)?"return"!==t||n.trips[e].availableDates[t].includes(n.trips[e].returnDate)||(n.trips[e].returnDate=null):n.trips[e].departureDate=null})).catch((function(i){n.trips[e].datepickerLoaders[t]=!1,n.$root.$emit("show-error-dialog",null),console.log("An error occured",i),n.validatingUserData&&n.$root.$emit("init-canceled")}))}},updatePickerInfo:function(e,t,i){var n=this,r=_slicedToArray(t.split("-"),2),s=r[0],a=r[1];n.trips[e].datepickers[i].currentMonth=a,n.trips[e].datepickers[i].currentYear=s,"departure"==i?n.trips[e].monthPickerDeparture="".concat(s,"-").concat(a):"return"==i&&(n.trips[e].monthPickerReturn="".concat(s,"-").concat(a))},setFirstAvailableMonth:function(e,t){var i="departure"==t?this.trips[e].minDepartureDate:this.trips[e].minReturnDate;if(this.trips[e].selectableDates[t]=!0,this.hasValue(i)){var n=_slicedToArray(i.split("-"),3),r=n[0],s=n[1],a=n[2],o=new Date(parseInt(r),parseInt(s)-1,parseInt(a)),c=this.trips[e].availableDates[t].filter((function(e){var t=_slicedToArray(e.split("-"),3),i=t[0],n=t[1],r=t[2];return new Date(parseInt(i),parseInt(n)-1,parseInt(r)).getTime()>=o.getTime()}));if(c.length){var u="departure"==t?this.trips[e].departureDate:this.trips[e].returnDate;if(this.hasValue(u))this.updatePickerInfo(e,u,t);else{var d=_slicedToArray(c[0].split("-"),3),l=d[0],h=d[1],p=d[2],f=new Date(l,h,p).getTime()>=o.getTime()?"".concat(l,"-").concat(h):"".concat(r,"-").concat(s);this.updatePickerInfo(e,f,t)}}else this.trips[e].selectableDates[t]=!1}},addTrip:function(){var e=this;if(e.formValid&&(e.portsLoaded||!e.is_wizard_view)){var t=e.trips[e.trips.length-1],i=e.hasValue(t)&&!e.selectedDeparturePorts.includes(t.arrivalPort)?t.arrivalPort:null,n=null==i?null:t.arrivalPortText,r=e.hasValue(t)?t.departureDate:e.currentdate,s=e.currentdate,a=_slicedToArray(e.hasValue(t)?t.departureDate.split("-"):e.currentdate.split("-"),2),o=a[0],c=a[1],u=e.getYearDates(),d=new Date(e.currentdate).getFullYear(),l=new Date(e.currentdate).getMonth()+1;e.trips.push({departurePort:i,departurePortText:n,arrivalPort:null,arrivalPortText:null,departureDate:null,monthPickerDeparture:"".concat(o,"-").concat(c),returnDate:null,monthPickerReturn:null,openReturnDate:!1,oneWayTrip:!1,minDepartureDate:r,minReturnDate:s,datepickerLoaders:{departure:!1,return:!1},datepickers:{departure:{currentMonth:l,currentYear:d},return:{currentMonth:l,currentYear:d}},availableDates:{departure:u,return:u},selectableDates:{departure:!0,return:!0},isValid:!1}),e.trips.forEach((function(e,t){t>0&&(e.returnDate=null,e.oneWayTrip=!0,e.openReturnDate=!1)}))}},removeTrip:function(e){this.trips.splice(e,1),this.unsubmittedChanges=!0,1==this.trips.length&&(this.trips[0].oneWayTrip=!this.hasValue(this.trips[0].returnDate))},getYearDates:function(){for(var e=[],t=0;t<365;t++){var i=new Date(new Date(this.currentdate).setDate((new Date).getDate()+t)),n=i.getFullYear(),r=i.getMonth()+1<10?"0".concat(i.getMonth()+1):i.getMonth()+1,s=i.getDate()<10?"0".concat(i.getDate()):i.getDate();e.push("".concat(n,"-").concat(r,"-").concat(s))}return e},openNextPanel:function(e){var t=this;t.$nextTick((function(){t.elem.bookingBarPanels("openNextPanel",e)}))},clearPanels:function(){this.elem.bookingBarPanels("openNextPanel")},resetForm:function(){for(var e=this,t=e.trips.length-1;t>=1;t--)e.removeTrip(t);var i=_slicedToArray(e.currentdate.split("-"),2),n=i[0],r=i[1];e.trips[0].departurePort=null,e.trips[0].departurePortText=null,e.trips[0].arrivalPort=null,e.trips[0].arrivalPortText=null,e.trips[0].departureDate=null,e.trips[0].monthPickerDeparture="".concat(n,"-").concat(r),e.trips[0].returnDate=null,e.trips[0].monthPickerReturn=null,e.trips[0].openReturnDate=!1,e.trips[0].oneWayTrip=!1,e.trips[0].minDepartureDate=e.currentdate,e.trips[0].minReturnDate=e.currentdate,e.trips[0].datepickerLoaders={departure:!1,return:!1},e.trips[0].datepickers={departure:{currentMonth:null,currentYear:null},return:{currentMonth:null,currentYear:null}},e.trips[0].availableDates={departure:[],return:[]},e.trips[0].selectableDates={departure:!0,return:!0},e.trips[0].isValid=!1,e.setPassengers(1),e.setVehicles(0),e.setPets(0)},enableEditMode:function(){this.editable=!0,this.$emit("edit-mode-enabled")},disableEditMode:function(){this.editable=!1,this.$emit("edit-mode-disabled")},expandMobInfo:function(){this.mobInfoExpanded=!0},collapseMobInfo:function(){this.mobInfoExpanded=!1},checkNextTripsDate:function(e){var t=this,i=t.trips[e].departureDate;if(t.hasValue(i)){var n=_slicedToArray(t.hasValue(i)?i.split("-"):null,3),r=n[0],s=n[1],a=n[2],o=new Date(r,s,a);if(e<t.trips.length-1&&t.trips.length>1){t.trips[e+1].minDepartureDate=i;var c=t.trips[parseInt(e+1)].departureDate;if(null==c)t.updatePickerInfo(e+1,i,"departure");else{var u=_slicedToArray(c.split("-"),3),d=u[0],l=u[1],h=u[2],p=new Date(d,l,h);o.getTime()>p.getTime()&&(t.trips[e+1].departureDate=t.trips[e+1].availableDates.departure.includes(i)?i:null,t.updatePickerInfo(e+1,i,"departure"))}t.setFirstAvailableMonth(e+1,"departure")}if(1==t.trips.length){t.trips[0].minReturnDate=t.trips[0].departureDate;var f=t.trips[0].returnDate;if(t.hasValue(f)){var m=_slicedToArray(f.split("-"),3),g=m[0],y=m[1],v=m[2],b=new Date(g,y,v);o.getTime()>b.getTime()&&(t.trips[0].returnDate=t.trips[0].availableDates.return.includes(i)?i:null,t.updatePickerInfo(0,i,"return"))}else t.updatePickerInfo(0,i,"return");t.setFirstAvailableMonth(0,"return")}}},inputChanged:function(){this.unsubmittedChanges=!0},validateForm:function(){var e=!0;this.trips.forEach((function(t){t.isValid||(e=!1)})),this.formValid=e},checkFilledInputs:function(){var e=this,t=!1;e.trips.forEach((function(i){e.hasValue(i.departurePort)&&(t=!0)})),(e.passengers>1||e.vehicles>0||e.pets>0)&&(t=!0),e.hasTripValues=t},previousStep:function(){this.$emit("previous-step",this.current_step-1)},editPassengers:function(){this.$root.$emit("reset-validate"),this.$root.$emit("reset-retries"),this.$root.$emit("get-quote"),this.$store.commit("clearPayment"),this.$store.commit("clearCreateBookingOnce"),this.previousStep()},setPassengers:function(e){this.passengers=e,this.is_wizard_view&&this.$store.commit("setSeats",this.passengers)},setVehicles:function(e){this.vehicles=e,this.is_wizard_view&&this.$store.commit("setVehicles",this.vehicles)},setPets:function(e){this.pets=e,this.is_wizard_view&&this.$store.commit("setPets",this.pets)},setMobFormPassengers:function(e){this.mobFormPassengers=e},setMobFormVehicles:function(e){this.mobFormVehicles=e},setMobFormPets:function(e){this.mobFormPets=e},updateAccommodation:function(){this.setPassengers(this.mobFormPassengers),this.setVehicles(this.mobFormVehicles),this.setPets(this.mobFormPets),this.accommodationPanel=!1},generateSeats:function(){for(var e=[],t=0;t<this.passengers;t++)e.push(new Passenger(t,"seat".concat(t),"","",null,"","",0,"","","","","","",!1));return e},generateVehicles:function(){for(var e=[],t=0;t<this.vehicles;t++)e.push(new Vehicle(t,"vehicle"+t,"","",null,"","","",0));return e},generatePets:function(){for(var e=[],t=0;t<this.pets;t++)e.push(new Pet(t,"pet"+t,""));return e},storeTrips:function(){var e=this,t=[];e.trips.forEach((function(i,n){t.push(new Trip("".concat(i.departurePort,"-").concat(i.arrivalPort),i.departurePortText,i.departurePort,i.arrivalPortText,i.arrivalPort,i.departureDate,i.openReturnDate,e.passengers,e.vehicles,e.pets,null,[],[],e.generateSeats(),e.generateVehicles(),e.generatePets(),[],i.oneWayTrip)),i.oneWayTrip||t.push(new Trip("".concat(i.arrivalPort,"-").concat(i.departurePort),i.arrivalPortText,i.arrivalPort,i.departurePortText,i.departurePort,i.returnDate,i.openReturnDate,e.passengers,e.vehicles,e.pets,null,[],[],e.generateSeats(),e.generateVehicles(),e.generatePets(),[],!0))})),e.$store.commit("setTrips",t)},updateDatesFromStore:function(){var e=this;this.booked.forEach((function(t,i){i<=e.trips.length-1&&(e.trips[i].departureDate=t.departureDate),!t.roundTrip&&i>0&&(e.trips[parseInt(i-1)].returnDate=t.departureDate)}))},iniTripsSlick:function(){var e=this.elem.find(".s-booking-bar__booked");e.addClass("items-"+e.find(".s-booking-bar__dest__row__col").length),e.hasClass("slick-initialized")||this.elem.find(".s-booking-bar__booked").slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,prevArrow:"<a href='javascript:void(0)' class='slick-prev'></a>",nextArrow:"<a href='javascript:void(0)' class='slick-next'></a>",edgeFriction:0})},setDataLayer:function(){var e=this.booked[0],t={event:"formSubmission",formID:"Main Booking Form",trip:this.booked.map((function(e){return{dep_port:e.departurePortText,arr_port:e.arrivalPortText,dep_date:e.departureDate}})),passengers:e.passengersCount,vehicles:e.vehiclesCount,pets:e.petsCount};window.dataLayer=window.dataLayer||[],dataLayer.push(t)}},computed:_objectSpread(_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan}})),{},{selectedDeparturePorts:function(){var e=[];return this.trips.forEach((function(t){e.push(t.departurePort)})),e},selectedArrivalPorts:function(){var e=[];return this.trips.forEach((function(t){e.push(t.arrivalPort)})),e}}),watch:{trips:{deep:!0,handler:function(){this.validateForm(),this.checkFilledInputs()}},current_step:function(e,t){1==t&&2==e&&this.updateDatesFromStore(),e>=2&&this.$nextTick((function(){this.iniTripsSlick()}))},passengers:function(){this.mobFormPassengers=this.passengers,this.checkFilledInputs()},vehicles:function(){this.mobFormVehicles=this.vehicles,this.checkFilledInputs()},pets:function(){this.mobFormPets=this.pets,this.checkFilledInputs()}}}),Vue.component("v-booking-bar-trip",{mixins:[mixins],props:["ports","ports_loading","trip","selected_departure_ports","selected_arrival_ports","index","total_trips","locale","server_error_message","wizard_error","validating_user_data"],data:function(){return{noSelectableDatesMsg:"",swappingPorts:!1}},mounted:function(){var e=this;e.elem=jQuery(this.$el),e.noSelectableDatesMsg=e.elem.data("no-selectable-dates-msg"),e.validate()},methods:{availableDepartureDates:function(e){return this.availableDates.departure.includes(e)},availableReturnDates:function(e){if(this.supportsReturn)return this.availableDates.return.includes(e)},panelInputChanged:function(e){this.$nextTick((function(){this.$emit("panel-input-changed",e)}))},inputChanged:function(){this.$emit("input-changed")},oneWayTripChanged:function(e){var t=this;this.oneWayTrip&&setTimeout((function(){t.panelInputChanged(e)}),150)},openReturnDateChanged:function(e){this.openReturnDate&&this.panelInputChanged(e)},clearReturnDate:function(){this.returnDate=null,this.oneWayTrip=!0},swapPorts:function(){var e=this;if(e.swapAllowed){e.swappingPorts=!0;var t=e.departurePort,i=e.arrivalPort;e.departurePort=i,e.arrivalPort=t,e.$emit("available-dates-requested",e.index,"departure"),this.supportsReturn&&e.$emit("available-dates-requested",e.index,"return"),e.$nextTick((function(){e.swappingPorts=!1}))}},removeTrip:function(e){this.$emit("trip-removed",e)},validate:function(){var e=this.hasValue(this.departurePort),t=this.hasValue(this.arrivalPort),i=this.hasValue(this.departureDate),n=!this.supportsReturn||(this.hasValue(this.returnDate)||this.oneWayTrip||this.openReturnDate);this.isValid=e&&t&&i&&n},autocompletePorts:function(e,t,i){return e.terms.filter((function(e){return e.toLowerCase().startsWith(t.toLowerCase())})).length},hasValue:function(e){return null!=e&&!0}},computed:{departurePort:{get:function(){return this.trip.departurePort},set:function(e){this.trip.departurePort=e}},arrivalPort:{get:function(){return this.trip.arrivalPort},set:function(e){this.trip.arrivalPort=e}},departureDate:{get:function(){return this.trip.departureDate},set:function(e){this.trip.departureDate=e}},hasDepartureDate:function(){return this.hasValue(this.departureDate)},monthPickerDeparture:{get:function(){return this.trip.monthPickerDeparture},set:function(e){this.trip.monthPickerDeparture=e,this.$emit("month-picker-changed",this.index,e,"departure")}},returnDate:{get:function(){return this.trip.returnDate},set:function(e){this.trip.returnDate=e}},monthPickerReturn:{get:function(){return this.trip.monthPickerReturn},set:function(e){this.trip.monthPickerReturn=e,this.$emit("month-picker-changed",this.index,e,"return")}},oneWayTrip:{get:function(){return this.trip.oneWayTrip},set:function(e){this.trip.oneWayTrip=e}},openReturnDate:{get:function(){return this.trip.openReturnDate},set:function(e){this.trip.openReturnDate=e}},datepickerLoaders:{get:function(){return this.trip.datepickerLoaders},set:function(e){this.trip.datepickerLoaders=e}},datepickers:{get:function(){return this.trip.datepickers},set:function(e){this.trip.datepickers=e}},availableDates:{get:function(){return this.trip.availableDates},set:function(e){this.trip.availableDates=e}},selectableDates:{get:function(){return this.trip.selectableDates},set:function(e){this.trip.selectableDates=e}},noSelectableDepartureDatesMsg:function(){return this.noSelectableDatesMsg.replace("{0}",this.$options.filters.formatDate(this.minDepartureDate,this.locale))},noSelectableReturnDatesMsg:function(){return this.noSelectableDatesMsg.replace("{0}",this.$options.filters.formatDate(this.minReturnDate,this.locale))},isValid:{get:function(){return this.trip.isValid},set:function(e){this.trip.isValid=e}},minDepartureDate:{get:function(){return this.trip.minDepartureDate},set:function(e){this.trip.minDepartureDate=e}},maxDepartureDate:function(){return this.availableDates.departure[this.availableDates.departure.length-1]},minReturnDate:{get:function(){return this.trip.minReturnDate},set:function(e){this.trip.minReturnDate=e}},maxReturnDate:function(){return this.availableDates.return[this.availableDates.return.length-1]},departurePortsList:function(){var e=this;return e.ports.filter((function(t,i){var n=!0;e.hasValue(e.arrivalPort)&&(n=t.destinations.findIndex((function(t){return t.id===e.arrivalPort}))>=0);var r=e.selected_departure_ports.includes(t.id)&&t.id!=e.departurePort;return n&&!r}))},arrivalPortsList:function(){var e=this,t=this,i=[];if(t.hasValue(t.departurePort)){var n=t.ports.find((function(e){return e.id==t.departurePort}));i=t.ports.filter((function(t){return e.hasValue(n.destinations.find((function(e){return e.id===t.id})))}))}else i=_toConsumableArray(t.ports);return i.filter((function(e){return!(t.selected_arrival_ports.includes(e.id)&&e.id!=t.arrivalPort)}))},departurePortText:function(){var e=this,t=e.ports.find((function(t){return t.id==e.departurePort}));return void 0===t?"":t.text},arrivalPortText:function(){var e=this,t=e.ports.find((function(t){return t.id==e.arrivalPort}));return void 0===t?"":t.text},supportsReturn:function(){return 1==this.total_trips},swapAllowed:function(){var e=this,t=!e.selected_departure_ports.includes(e.arrivalPort),i=!e.selected_arrival_ports.includes(e.departurePort);return t&&i}},watch:{oneWayTrip:function(){this.openReturnDate=!1},openReturnDate:function(){this.returnDate=null},departureDate:function(){this.$emit("departure-date-changed",this.index)},hasDepartureDate:function(){this.hasValue(this.hasDepartureDate)&&this.index>0&&this.$emit("multileg-departure-date-changed",this.index)},departurePortText:function(){this.trip.departurePortText=this.departurePortText},arrivalPortText:function(){this.trip.arrivalPortText=this.arrivalPortText},departurePort:function(){this.swappingPorts||this.validating_user_data||(this.$emit("available-dates-requested",this.index,"departure"),this.supportsReturn&&this.$emit("available-dates-requested",this.index,"return"))},arrivalPort:function(){this.swappingPorts||this.validating_user_data||(this.$emit("available-dates-requested",this.index,"departure"),this.supportsReturn&&this.$emit("available-dates-requested",this.index,"return"))},trip:{deep:!0,handler:function(){this.validate()}},total_trips:function(){var e=this;if(e.supportsReturn&&null!=e.departureDate){var t=_slicedToArray(e.departureDate.split("-"),2),i=t[0],n=t[1];e.monthPickerReturn="".concat(i,"-").concat(n)}}}}),Vue.component("v-booking-stops",{mixins:[mixins],props:["stops","departure_index","arrival_index"],data:function(){return{lastStop:null}},template:'        \n        <div class="b-booking-stops">\n\n            <div class="b-booking-stops__head">\n                <div class="column">\n                    <span>{{ dictionary.stopsPascal }}</span>\n                </div>\n                <div class="column">\n                    <span>{{ dictionary.arrival }}</span>\n                </div>\n                <div class="column">\n                    <span>{{ dictionary.departure }}</span>\n                </div>\n            </div>\n\n            <div class="b-booking-stops__body">\n                <ul>\n                    <li v-for="(item,index) in stops"\n                        v-bind:key="item.id"\n                        v-bind:class="{\'stop-highlight\': index == departure_index || index == arrival_index + 1}">\n                        <div><span class="dot"></span><span>{{ getPortText(item, index) }}</span></div>\n                        <div><span>{{ getArrivalText(item, index) }}</span></div>\n                        <div><span>{{ getDepartureText(item, index) }}</span></div>\n                    </li>\n                    <li v-if="lastStop"\n                        v-bind:class="{\'stop-highlight\': arrival_index == this.stops.length - 1}">\n                        <div><span class="dot"></span><span>{{ lastStop.arrivalPort.text }}</span></div>\n                        <div><span>{{ lastStop.arrivalDateTime }}</span></div>\n                        <div></div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    ',mounted:function(){this.lastStop=this.stops.slice(this.stops.length-1,this.stops.length)[0]},methods:{getPortText:function(e,t){return e.departurePort.text},getArrivalText:function(e,t){return 0===t?"":this.stops[t-1].arrivalDateTime},getDepartureText:function(e,t){return e.departureDateTime}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-calendar",{mixins:[mixins],props:["trip","dates"],data:function(){return{}},mounted:function(){var e=this;jQuery(e.$el);e.$root.$on("dates-unslick",e.datesUnSlick)},methods:{clickCalendarNext:function(e){var t=jQuery(this.$el);if(!this.checkButtonState(e))return!1;this.unSlick(t);var i=this.addDays(new Date(this.dates.slice(-1)[0].date),1),n=this.addDays(new Date(this.dates.slice(-1)[0].date),7);this.$root.$emit("dates-changed",this.trip.id,this.formatDate(i),this.formatDate(n))},clickCalendarPrevious:function(e){var t=jQuery(this.$el);if(!this.checkButtonState(e))return!1;if(!this.disabledCalendarPrevious())return!1;this.unSlick(t);var i=this.addDays(new Date(this.dates[0].date),-7),n=this.addDays(new Date(this.dates[0].date),-1),r=new Date;r.setHours(0,0,0,0),i.setHours(0,0,0,0),r>i&&(console.log(),console.log("start_date is sooner than today"),i=r,n=this.addDays(i,6)),this.$root.$emit("dates-changed",this.trip.id,this.formatDate(i),this.formatDate(n))},setDateSelected:function(e){this.$emit("set-date-selected",e)},checkButtonState:function(e){return!(!e.target.classList.contains("slick-disabled")&&!e.target.classList.contains("slick-hidden"))},iniSlick:function(e){var t=this;Vue.nextTick((function(){t.slider=jQuery(".s-calendar__items",e),t.sliderPrev=jQuery(".s-calendar__previous",e),t.sliderNext=jQuery(".s-calendar__next",e),t.slider.slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:7,slidesToScroll:7,prevArrow:t.sliderPrev,nextArrow:t.sliderNext,accessibility:!1,responsive:[{breakpoint:992,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}]}),t.goToSlick(t.getSelectedDateIndex())}))},refreshSlick:function(e){var t=this;Vue.nextTick((function(){t.slider=jQuery(".s-calendar__items",e),t.slider.slick("refresh")}))},datesUnSlick:function(e){var t=jQuery(this.$el);if(this.trip.id!==e)return!1;this.unSlick(t)},unSlick:function(e){var t=this;Vue.nextTick((function(){if(t.slider=jQuery(".s-calendar__items",e),!t.slider.hasClass("slick-initialized"))return!1;t.slider.slick("unslick")}))},goToSlick:function(e){this.slider.slick("slickGoTo",e-1)},getSelectedDateIndex:function(){var e=this,t=this.booked.find((function(t){return t.id===e.trip.id})).departureDate;return this.dates.findIndex((function(e){return e.date===t}))+1},disabledCalendarPrevious:function(){if(!this.dates.length)return!1;var e=new Date;e.setHours(0,0,0,0);var t=new Date(this.dates[0].date);return t.setHours(0,0,0,0),!(e>=t)}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint}})),watch:{dates:function(){var e=jQuery(this.$el);this.iniSlick(e)}}}),Vue.component("v-booking-calendar-date",{mixins:[mixins],props:["trip","date"],data:function(){return{}},template:'        \n        <div class="b-booking-calendar"\n            v-bind:class="[ isSelected() ? \'is-selected\' : \'\', isDisabled() ? \'is-disabled\' : \'\' ]"\n            v-on:click="setDateSelected()">\n            <div class="b-booking-calendar__body">\n                <div class="day"><span>{{ date.weekDay }}</span></div>\n                <div class="date"><span>{{ date.dateShort }}</span></div>\n                \x3c!--<div class="price" v-show="!isDisabled() && date.priceInfo"><span v-html="date.priceInfo"></span></div>--\x3e\n                <div class="price"><span v-html="priceInfoHtml"></span></div>\n            </div>\n        </div>\n    ',mounted:function(){jQuery(this.$el)},methods:{setDateSelected:function(){return!this.isSelected()&&(!this.isDisabled()&&(this.$store.commit("setDate",{tripId:this.trip.id,departureDate:this.date.date}),this.$store.commit("clearItinerary",{tripId:this.trip.id}),this.$root.$emit("selected-date-changed",this.trip.id,this.date.date),void this.checkTimeline()))},checkTimeline:function(){var e,t=this;for(e=0;e<t.booked.length;e++){var i=e+1;if(void 0!==t.booked[i]){var n=new Date(t.booked[e].departureDate);if(new Date(t.booked[i].departureDate)<n){console.warn("arrival date is sooner than departure");var r=t.booked[i].id,s=t.booked[e].departureDate;t.$store.commit("setDate",{tripId:r,departureDate:s}),t.$store.commit("clearItinerary",{tripId:r}),t.$root.$emit("dates-unslick",r),t.$root.$emit("dates-changed",r)}}}},isSoonerThanPreviousSelected:function(){var e=this,t=e.booked.findIndex((function(t){return t.id===e.trip.id}));if(t<=0)return!1;var i=new Date(e.booked[t-1].departureDate);return new Date(e.date.date)<i},isSoonerThanToday:function(){var e=new Date;return e.setHours(0,0,0,0),new Date(this.date.date)<e},isSelected:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id&&t.departureDate===e.date.date}))},isDisabled:function(){return!this.date.hasTrips||this.isSoonerThanPreviousSelected()||this.isSoonerThanToday()},getStartDate:function(){return this.trip.dates[0].date},getEndDate:function(){return this.trip.dates.slice(-1).date}},computed:_objectSpread({priceInfoHtml:function(){return this.hasValue(this.date.priceInfo)?this.date.priceInfo:"&nbsp;"}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-itinerary",{mixins:[mixins],props:["itinerary","trip","index","itineraries_count","dates"],data:function(){return{dialog_availableOptions:!1,menu_stops:!1,isSuperEconomyOnce:!1}},mounted:function(){this.elem=jQuery(this.$el),1==this.itineraries_count&&this.setItinerarySelected()},methods:{isSelected:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id&&null!==t.itinerary&&t.itinerary.id===e.itinerary.id}))},setItinerarySelected:function(){this.itinerary.isSelectable&&(this.$store.commit("setItinerary",{tripId:this.trip.id,itinerary:new Itinerary(this.itinerary.id,this.itinerary.uniqueId,this.itinerary.companyCode,this.itinerary.companyName,this.itinerary.hash,this.itinerary.departureDateTime,this.itinerary.departureLongDate,this.itinerary.arrivalDateTime,this.itinerary.arrivalLongDate,this.itinerary.vessel,this.itinerary.accommodation,this.itinerary.isDomestic,this.itinerary.supportsResidencyCode,{seats:this.itinerary.availabilitySummary.seats,cabins:this.itinerary.availabilitySummary.cabins,vehicles:this.itinerary.availabilitySummary.vehicles},this.itinerary.basePrice)}),this.setNextTripExpanded(),this.$root.$emit("itinerary-selected",this.trip.id,this.itinerary.id))},setNextTripExpanded:function(){var e=this;setTimeout((function(){var t=e.booked.findIndex((function(t){return t.id===e.trip.id})),i=jQuery(".s-booking-trips__item").eq(t+1);if(!i.length)return!1;i.addClass("is-expanded"),jQuery("html").hasClass("touchevents")&&e.scrollToElem(i,150)}),500)}},computed:_objectSpread({isSuperEconomy:function(){var e=this.itinerary.departureDateTime;if(!this.hasValue(e))return!1;var t=e.split(" ")[0],i=this.itinerary.price,n=this.dates.find((function(e){return e.date===t}));if(!this.hasValue(n))return!1;var r=n.price;return!!this.hasValue(r)&&i<r},stopsDictionary:function(){return this.stopsCount>1?this.dictionary.stops:this.dictionary.stopsSingle},stopsDeprtureIndex:function(){var e=this;return this.itinerary.stops.findIndex((function(t){return t.departurePort.id===e.itinerary.departurePort.id}))},stopsArrivalIndex:function(){var e=this;return this.itinerary.stops.findIndex((function(t){return t.arrivalPort.id===e.itinerary.arrivalPort.id}))},stopsCount:function(){return this.stopsArrivalIndex-this.stopsDeprtureIndex}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan}})),watch:{isSuperEconomy:{immediate:!0,handler:function(e,t){void 0===t&&(this.isSuperEconomyOnce=e)}},menu_stops:function(){jQuery(".s-booking-trips__item").removeClass("hasOpenStopsPanel"),this.elem.parents(".s-booking-trips__item").addClass("hasOpenStopsPanel")}}}),Vue.component("v-booking-trip",{mixins:[mixins,mixinsBooking],props:["trips","trip","timetables","index","count"],data:function(){return{isLoading:!1,dates:[],itineraries:[]}},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},mounted:function(){this.$root.$on("dates-changed",this.getDates),this.$root.$on("itineraries-changed",this.getItineraries),this.getDates()},methods:{getItineraries:function(e){var t=this.trip.id.split("-"),i=t.slice(0,1)[0],n=t.slice(1,2)[0];if(e.length){var r=e.find((function(e){return e.timetable.departurePort===i&&e.timetable.arrivalPort===n}));this.hasValue(r)&&(this.itineraries=r.trips)}},getDates:function(e,t,i){var n=this;if(this.hasValue(e)&&this.trip.id!==e)return!1;var r=this.hasValue(t)&&this.hasValue(i);this.isLoading=!0;var s=this.getReservationPostUrl("GetRouteBestPrices"),a=JSON.stringify({state:this.stateCreateBookingPlan,departurePort:this.trip.departurePort,arrivalPort:this.trip.arrivalPort,startDate:r?t:this.getTripDatesRange(this.trip.departureDate).startDate});axios.post(s,a,this.getAxiosConfig).then((function(e){if(e.data.hasError)return n.handleError(e.data.errorMessages),!1;n.dates=e.data.data,n.isLoading=!1})).catch((function(e){n.handleError(),console.error(e)}))},isDateSelected:function(e,t){return this.booked.find((function(i){return i.id===e.id&&i.departureDate===t.date}))},getTripDatesRange:function(e){var t,i={startDate:null,endDate:null},n=new Date;if(n.setHours(0,0,0,0),n>(e=new Date(e)))return i;for(t=-3;t<=0;t++){var r=this.addDays(e,t);if(r>=n)break}var s=this.addDays(r,6);return i.startDate=this.formatDate(r),i.endDate=this.formatDate(s),i},handleError:function(e){this.isLoading=!1,this.$root.$emit("init-canceled")}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan}})),watch:{}}),Vue.component("v-booking-trip-header",{mixins:[mixins],props:["trip","count","index","hidepassengers"],data:function(){return{}},template:'        \n        <div class="b-booking-trip-header">\n\n            <div class="b-booking-trip-header__left">\n                <div class="e-label"><span>{{ typeName }}</span></div>\n                <div class="ports">\n                    <span>{{ departurePortText }}</span>\n                    <span class="icon-arrow-itinerary"></span>\n                    <span>{{ arrivalPortText }}</span>\n                </div>\n            </div>\n\n            <div class="b-booking-trip-header__right"\n                v-if="!hidepassengers">\n                <div class="passengers">\n                    <div class="icon-passenger"></div>\n                    <span>{{ passengersCount }} {{ passengersText }}</span>\n                </div>\n            </div>\n        </div>\n    ',mounted:function(){},methods:{atLeastOneTripIsRoundTrip:function(){return this.booked.find((function(e){return e.roundTrip}))}},computed:_objectSpread({passengersCount:function(){return this.trip.passengersCount},passengersText:function(){return 1===this.passengersCount?this.dictionary.passengersSingle:this.dictionary.passengers},seatsText:function(){return 1===this.seatsCount?this.dictionary.seatsSingle:this.dictionary.seats},cabinsText:function(){return 1===this.cabinsCount?this.dictionary.cabinsSingle:this.dictionary.cabins},departurePortText:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id})).departurePortText},arrivalPortText:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id})).arrivalPortText},typeName:function(){return 1===this.count?this.dictionary.onewayUpper:2===this.count&&this.atLeastOneTripIsRoundTrip()?0===this.index?this.dictionary.departureUpper:this.dictionary.returnUpper:"".concat(this.dictionary.itineraryUpper," ").concat(this.getIndex(this.index))},seatsCount:{get:function(){return store.getters.getSeatsCount(this.trip.id)},set:function(e){}},cabinsCount:{get:function(){return store.getters.getCabinsCount(this.trip.id)},set:function(e){}}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-trip-vehicles",{mixins:[mixins],props:["trip"],data:function(){return{}},mounted:function(){this.$root.$on("itinerary-selected",this.checkVehicles)},beforeDestroy:function(){this.$root.$off("itinerary-selected",this.checkVehicles)},methods:{checkVehicles:function(e){if(this.trip.id!==e)return!1;this.vehiclesAvailable?this.$store.commit("restoreVehicles",{tripId:this.trip.id,vehiclesCount:this.trip.vehiclesCount}):this.$store.commit("clearVehicles",{tripId:this.trip.id})}},computed:_objectSpread(_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),{},{itinerary:function(){return this.trip.itinerary},vehiclesNoAvailable:function(){return null!==this.itinerary&&0===this.itinerary.availabilitySummary.vehicles},vehiclesAvailable:function(){return null!==this.itinerary&&(this.itinerary.availabilitySummary.vehicles>0&&this.itinerary.vessel.hasGarage&&this.itinerary.accommodation.vehicles.length)},isVehiclesEnabled:function(){return null!==this.itinerary&&(this.trip.vehicles.length&&this.itinerary.availabilitySummary.vehicles>0&&this.itinerary.vessel.hasGarage&&this.itinerary.accommodation.vehicles.length)}}),watch:{}}),Vue.component("v-booking-trip-pets",{mixins:[mixins],props:["trip"],data:function(){return{}},mounted:function(){this.$root.$on("itinerary-selected",this.checkPets)},beforeDestroy:function(){this.$root.$off("itinerary-selected",this.checkPets)},methods:{checkPets:function(e){if(this.trip.id!==e)return!1;this.petsAvailable?this.$store.commit("restorePets",{tripId:this.trip.id,petsCount:this.trip.petsCount}):this.$store.commit("clearPets",{tripId:this.trip.id})}},computed:_objectSpread({showDisclaimer:function(){return store.getters.getPetsOnDeckCount(this.trip.id)>0},itinerary:function(){return this.trip.itinerary},petsAvailable:function(){return null!==this.itinerary&&this.itinerary.accommodation.pets.isSupported},isPetsEnabled:function(){return null!==this.itinerary&&(this.trip.pets.length&&this.itinerary.accommodation.pets.isSupported)}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-trip-cabins-berths",{mixins:[mixins],props:["trip","trips","index","nationalities","locale"],data:function(){return{isDisabledAddCabins:!1}},mounted:function(){this.$root.$on("cabins-no-results-found",this.setAddCabinsAsDisabled)},methods:{setAddCabinsAsDisabled:function(e,t){if(this.trip.id!==e)return!1;this.isDisabledAddCabins=t},showCabinsMenu:function(){var e=this;this.$nextTick((function(){setTimeout((function(){jQuery(".b-booking-add-cabins").filter(":visible").length&&e.scrollToElem(jQuery(".b-booking-add-cabins").filter(":visible"),e.getOffsetYToScroll()+20)}),200)}))},getOffsetYToScroll:function(){var e=jQuery(".s-alert-wrap");return 150+(e.length?e.outerHeight():0)}},computed:_objectSpread({showDisclaimer:function(){return store.getters.getBerthsCount(this.trip.id)>1},itinerary:function(){return this.trip.itinerary},hasCabinsOrBerths:function(){return this.trip.cabins.length||this.trip.berths.length},hasCabinsAndBerths:function(){return this.trip.cabins.length&&this.trip.berths.length},hasCabins:function(){return this.trip.cabins.length},hasCabinsMultiple:function(){return this.trip.cabins.length&&this.trip.cabins.length>1},hasBerths:function(){return this.trip.berths.length},hasBerthsMultiple:function(){return this.trip.berths.length&&this.trip.berths.length>1},cabinsNoAvailable:function(){return null!==this.itinerary&&0===this.itinerary.availabilitySummary.cabins},isCabinsEnabled:function(){return null!==this.itinerary&&(this.itinerary.vessel.hasCabins&&this.itinerary.availabilitySummary.cabins>0&&(this.itinerary.accommodation.berths.length||this.itinerary.accommodation.cabins.length))}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-seat",{mixins:[mixins,mixinsBooking],props:["trip","passenger","index","nationalitiesData","locale"],data:function(){var e=this;return{menu_props:{offsetY:!0,closeOnClick:!1},menuAddLoyalty:!1,menuManCode:!1,menuBirthDate:!1,menuSpecialCare:!1,menuDocumentId:!1,menuDiscount:!1,valid:!0,validLoyalty:!0,validManCode:!0,loadingLoyalty:!1,loadingManCode:!1,loadingSeat:!1,gendersData:[],loyaltyCode:"",loyaltyBirthYear:null,loyaltyBirthYears:[],manCode:"",priceStart:"-",birthDateMinYear:null,birthDateMaxYear:null,maxPassengerAge:120,seatTypeRules:[],firstNameRules:[],lastNameRules:[],genderRules:[],passengerTypeRules:[],passportRules:[],documentIdRules:[],nationalityRules:[],birthDateRules:[],loyaltyCardDescriptionRules:[],loyaltyCodeRules:[function(t){return!!t||e.dictionary.loyaltyCodeRequired},function(t){return/^[0-9]{11}$/.test(t)||e.dictionary.loyaltyCodeRegex}],loyaltyBirthYearRules:[function(t){return!!t||e.dictionary.loyaltyBirthYearRequired}],manCodeRules:[function(t){return!!t||e.dictionary.manCodeRequired},function(t){return/^[0-9]{9,10}$/.test(t)||e.dictionary.manCodeRegex}]}},mounted:function(){this.vSelectMouseDown(),this.setBirthDateRange(this.passengerType),this.iniGendersData(),this.loyaltyBirthYears=this.setLoyaltyBirthYears(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice),this.setSelectedFlag()},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{copySeatField:function(e,t,i){this.$store.commit("copySeatField",{field:e,value:t,passengerId:this.passenger.id})},iniGendersData:function(){this.gendersData=[{text:this.dictionary.genderMale,value:1},{text:this.dictionary.genderFemale,value:2}]},getPassengerTypeRange:function(e){if(!this.hasValue(this.accommodation))return null;var t=this.accommodation.passengerTypes.find((function(t){return t.id===e}));if(!this.hasValue(t))return null;var i=null===t.maxAge?this.maxPassengerAge:t.maxAge;return{minAge:t.minAge,maxAge:i}},setBirthDateRange:function(e){var t=this.getPassengerTypeRange(e);null===t&&(t={minAge:0,maxAge:99});var i=new Date;i.setFullYear(i.getFullYear()-t.maxAge-1);var n=new Date;n.setFullYear(n.getFullYear()-t.minAge),n.setDate(n.getDate()-1),this.birthDateMinYear="".concat(i.getFullYear(),"-").concat(("0"+(i.getMonth()+1)).slice(-2),"-").concat(("0"+i.getDate()).slice(-2)),this.birthDateMaxYear="".concat(n.getFullYear(),"-").concat(("0"+(n.getMonth()+1)).slice(-2),"-").concat(("0"+n.getDate()).slice(-2))},setLoyaltyBirthYears:function(e,t){for(var i=this.hasValue(e)?e:(new Date).getFullYear(),n=this.hasValue(t)?t:i-this.maxPassengerAge,r=[],s=i;s>=n;)r.push(s--);return r},getSeatTypeAvailability:function(e,t){return 0!==t&&(e===this.seatType||t-store.getters.getSeatsReservedLength(this.trip.id,e)>0)},setPrice:function(e){var t=this;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId}));if(void 0!==i){var n=i.accommodationPrices.find((function(e){return e.id===t.passenger.id}));if(void 0!==n)return this.priceStart=n.price,!1}this.setBasePrice()}this.setBasePrice()},setBasePrice:function(){var e=this;if(this.hasValue(this.seatType))return this.priceStart=this.accommodation.seats.find((function(t){return t.id===e.seatType})).basePrice,!1;this.priceStart="-"},getQuote:function(){this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.seatTypeRules=[function(t){return!!t||e.dictionary.seatTypeRequired}],this.firstNameRules=[function(t){return!!t||e.dictionary.firstNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.firstNameRegex}],this.lastNameRules=[function(t){return!!t||e.dictionary.lastNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.lastNameRegex}],this.genderRules=[function(t){return!!t||e.dictionary.genderRequired}],this.passengerTypeRules=[function(t){return!!t||e.dictionary.passengerTypeRequired}],this.passportRules=[function(t){return!t||/^[0-9]{9,10}$/.test(t)||e.dictionary.passportRegex}],this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],this.nationalityRules=[function(t){return!!t||e.dictionary.nationalityRequired},function(t){return/^[A-Z]{2}$/.test(t)||e.dictionary.nationalityRegex}],this.birthDateRules=[function(t){return!!t||e.dictionary.birthDateRequired}],this.loyaltyCardDescriptionRules=[],this.setRequiresLoyaltyDataValidation(),this.setRequiresDataValidation()},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form[0]&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form[0].validate(),e.$store.commit("setSeatIsValid",{tripId:e.trip.id,index:e.index,isValid:e.valid})}))))},removeSeat:function(){var e=this;this.$store.commit("removeSeat",{tripId:this.trip.id,index:this.index}),setTimeout((function(){e.$root.$emit("get-quote")}))},addManCode:function(){var e=this;if(void 0===this.$refs.formManCode[0])return!1;if(!this.$refs.formManCode[0].validate())return!1;this.loadingManCode=!0;var t=this.getReservationPostUrl("ValidateResidencyCode"),i=JSON.stringify({manCode:this.manCode});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrormanCode(t.data.errorMessages),!1;e.loadingManCode=!1,e.menuManCode=!1,e.applyManCodeFields(t.data.data),e.$store.commit("setSeatField",{field:"manCode",value:e.manCode,tripId:e.trip.id,passengerId:e.passenger.id}),e.copySeatField("manCode",e.manCode)})).catch((function(t){e.handleErrormanCode(),console.error(t)}))},applyManCodeFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.passengerHasLoyalty&&(this.gender=null,this.birthDate=null,this.nationality=null)},addLoyalty:function(){var e=this;if(void 0===this.$refs.formLoyalty[0])return!1;if(!this.$refs.formLoyalty[0].validate())return!1;this.loadingLoyalty=!0;var t=this.getReservationPostUrl("ValidateLoyaltyCard"),i=JSON.stringify({cardNumber:this.loyaltyCode,birthYear:this.loyaltyBirthYear});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrorLoyalty(t.data.errorMessages),!1;e.loadingLoyalty=!1,e.menuAddLoyalty=!1,e.passengerHasManCode||e.applyLoyaltyFields(t.data.data),e.$store.commit("setSeatField",{field:"loyaltyCard",value:new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear),tripId:e.trip.id,passengerId:e.passenger.id}),e.updateDocumentId(),0===e.getTripIndex()&&e.copySeatField("loyaltyCard",new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear))})).catch((function(t){e.handleErrorLoyalty(),console.error(t)}))},applyLoyaltyFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.hasValue(e.gender)&&e.gender>0&&(this.gender=e.gender),this.hasValue(e.birthDate)&&(this.birthDate=e.birthDate),this.hasValue(e.countryCode)&&(this.nationality=e.countryCode),this.$nextTick((function(){1!=this.countTotalLoyaltyCards()||this.hasValue(store.getters.getContactField("email"))||this.$store.commit("setContactField",{field:"email",value:e.email})}))},resetLoyaltyForm:function(){if(void 0===this.$refs.formLoyalty)return!1;this.$refs.formLoyalty[0].reset()},countTotalLoyaltyCards:function(){var e=this,t=0;return this.booked.forEach((function(i){var n=[],r=[];i.berths.forEach((function(e){n=n.concat(e.passengers)})),i.cabins.forEach((function(e){r=r.concat(e.passengers)})),[].concat(i.seats,n,r).forEach((function(i){e.hasValue(i.loyaltyCard)&&t++}))})),t},resetManCodeForm:function(){if(void 0===this.$refs.formManCode)return!1;this.$refs.formManCode[0].reset()},resetForm:function(){if(void 0===this.$refs.form[0])return!1;this.$refs.form[0].reset()},removeLoyalty:function(){this.resetLoyaltyForm(),this.$store.commit("setSeatField",{field:"loyaltyCard",value:null,tripId:this.trip.id,passengerId:this.passenger.id})},removeManCode:function(){this.resetManCodeForm(),this.$store.commit("setSeatField",{field:"manCode",value:null,tripId:this.trip.id,passengerId:this.passenger.id})},updateDocumentId:function(){var e=this,t=this.accommodationDiscounts.find((function(t){return t.id===e.passenger.discount}));this.hasValue(t)&&t.requiresData&&t.requiresLoyaltyData&&this.$store.commit("setSeatField",{field:"documentId",value:this.loyaltyCode,tripId:this.trip.id,passengerId:this.passenger.id})},handleErrorLoyalty:function(e){this.loadingLoyalty=!1,this.menuAddLoyalty=!1,this.$root.$emit("show-error-dialog",e)},handleErrormanCode:function(e){this.loadingManCode=!1,this.menuManCode=!1,this.$root.$emit("show-error-dialog",e)},setSelectedFlag:function(){this.$refs.nationality_select[0].$refs.input.style.backgroundImage="url(".concat(this.countryCodeFlag,")")}},computed:_objectSpread({isAdult:function(){var e=this;return null!==this.accommodation&&(!!this.hasValue(this.passengerType)&&this.accommodation.passengerTypes.find((function(t){return t.id===e.passengerType})).isAdult)},nationalities:function(){return this.nationalitiesData.map((function(e){return{text:e.name,value:e.code}}))},countryFlagsData:function(){var e=[];return this.nationalitiesData.forEach((function(t){e.push(t.imageUrl)})),e},countryCodeFlag:function(){var e=this,t=this.nationalitiesData.findIndex((function(t){return t.code===e.nationality}));return t>=0?this.countryFlagsData[t]:""},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},accommodationDiscounts:function(){return this.hasValue(this.accommodation)?this.accommodation.accommodationDiscounts:null},specifications:function(){var e=this;return this.hasValue(this.seatType)?this.accommodation.seats.find((function(t){return t.id===e.seatType})).specifications:[]},passengerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.passengerTypes.filter((function(t){return 1!=e.trip.passengersCount||t.isAdult})).map((function(e){return{text:e.name,value:e.id}}))},passengerTypesFiltered:function(){if(null===this.accommodation)return[];if(!this.hasValue(this.seatType))return[];var e=this.specifications.map((function(e){return e.passengerTypeId}));return this.passengerTypes.filter((function(t){return e.includes(t.value)}))},seatTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.seats.filter((function(t){return e.getSeatTypeAvailability(t.id,t.availability)})).map((function(e){return{text:e.name,value:e.id}}))},discounts:function(){return null===this.accommodation?[]:this.accommodationDiscounts.map((function(e){return{text:e.name,value:e.id}}))},discountsFiltered:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.seatType))return[];if(!this.hasValue(this.passengerType))return[];var t=this.specifications.find((function(t){return t.passengerTypeId===e.passengerType}));return this.hasValue(t)?this.discounts.filter((function(e){return t.discounts.includes(e.value)})):[]},isValidForPricing:function(){return this.hasValue(this.seatType)&&this.hasValue(this.passengerType)},seatType:{get:function(){return store.getters.getSeatField("seatType",this.trip.id,this.index)},set:function(e){var t=this;this.discount="",this.passengerType="",this.$store.commit("setSeatField",{field:"seatType",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),this.setPrice(),setTimeout((function(){t.getQuote()}))}},passengerType:{get:function(){return store.getters.getSeatField("passengerType",this.trip.id,this.index)},set:function(e){var t=this;this.setBirthDateRange(e),this.loyaltyBirthYears=this.setLoyaltyBirthYears(new Date(this.birthDateMaxYear).getFullYear(),new Date(this.birthDateMinYear).getFullYear()),this.discount="",this.removeManCode(),this.removeLoyalty(),this.$store.commit("setSeatField",{field:"passengerType",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),(this.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()}))}},discount:{get:function(){return store.getters.getSeatField("discount",this.trip.id,this.index)},set:function(e){var t=this;this.$store.commit("setSeatField",{field:"discount",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),this.updateDocumentId(),setTimeout((function(){(t.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()})),t.hasValue(e)||(t.resetRequiresLoyaltyDataValidation(),t.resetRequiresDataValidation(),t.$store.commit("setSeatField",{field:"documentId",value:"",tripId:t.trip.id,passengerId:t.passenger.id}))}))}},loyaltyCardDescription:{get:function(){return store.getters.getSeatLoyaltyField("code",this.trip.id,this.index)},set:function(e){}},manCodeDescription:{get:function(){return store.getters.getSeatField("manCode",this.trip.id,this.index)},set:function(e){}},firstName:{get:function(){return store.getters.getSeatField("firstName",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setSeatField",{field:"firstName",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("firstName",e)}},lastName:{get:function(){return store.getters.getSeatField("lastName",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setSeatField",{field:"lastName",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("lastName",e)}},gender:{get:function(){return store.getters.getSeatField("gender",this.trip.id,this.index)},set:function(e){this.$store.commit("setSeatField",{field:"gender",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("gender",e)}},passport:{get:function(){return store.getters.getSeatField("passport",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setSeatField",{field:"passport",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("passport",e)}},documentId:{get:function(){return store.getters.getSeatField("documentId",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setSeatField",{field:"documentId",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("documentId",e)}},nationality:{get:function(){return store.getters.getSeatField("nationality",this.trip.id,this.index)},set:function(e){this.$store.commit("setSeatField",{field:"nationality",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("nationality",e),0===this.getTripIndex()&&0===this.passenger.index&&this.hasValue(e)&&this.$root.$emit("nationality-changed",e)}},birthDate:{get:function(){return store.getters.getSeatField("birthDate",this.trip.id,this.index)},set:function(e){this.$store.commit("setSeatField",{field:"birthDate",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("birthDate",e)}},birthDateFormatted:function(){return this.$options.filters.formatDate(this.birthDate,this.locale)},specialNeeds:{get:function(){return store.getters.getSeatField("specialNeeds",this.trip.id,this.index)},set:function(e){this.$store.commit("setSeatField",{field:"specialNeeds",value:e,tripId:this.trip.id,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatField("specialNeeds",e)}},isDisabledPassengerType:function(){return!this.hasValue(this.seatType)},isDisabledDiscount:function(){return!this.hasValue(this.seatType)||!this.hasValue(this.passengerType)},isEnabledRemoveSeat:function(){return!!this.trip.roundTrip&&1!==store.getters.getSeatsCount(this.trip.id)},isDomestic:function(){return null===this.accommodation?null:this.trip.itinerary.isDomestic},passengerHasManCode:function(){return this.hasValue(store.getters.getSeatField("manCode",this.trip.id,this.index))},passengerHasLoyalty:function(){return this.hasValue(store.getters.getSeatField("loyaltyCard",this.trip.id,this.index))},companyCode:function(){return void 0!==this.trip&&null!=this.trip.itinerary?this.trip.itinerary.companyCode:null}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{menuBirthDate:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker[0].activePicker="YEAR"}))},nationality:function(e){this.setSelectedFlag()},passengerType:function(){this.checkAgeInRange(this.birthDate,this.birthDateMinYear,this.birthDateMaxYear)||(this.birthDate=null)},birthDate:function(e){!this.checkAgeInRange(e,this.birthDateMinYear,this.birthDateMaxYear)&&this.hasValue(e)&&(this.birthDate=null)}}}),Vue.component("v-booking-cabin-seat",{mixins:[mixins,mixinsBooking],props:["trip","cabin","passenger","index","nationalitiesData","locale"],data:function(){var e=this;return{menu_props:{offsetY:!0,closeOnClick:!1},menuAddLoyalty:!1,menuManCode:!1,menuBirthDate:!1,menuSpecialCare:!1,menuDocumentId:!1,menuDiscount:!1,valid:!0,validLoyalty:!0,validManCode:!0,loadingLoyalty:!1,loadingManCode:!1,loadingSeat:!1,gendersData:[],loyaltyCode:"",loyaltyBirthYear:null,loyaltyBirthYears:[],manCode:"",priceStart:"-",birthDateMinYear:null,birthDateMaxYear:null,maxPassengerAge:120,firstNameRules:[],lastNameRules:[],genderRules:[],passengerTypeRules:[],passportRules:[],documentIdRules:[],nationalityRules:[],birthDateRules:[],loyaltyCardDescriptionRules:[],loyaltyCodeRules:[function(t){return!!t||e.dictionary.loyaltyCodeRequired},function(t){return/^[0-9]{11}$/.test(t)||e.dictionary.loyaltyCodeRegex}],loyaltyBirthYearRules:[function(t){return!!t||e.dictionary.loyaltyBirthYearRequired}],manCodeRules:[function(t){return!!t||e.dictionary.manCodeRequired},function(t){return/^[0-9]{9,10}$/.test(t)||e.dictionary.manCodeRegex}]}},mounted:function(){this.vSelectMouseDown(),this.setBirthDateRange(this.passengerType),this.iniGendersData(),this.setBasePrice(),this.loyaltyBirthYears=this.setLoyaltyBirthYears(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice),this.setSelectedFlag()},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{copySeatFieldByIndex:function(e,t){this.$store.commit("copySeatFieldByIndex",{field:e,value:t,passengerIndex:this.passenger.index})},iniGendersData:function(){this.gendersData=[{text:this.dictionary.genderMale,value:1},{text:this.dictionary.genderFemale,value:2}]},getPassengerTypeRange:function(e){if(!this.hasValue(this.accommodation))return null;var t=this.accommodation.passengerTypes.find((function(t){return t.id===e}));if(!this.hasValue(t))return null;var i=null===t.maxAge?this.maxPassengerAge:t.maxAge;return{minAge:t.minAge,maxAge:i}},setBirthDateRange:function(e){var t=this.getPassengerTypeRange(e);null===t&&(t={minAge:0,maxAge:99});var i=new Date;i.setFullYear(i.getFullYear()-t.maxAge-1);var n=new Date;n.setFullYear(n.getFullYear()-t.minAge),n.setDate(n.getDate()-1),this.birthDateMinYear="".concat(i.getFullYear(),"-").concat(("0"+(i.getMonth()+1)).slice(-2),"-").concat(("0"+i.getDate()).slice(-2)),this.birthDateMaxYear="".concat(n.getFullYear(),"-").concat(("0"+(n.getMonth()+1)).slice(-2),"-").concat(("0"+n.getDate()).slice(-2))},setLoyaltyBirthYears:function(e,t){for(var i=this.hasValue(e)?e:(new Date).getFullYear(),n=this.hasValue(t)?t:i-this.maxPassengerAge,r=[],s=i;s>=n;)r.push(s--);return r},setPrice:function(e){var t=this;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId}));if(void 0!==i){var n=i.accommodationPrices.find((function(e){return e.id===t.passenger.id}));if(void 0!==n)return this.priceStart=n.price,!1}this.setBasePrice()}this.setBasePrice()},setBasePrice:function(){var e=this;this.priceStart=this.accommodation.cabins.find((function(t){return t.id===e.cabin.id})).basePrice},getQuote:function(){this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.firstNameRules=[function(t){return!!t||e.dictionary.firstNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.firstNameRegex}],this.lastNameRules=[function(t){return!!t||e.dictionary.lastNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.lastNameRegex}],this.genderRules=[function(t){return!!t||e.dictionary.genderRequired}],this.passengerTypeRules=[function(t){return!!t||e.dictionary.passengerTypeRequired}],this.passportRules=[function(t){return!t||/^[0-9]{9,10}$/.test(t)||e.dictionary.passportRegex}],this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],this.nationalityRules=[function(t){return!!t||e.dictionary.nationalityRequired},function(t){return/^[A-Z]{2}$/.test(t)||e.dictionary.nationalityRegex}],this.birthDateRules=[function(t){return!!t||e.dictionary.birthDateRequired}],this.loyaltyCardDescriptionRules=[],this.setRequiresLoyaltyDataValidation(),this.setRequiresDataValidation()},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form[0]&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form[0].validate(),e.$store.commit("setCabinPassengerIsValid",{tripId:e.trip.id,renderId:e.cabin.renderId,index:e.index,isValid:e.valid})}))))},addManCode:function(){var e=this;if(void 0===this.$refs.formManCode[0])return!1;if(!this.$refs.formManCode[0].validate())return!1;this.loadingManCode=!0;var t=this.getReservationPostUrl("ValidateResidencyCode"),i=JSON.stringify({manCode:this.manCode});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrormanCode(t.data.errorMessages),!1;e.loadingManCode=!1,e.menuManCode=!1,e.applyManCodeFields(t.data.data),e.$store.commit("setCabinPassengerField",{field:"manCode",value:e.manCode,tripId:e.trip.id,renderId:e.cabin.renderId,passengerId:e.passenger.id}),e.copySeatFieldByIndex("manCode",e.manCode)})).catch((function(t){e.handleErrormanCode(),console.error(t)}))},applyManCodeFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.passengerHasLoyalty&&(this.gender=null,this.birthDate=null,this.nationality=null)},addLoyalty:function(){var e=this;if(void 0===this.$refs.formLoyalty[0])return!1;if(!this.$refs.formLoyalty[0].validate())return!1;this.loadingLoyalty=!0;var t=this.getReservationPostUrl("ValidateLoyaltyCard"),i=JSON.stringify({cardNumber:this.loyaltyCode,birthYear:this.loyaltyBirthYear});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrorLoyalty(t.data.errorMessages),!1;e.loadingLoyalty=!1,e.menuAddLoyalty=!1,e.$store.commit("setCabinPassengerField",{field:"loyaltyCard",value:new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear),tripId:e.trip.id,renderId:e.cabin.renderId,passengerId:e.passenger.id}),e.passengerHasManCode||e.applyLoyaltyFields(t.data.data),e.copySeatFieldByIndex("loyaltyCard",new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear)),e.updateDocumentId()})).catch((function(t){e.handleErrorLoyalty(),console.error(t)}))},applyLoyaltyFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.hasValue(e.gender)&&e.gender>0&&(this.gender=e.gender),this.hasValue(e.birthDate)&&(this.birthDate=e.birthDate),this.hasValue(e.countryCode)&&(this.nationality=e.countryCode),1!=this.countTotalLoyaltyCards()||this.hasValue(store.getters.getContactField("email"))||this.$store.commit("setContactField",{field:"email",value:e.email})},resetLoyaltyForm:function(){if(void 0===this.$refs.formLoyalty)return!1;this.$refs.formLoyalty[0].reset()},countTotalLoyaltyCards:function(){var e=this,t=0;return this.booked.forEach((function(i){var n=[],r=[];i.berths.forEach((function(e){n=n.concat(e.passengers)})),i.cabins.forEach((function(e){r=r.concat(e.passengers)})),[].concat(i.seats,n,r).forEach((function(i){e.hasValue(i.loyaltyCard)&&t++}))})),t},resetManCodeForm:function(){if(void 0===this.$refs.formManCode)return!1;this.$refs.formManCode[0].reset()},resetForm:function(){if(void 0===this.$refs.form[0])return!1;this.$refs.form[0].reset()},removeLoyalty:function(){this.resetLoyaltyForm(),this.$store.commit("setCabinPassengerField",{field:"loyaltyCard",value:null,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id})},removeManCode:function(){this.resetManCodeForm(),this.$store.commit("setCabinPassengerField",{field:"manCode",value:null,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id})},updateDocumentId:function(){var e=this,t=this.accommodationDiscounts.find((function(t){return t.id===e.passenger.discount}));this.hasValue(t)&&t.requiresData&&t.requiresLoyaltyData&&this.$store.commit("setCabinPassengerField",{field:"documentId",value:this.loyaltyCode,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id})},handleErrorLoyalty:function(e){this.loadingLoyalty=!1,this.menuAddLoyalty=!1,this.$root.$emit("show-error-dialog",e)},handleErrormanCode:function(e){this.loadingManCode=!1,this.menuManCode=!1,this.$root.$emit("show-error-dialog",e)},setSelectedFlag:function(){this.$refs.nationality_select[0].$refs.input.style.backgroundImage="url(".concat(this.countryCodeFlag,")")}},computed:_objectSpread({isAdult:function(){var e=this;return null!==this.accommodation&&(!!this.hasValue(this.passengerType)&&this.accommodation.passengerTypes.find((function(t){return t.id===e.passengerType})).isAdult)},nationalities:function(){return this.nationalitiesData.map((function(e){return{text:e.name,value:e.code}}))},countryFlagsData:function(){var e=[];return this.nationalitiesData.forEach((function(t){e.push(t.imageUrl)})),e},countryCodeFlag:function(){var e=this,t=this.nationalitiesData.findIndex((function(t){return t.code===e.nationality}));return t>=0?this.countryFlagsData[t]:""},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},accommodationDiscounts:function(){return this.hasValue(this.accommodation)?this.accommodation.accommodationDiscounts:null},specifications:function(){var e=this;return this.accommodation.cabins.find((function(t){return t.id===e.cabin.id})).specifications},passengerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.passengerTypes.filter((function(t){return 1!=e.trip.passengersCount||t.isAdult})).map((function(e){return{text:e.name,value:e.id}}))},passengerTypesFiltered:function(){if(null===this.accommodation)return[];var e=this.specifications.map((function(e){return e.passengerTypeId}));return this.passengerTypes.filter((function(t){return e.includes(t.value)}))},discounts:function(){return null===this.accommodation?[]:this.accommodationDiscounts.map((function(e){return{text:e.name,value:e.id}}))},discountsFiltered:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.passengerType))return[];var t=this.specifications.find((function(t){return t.passengerTypeId===e.passengerType}));return this.hasValue(t)?this.discounts.filter((function(e){return t.discounts.includes(e.value)})):[]},isValidForPricing:function(){return this.hasValue(this.passengerType)},passengerType:{get:function(){return store.getters.getCabinPassengerField("passengerType",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){var t=this;this.setBirthDateRange(e),this.loyaltyBirthYears=this.setLoyaltyBirthYears(new Date(this.birthDateMaxYear).getFullYear(),new Date(this.birthDateMinYear).getFullYear()),this.discount="",this.removeManCode(),this.removeLoyalty(),this.$store.commit("setCabinPassengerField",{field:"passengerType",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),(this.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()}))}},discount:{get:function(){return store.getters.getCabinPassengerField("discount",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){var t=this;this.$store.commit("setCabinPassengerField",{field:"discount",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),this.updateDocumentId(),(this.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()})),this.hasValue(e)||(this.resetRequiresLoyaltyDataValidation(),this.resetRequiresDataValidation(),this.$store.commit("setCabinPassengerField",{field:"documentId",value:"",tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}))}},loyaltyCardDescription:{get:function(){return store.getters.getCabinPassengerLoyaltyField("code",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){}},manCodeDescription:{get:function(){return store.getters.getCabinPassengerField("manCode",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){}},firstName:{get:function(){return store.getters.getCabinPassengerField("firstName",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setCabinPassengerField",{field:"firstName",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("firstName",e)}},lastName:{get:function(){return store.getters.getCabinPassengerField("lastName",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setCabinPassengerField",{field:"lastName",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("lastName",e)}},gender:{get:function(){return store.getters.getCabinPassengerField("gender",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){this.$store.commit("setCabinPassengerField",{field:"gender",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("gender",e)}},passport:{get:function(){return store.getters.getCabinPassengerField("passport",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setCabinPassengerField",{field:"passport",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("passport",e)}},documentId:{get:function(){return store.getters.getCabinPassengerField("documentId",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setCabinPassengerField",{field:"documentId",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("documentId",e)}},nationality:{get:function(){return store.getters.getCabinPassengerField("nationality",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){this.$store.commit("setCabinPassengerField",{field:"nationality",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&0===this.passenger.index&&this.hasValue(e)&&this.$root.$emit("nationality-changed",e),0===this.getTripIndex()&&this.copySeatFieldByIndex("nationality",e)}},birthDate:{get:function(){return store.getters.getCabinPassengerField("birthDate",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){this.$store.commit("setCabinPassengerField",{field:"birthDate",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("birthDate",e)}},birthDateFormatted:function(){return this.$options.filters.formatDate(this.birthDate,this.locale)},specialNeeds:{get:function(){return store.getters.getCabinPassengerField("specialNeeds",this.trip.id,this.cabin.renderId,this.passenger.id)},set:function(e){this.$store.commit("setCabinPassengerField",{field:"specialNeeds",value:e,tripId:this.trip.id,renderId:this.cabin.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("specialNeeds",e)}},isDisabledPassengerType:function(){return!1},isDisabledDiscount:function(){return!this.hasValue(this.passengerType)},passengerHasManCode:function(){return this.hasValue(store.getters.getCabinPassengerField("manCode",this.trip.id,this.cabin.renderId,this.passenger.id))},passengerHasLoyalty:function(){return this.hasValue(store.getters.getCabinPassengerField("loyaltyCard",this.trip.id,this.cabin.renderId,this.passenger.id))},companyCode:function(){return void 0!==this.trip&&null!=this.trip.itinerary?this.trip.itinerary.companyCode:null},isDomestic:function(){return null===this.accommodation?null:this.trip.itinerary.isDomestic}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{menuBirthDate:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker[0].activePicker="YEAR"}))},nationality:function(e){this.setSelectedFlag()},passengerType:function(){this.checkAgeInRange(this.birthDate,this.birthDateMinYear,this.birthDateMaxYear)||(this.birthDate=null)},birthDate:function(e){!this.checkAgeInRange(e,this.birthDateMinYear,this.birthDateMaxYear)&&this.hasValue(e)&&(this.birthDate=null)}}}),Vue.component("v-booking-berth-seat",{mixins:[mixins,mixinsBooking],props:["trip","berth","passenger","index","nationalitiesData","locale"],data:function(){var e=this;return{menu_props:{offsetY:!0,closeOnClick:!1},menuAddLoyalty:!1,menuManCode:!1,menuBirthDate:!1,menuSpecialCare:!1,menuDocumentId:!1,menuDiscount:!1,valid:!0,validLoyalty:!0,validManCode:!0,loadingLoyalty:!1,loadingManCode:!1,loadingSeat:!1,gendersData:[],loyaltyCode:"",loyaltyBirthYear:null,loyaltyBirthYears:[],manCode:"",priceStart:"-",birthDateMinYear:null,birthDateMaxYear:null,maxPassengerAge:120,firstNameRules:[],lastNameRules:[],genderRules:[],passengerTypeRules:[],passportRules:[],documentIdRules:[],nationalityRules:[],birthDateRules:[],loyaltyCardDescriptionRules:[],loyaltyCodeRules:[function(t){return!!t||e.dictionary.loyaltyCodeRequired},function(t){return/^[0-9]{11}$/.test(t)||e.dictionary.loyaltyCodeRegex}],loyaltyBirthYearRules:[function(t){return!!t||e.dictionary.loyaltyBirthYearRequired}],manCodeRules:[function(t){return!!t||e.dictionary.manCodeRequired},function(t){return/^[0-9]{9,10}$/.test(t)||e.dictionary.manCodeRegex}]}},mounted:function(){this.vSelectMouseDown(),this.setBirthDateRange(this.passengerType),this.iniGendersData(),this.setBasePrice(),this.loyaltyBirthYears=this.setLoyaltyBirthYears(),this.setSelectedFlag(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice)},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{copySeatFieldByIndex:function(e,t){this.$store.commit("copySeatFieldByIndex",{field:e,value:t,passengerIndex:this.passenger.index})},iniGendersData:function(){var e=this;this.gendersData=[{text:this.dictionary.genderMale,value:1},{text:this.dictionary.genderFemale,value:2}],this.gendersData=this.gendersData.filter((function(t){return t.value===e.berth.accommodationType}))},getPassengerTypeRange:function(e){if(!this.hasValue(this.accommodation))return null;var t=this.accommodation.passengerTypes.find((function(t){return t.id===e}));if(!this.hasValue(t))return null;var i=null===t.maxAge?this.maxPassengerAge:t.maxAge;return{minAge:t.minAge,maxAge:i}},setBirthDateRange:function(e){var t=this.getPassengerTypeRange(e);null===t&&(t={minAge:0,maxAge:99});var i=new Date;i.setFullYear(i.getFullYear()-t.maxAge-1);var n=new Date;n.setFullYear(n.getFullYear()-t.minAge),n.setDate(n.getDate()-1),this.birthDateMinYear="".concat(i.getFullYear(),"-").concat(("0"+(i.getMonth()+1)).slice(-2),"-").concat(("0"+i.getDate()).slice(-2)),this.birthDateMaxYear="".concat(n.getFullYear(),"-").concat(("0"+(n.getMonth()+1)).slice(-2),"-").concat(("0"+n.getDate()).slice(-2))},setLoyaltyBirthYears:function(e,t){for(var i=this.hasValue(e)?e:(new Date).getFullYear(),n=this.hasValue(t)?t:i-this.maxPassengerAge,r=[],s=i;s>=n;)r.push(s--);return r},setPrice:function(e){var t=this;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId}));if(void 0!==i){var n=i.accommodationPrices.find((function(e){return e.id===t.passenger.id}));if(void 0!==n)return this.priceStart=n.price,!1}this.setBasePrice()}this.setBasePrice()},setBasePrice:function(){var e=this;this.priceStart=this.accommodation.berths.find((function(t){return t.id===e.berth.id})).basePrice},getQuote:function(){this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.firstNameRules=[function(t){return!!t||e.dictionary.firstNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.firstNameRegex}],this.lastNameRules=[function(t){return!!t||e.dictionary.lastNameRequired},function(t){return/^([A-Z]{2})(([\s]?)([A-Z]+)){0,}$/.test(t)||e.dictionary.lastNameRegex}],this.genderRules=[function(t){return!!t||e.dictionary.genderRequired}],this.passengerTypeRules=[function(t){return!!t||e.dictionary.passengerTypeRequired}],this.passportRules=[function(t){return!t||/^[0-9]{9,10}$/.test(t)||e.dictionary.passportRegex}],this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],this.nationalityRules=[function(t){return!!t||e.dictionary.nationalityRequired},function(t){return/^[A-Z]{2}$/.test(t)||e.dictionary.nationalityRegex}],this.birthDateRules=[function(t){return!!t||e.dictionary.birthDateRequired}],this.loyaltyCardDescriptionRules=[],this.setRequiresLoyaltyDataValidation(),this.setRequiresDataValidation()},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form[0]&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form[0].validate(),e.hasValue(e.berth)?e.$store.commit("setBerthPassengerIsValid",{tripId:e.trip.id,renderId:e.berth.renderId,index:e.index,isValid:e.valid}):e.$store.commit("setSeatIsValid",{tripId:e.trip.id,index:e.index,isValid:e.valid})}))))},addManCode:function(){var e=this;if(void 0===this.$refs.formManCode[0])return!1;if(!this.$refs.formManCode[0].validate())return!1;this.loadingManCode=!0;var t=this.getReservationPostUrl("ValidateResidencyCode"),i=JSON.stringify({manCode:this.manCode});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrormanCode(t.data.errorMessages),!1;e.loadingManCode=!1,e.menuManCode=!1,e.applyManCodeFields(t.data.data),e.$store.commit("setBerthPassengerField",{field:"manCode",value:e.manCode,tripId:e.trip.id,renderId:e.berth.renderId,passengerId:e.passenger.id}),e.copySeatFieldByIndex("manCode",e.manCode)})).catch((function(t){e.handleErrormanCode(),console.error(t)}))},applyManCodeFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.passengerHasLoyalty&&(this.gender=null,this.birthDate=null,this.nationality=null)},addLoyalty:function(){var e=this;if(void 0===this.$refs.formLoyalty[0])return!1;if(!this.$refs.formLoyalty[0].validate())return!1;this.loadingLoyalty=!0;var t=this.getReservationPostUrl("ValidateLoyaltyCard"),i=JSON.stringify({cardNumber:this.loyaltyCode,birthYear:this.loyaltyBirthYear});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrorLoyalty(t.data.errorMessages),!1;e.loadingLoyalty=!1,e.menuAddLoyalty=!1,e.$store.commit("setBerthPassengerField",{field:"loyaltyCard",value:new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear),tripId:e.trip.id,renderId:e.berth.renderId,passengerId:e.passenger.id}),e.passengerHasManCode||e.applyLoyaltyFields(t.data.data),e.copySeatFieldByIndex("loyaltyCard",new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear)),e.updateDocumentId()})).catch((function(t){e.handleErrorLoyalty(),console.error(t)}))},loyaltyGenderIsValid:function(e){return!(this.hasValue(e.gender)&&e.gender>0&&e.gender!==this.gender)},applyLoyaltyFields:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.hasValue(e.gender)&&e.gender>0&&(this.gender=e.gender),this.hasValue(e.birthDate)&&(this.birthDate=e.birthDate),this.hasValue(e.countryCode)&&(this.nationality=e.countryCode),1!=this.countTotalLoyaltyCards()||this.hasValue(store.getters.getContactField("email"))||this.$store.commit("setContactField",{field:"email",value:e.email})},resetLoyaltyForm:function(){if(void 0===this.$refs.formLoyalty)return!1;this.$refs.formLoyalty[0].reset()},countTotalLoyaltyCards:function(){var e=this,t=0;return this.booked.forEach((function(i){var n=[],r=[];i.berths.forEach((function(e){n=n.concat(e.passengers)})),i.cabins.forEach((function(e){r=r.concat(e.passengers)})),[].concat(i.seats,n,r).forEach((function(i){e.hasValue(i.loyaltyCard)&&t++}))})),t},resetManCodeForm:function(){if(void 0===this.$refs.formManCode)return!1;this.$refs.formManCode[0].reset()},resetForm:function(){if(void 0===this.$refs.form[0])return!1;this.$refs.form[0].reset()},removeLoyalty:function(){this.resetLoyaltyForm(),this.$store.commit("setBerthPassengerField",{field:"loyaltyCard",value:null,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id})},removeManCode:function(){this.resetManCodeForm(),this.$store.commit("setBerthPassengerField",{field:"manCode",value:null,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id})},updateDocumentId:function(){var e=this,t=this.accommodationDiscounts.find((function(t){return t.id===e.passenger.discount}));this.hasValue(t)&&t.requiresData&&t.requiresLoyaltyData&&this.$store.commit("setBerthPassengerField",{field:"documentId",value:this.loyaltyCode,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id})},handleErrorLoyalty:function(e){this.loadingLoyalty=!1,this.menuAddLoyalty=!1,this.$root.$emit("show-error-dialog",e)},handleErrormanCode:function(e){this.loadingManCode=!1,this.menuManCode=!1,this.$root.$emit("show-error-dialog",e)},setSelectedFlag:function(){this.$refs.nationality_select[0].$refs.input.style.backgroundImage="url(".concat(this.countryCodeFlag,")")}},computed:_objectSpread({isAdult:function(){var e=this;return null!==this.accommodation&&(!!this.hasValue(this.passengerType)&&this.accommodation.passengerTypes.find((function(t){return t.id===e.passengerType})).isAdult)},nationalities:function(){return this.nationalitiesData.map((function(e){return{text:e.name,value:e.code}}))},countryFlagsData:function(){var e=[];return this.nationalitiesData.forEach((function(t){e.push(t.imageUrl)})),e},countryCodeFlag:function(){var e=this,t=this.nationalitiesData.findIndex((function(t){return t.code===e.nationality}));return t>=0?this.countryFlagsData[t]:""},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},accommodationDiscounts:function(){return this.hasValue(this.accommodation)?this.accommodation.accommodationDiscounts:null},specifications:function(){var e=this;return this.accommodation.berths.find((function(t){return t.id===e.berth.id})).specifications},passengerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.passengerTypes.filter((function(t){return 1!=e.trip.passengersCount||t.isAdult})).map((function(e){return{text:e.name,value:e.id}}))},passengerTypesFiltered:function(){if(null===this.accommodation)return[];var e=this.specifications.map((function(e){return e.passengerTypeId}));return this.passengerTypes.filter((function(t){return e.includes(t.value)}))},discounts:function(){return null===this.accommodation?[]:this.accommodationDiscounts.map((function(e){return{text:e.name,value:e.id}}))},discountsFiltered:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.passengerType))return[];var t=this.specifications.find((function(t){return t.passengerTypeId===e.passengerType}));return this.hasValue(t)?this.discounts.filter((function(e){return t.discounts.includes(e.value)})):[]},isValidForPricing:function(){return this.hasValue(this.passengerType)},passengerType:{get:function(){return store.getters.getBerthPassengerField("passengerType",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){var t=this;this.setBirthDateRange(e),this.loyaltyBirthYears=this.setLoyaltyBirthYears(new Date(this.birthDateMaxYear).getFullYear(),new Date(this.birthDateMinYear).getFullYear()),this.discount="",this.removeManCode(),this.removeLoyalty(),this.$store.commit("setBerthPassengerField",{field:"passengerType",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),(this.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()}))}},discount:{get:function(){return store.getters.getBerthPassengerField("discount",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){var t=this;this.$store.commit("setBerthPassengerField",{field:"discount",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),this.updateDocumentId(),(this.hasValue(e)||void 0===e)&&setTimeout((function(){t.getQuote()})),this.hasValue(e)||(this.resetRequiresLoyaltyDataValidation(),this.resetRequiresDataValidation(),this.$store.commit("setBerthPassengerField",{field:"documentId",value:"",tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}))}},loyaltyCardDescription:{get:function(){return store.getters.getBerthPassengerLoyaltyField("code",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){}},manCodeDescription:{get:function(){return store.getters.getBerthPassengerField("manCode",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){}},firstName:{get:function(){return store.getters.getBerthPassengerField("firstName",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setBerthPassengerField",{field:"firstName",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("firstName",e)}},lastName:{get:function(){return store.getters.getBerthPassengerField("lastName",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setBerthPassengerField",{field:"lastName",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("lastName",e)}},gender:{get:function(){var e=store.getters.getBerthPassengerField("gender",this.trip.id,this.berth.renderId,this.passenger.id);return this.hasValue(e)&&!this.gendersData.find((function(t){return t.value===e}))?"":e},set:function(e){this.$store.commit("setBerthPassengerField",{field:"gender",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("gender",e)}},passport:{get:function(){return store.getters.getBerthPassengerField("passport",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setBerthPassengerField",{field:"passport",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("passport",e)}},documentId:{get:function(){return store.getters.getBerthPassengerField("documentId",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setBerthPassengerField",{field:"documentId",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("documentId",e)}},nationality:{get:function(){return store.getters.getBerthPassengerField("nationality",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){this.$store.commit("setBerthPassengerField",{field:"nationality",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&0===this.passenger.index&&this.hasValue(e)&&this.$root.$emit("nationality-changed",e),0===this.getTripIndex()&&this.copySeatFieldByIndex("nationality",e)}},birthDate:{get:function(){return store.getters.getBerthPassengerField("birthDate",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){this.$store.commit("setBerthPassengerField",{field:"birthDate",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("birthDate",e)}},birthDateFormatted:function(){return this.$options.filters.formatDate(this.birthDate,this.locale)},specialNeeds:{get:function(){return store.getters.getBerthPassengerField("specialNeeds",this.trip.id,this.berth.renderId,this.passenger.id)},set:function(e){this.$store.commit("setBerthPassengerField",{field:"specialNeeds",value:e,tripId:this.trip.id,renderId:this.berth.renderId,passengerId:this.passenger.id}),0===this.getTripIndex()&&this.copySeatFieldByIndex("specialNeeds",e)}},isDisabledPassengerType:function(){return!1},isDisabledDiscount:function(){return!this.hasValue(this.passengerType)},passengerHasManCode:function(){return this.hasValue(store.getters.getBerthPassengerField("manCode",this.trip.id,this.berth.renderId,this.passenger.id))},passengerHasLoyalty:function(){return this.hasValue(store.getters.getBerthPassengerField("loyaltyCard",this.trip.id,this.berth.renderId,this.passenger.id))},companyCode:function(){return void 0!==this.trip&&null!=this.trip.itinerary?this.trip.itinerary.companyCode:null},isDomestic:function(){return null===this.accommodation?null:this.trip.itinerary.isDomestic}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{menuBirthDate:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker[0].activePicker="YEAR"}))},nationality:function(e){this.setSelectedFlag()},passengerType:function(){this.checkAgeInRange(this.birthDate,this.birthDateMinYear,this.birthDateMaxYear)||(this.birthDate=null)},birthDate:function(e){!this.checkAgeInRange(e,this.birthDateMinYear,this.birthDateMaxYear)&&this.hasValue(e)&&(this.birthDate=null)},gendersData:function(){1==this.gendersData.length&&(this.gender=this.gendersData[0].value)}}}),Vue.component("v-booking-cabin",{mixins:[mixins],props:["trip","cabin","nationalities","locale"],data:function(){return{}},mounted:function(){},beforeDestroy:function(){},methods:{removeCabin:function(){var e=this;this.cabin.passengers.forEach((function(t,i){e.$store.commit("addSeat",{tripId:e.trip.id,passenger:new Passenger(t.index,"seat".concat(t.index),"","",null,t.firstName,t.lastName,t.gender,t.age,t.passport,t.documentId,t.nationality,t.birthDate,"",!1)})})),this.$store.commit("removeCabin",{tripId:this.trip.id,renderId:this.cabin.renderId}),this.setPetsInCabins(),setTimeout((function(){e.$root.$emit("get-quote")}))},setPetsInCabins:function(){var e,t=this,i=this.booked.find((function(e){return e.id===t.trip.id})).pets,n=0;for(e=0;e<i.length;e++)this.hasValue(i[e])&&2===i[e].petType&&(++n>this.cabinsPetsCapacityMin&&this.$store.commit("removePetsInCabins",{tripId:this.trip.id,petId:i[e].id}),n>this.cabinsPetsCapacityMax&&this.$store.commit("setPetField",{field:"petType",value:"",tripId:this.trip.id,petId:i[e].id}))}},computed:_objectSpread({petsStoredInCabinsCount:function(){return store.getters.getPetsStoredInCabinsCount(this.trip.id)},cabinsPetsCapacityMin:function(){return this.cabinsPetsCapacityMax/2},cabinsPetsCapacityMax:function(){return store.getters.getCabinsPetsCapacityMax(this.trip.id)}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},currentStep:function(e){return e.currentStep}})),watch:{}}),Vue.component("v-booking-berth",{mixins:[mixins],props:["trip","berth","nationalities","locale"],data:function(){return{}},mounted:function(){},beforeDestroy:function(){},methods:{removeBerth:function(){var e=this;this.berth.passengers.forEach((function(t,i){e.$store.commit("addSeat",{tripId:e.trip.id,passenger:new Passenger(t.index,"seat".concat(t.index),"","",null,t.firstName,t.lastName,t.gender,t.age,t.passport,t.documentId,t.nationality,t.birthDate,"",!1)})})),this.$store.commit("removeBerth",{tripId:this.trip.id,renderId:this.berth.renderId}),setTimeout((function(){e.$root.$emit("get-quote")}))}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},currentStep:function(e){return e.currentStep}})),watch:{}}),Vue.component("v-booking-cabin-add",{mixins:[mixins],props:["trips","trip","index"],data:function(){return{filters:[],filterCabins:!1,filterBerths:!1,filterIsExternal:!1,filterIsNoExternal:!1,filterIsPure:!1,filterSupportsPets:!1,cabinsSelected:[],berthsSelected:[],cabinOrBerthSelected:!1,alertShow:!1}},mounted:function(){this.$root.$on("set-selected-cabins",this.setSelectedCabins),this.$root.$on("set-selected-berths",this.setSelectedBerths)},methods:{isBerth:function(e){return this.getAccommodationType(e)>0},getAccommodationType:function(e){return this.hasValue(e.accommodationType)?e.accommodationType:0},getCabinAvailability:function(e,t){return 0===t||t-store.getters.getCabinsReservedLength(this.trip.id,e)>0},getBerthAvailability:function(e,t,i){return 0===t||t-store.getters.getBerthsReservedLength(this.trip.id,e,i)>0},confirmCabins:function(){var e=this;if(!this.validateCapacity())return!1;if(!this.cabinsSelected.length&&!this.berthsSelected.length)return this.closeMenu(),!1;var t=this.getTotalCabinElems();this.storeBerths(),this.storeCabins(),this.storePetsInCabins(),this.removeAllCabinsSelected(),this.closeMenu(),this.$nextTick((function(){e.scrollToElem(e.getCabinElemToScroll(t),e.getOffsetYToScroll())})),setTimeout((function(){e.$root.$emit("get-quote")}))},storeCabins:function(){var e=this;this.cabinsSelected.forEach((function(t){for(var i=0;i<t.amount;i++){var n=store.getters.getCabinsCount(e.trip.id);e.$store.commit("addCabin",{tripId:e.trip.id,index:e.index,cabin:new Cabin(n,t.id,"".concat(t.id,"-").concat(n),e.getCabinName(t),e.getCabinProperties(t),e.setCabinPassengersObj(t),e.getAccommodationType(t))})}}))},storeBerths:function(){var e=this;this.berthsSelected.forEach((function(t){for(var i=0;i<t.amount;i++){var n=store.getters.getBerthsCount(e.trip.id);e.$store.commit("addBerth",{tripId:e.trip.id,index:e.index,berth:new Cabin(n,t.id,"".concat(t.id,"-").concat(n),e.getCabinName(t),e.getCabinProperties(t),e.setCabinPassengersObj(t),e.getAccommodationType(t))})}}))},validateCapacity:function(){var e=this,t=store.getters.getSeatsCount(this.trip.id),i=0;return this.cabinsSelected.forEach((function(t){i+=t.amount*e.getCabinCapacity(t.id)})),this.berthsSelected.forEach((function(e){i+=1*e.amount})),i>t?(this.alertShow=!0,this.scrollToElem(jQuery(".b-booking-add-cabins__alert"),175),console.warn("You have add more cabins than passengers"),!1):(this.alertShow=!1,!0)},setCabinPassengersObj:function(e){for(var t=this,i=[],n=this.isBerth(e)?1:this.getCabinCapacity(e.id),r=0;r<n;r++){var s=this.trip.seats.filter((function(e){return!t.hasValue(e.seatType)})),a=s.length&&s.length<this.trip.seats.length?this.trip.seats.findIndex((function(e){return e.id===s[0].id})):0,o=store.getters.getSeatField("index",this.trip.id,a);i.push(new Passenger(o,"seat".concat(o,"-").concat(e.id,"-cabin"),"","","",store.getters.getSeatField("firstName",this.trip.id,a),store.getters.getSeatField("lastName",this.trip.id,a),store.getters.getSeatField("gender",this.trip.id,a),store.getters.getSeatField("passengerType",this.trip.id,a),store.getters.getSeatField("passport",this.trip.id,a),store.getters.getSeatField("documentId",this.trip.id,a),store.getters.getSeatField("nationality",this.trip.id,a),store.getters.getSeatField("birthDate",this.trip.id,a),"",store.getters.getSeatField("specialNeeds",this.trip.id,a))),this.$store.commit("removeSeat",{tripId:this.trip.id,index:a})}return i},getCabinCapacity:function(e){return this.accommodation.cabins.find((function(t){return t.id===e})).capacity},closeMenu:function(){this.booked.forEach((function(e){return e.render.menu_addCabins=!1}))},removeAllCabinsSelected:function(){this.alertShow=!1,this.$root.$emit("spinner-clear-value"),this.cabinsSelected=[],this.berthsSelected=[]},clickFilterCabins:function(){if(this.isDisabledFilterCabins)return!1;this.filterCabins=!this.filterCabins,this.filterCabins?this.filters.push("cabins"):this.removeCabinsFilter("cabins")},clickFilterBerths:function(){if(this.isDisabledFilterBerths)return!1;this.filterBerths=!this.filterBerths,this.filterBerths?this.filters.push("berths"):this.removeCabinsFilter("berths")},clickFilterIsExternal:function(){if(this.isDisabledFilterIsExternal)return!1;this.filterIsExternal=!this.filterIsExternal,this.filterIsExternal?this.filters.push("isExternal"):this.removeCabinsFilter("isExternal")},clickFilterIsNoExternal:function(){if(this.isDisabledFilterIsNoExternal)return!1;this.filterIsNoExternal=!this.filterIsNoExternal,this.filterIsNoExternal?this.filters.push("isNoExternal"):this.removeCabinsFilter("isNoExternal")},clickFilterPure:function(){if(this.isDisabledFilterPure)return!1;this.filterIsPure=!this.filterIsPure,this.filterIsPure?this.filters.push("isPure"):this.removeCabinsFilter("isPure")},clickFilterPet:function(){if(this.isDisabledFilterPet)return!1;this.filterSupportsPets=!this.filterSupportsPets,this.filterSupportsPets?this.filters.push("supportsPets"):this.removeCabinsFilter("supportsPets")},removeCabinsFilter:function(e){for(var t=0;t<this.filters.length;t++)this.filters[t]===e&&this.filters.splice(t,1)},getCabins:function(e,t){var i=this;if(this.trip.id!==e)return!1;this.cabins=this.cabins=this.trips.find((function(e){return e.id===i.trip.id})).calendar.dates.find((function(e){return e.itineraries.length>0})).itineraries.find((function(e){return e.id===t})).cabins},getCabinName:function(e){return this.isBerth(e)?this.berths.find((function(t){return t.id===e.id})).name:this.cabins.find((function(t){return t.id===e.id})).name},getCabinProperties:function(e){var t=[],i=this.isBerth(e)?this.berths.find((function(t){return t.id===e.id})):this.cabins.find((function(t){return t.id===e.id}));return this.isBerth(e)||t.push("cabins"),this.isBerth(e)&&t.push("berths"),i.isExternal&&t.push("isExternal"),i.isExternal||t.push("isNoExternal"),i.isPure&&t.push("isPure"),i.supportsPets&&t.push("supportsPets"),t},setSelectedCabins:function(e,t,i,n,r){return this.trip.id===n&&(this.alertShow=!1,void 0!==this.cabinsSelected.find((function(e){return e.id===t}))?(0===Number(e)?this.cabinsSelected.splice(this.cabinsSelected.findIndex((function(e){return e.id===t})),1):this.cabinsSelected.find((function(e){return e.id===t})).amount=e,this.cabinOrBerthSelected=!this.cabinOrBerthSelected,!1):(0!==Number(e)&&this.cabinsSelected.push({id:t,amount:e,accommodationType:i,capacity:r}),void(this.cabinOrBerthSelected=!this.cabinOrBerthSelected)))},setSelectedBerths:function(e,t,i,n){if(this.trip.id!==n)return!1;this.alertShow=!1;var r="".concat(t,"-TYPE").concat(i);this.berthsSelected=this.berthsSelected.filter((function(e){return e.renderId!==r}));for(var s=0;s<Number(e);s++)this.berthsSelected.push({renderId:r,id:t,amount:1,accommodationType:i});this.cabinOrBerthSelected=!this.cabinOrBerthSelected},storePetsInCabins:function(){var e=this;if(this.cabinsPetsCapacityMin>this.petsStoredInCabinsCount){var t,i=this.booked.find((function(t){return t.id===e.trip.id})).pets,n=0;for(t=0;t<i.length;t++)if(this.hasValue(i[t])){if(n===this.cabinsPetsCapacityMin)break;if(2===i[t].petType){n++;continue}2!==i[t].petType&&(n++,this.$store.commit("setPetField",{field:"petType",value:2,tripId:this.trip.id,petId:i[t].id}),this.$store.commit("addPetsInCabins",{tripId:this.trip.id,petId:i[t].id}))}}},getTotalCabinElems:function(){return jQuery(this.$refs.confirmButton).parents(".b-booking-panel").first().find(".e-booking-cabin-container").length},getCabinElemToScroll:function(e){var t=jQuery(this.$refs.confirmButton).parents(".b-booking-panel").first().find(".e-booking-cabin-container");return t.length>e?t.eq(e):t.eq(0)},getOffsetYToScroll:function(){var e=jQuery(".s-alert-wrap");return 150+(e.length?e.outerHeight():0)}},computed:_objectSpread({tripHasPets:function(){return store.getters.getPetsCount(this.trip.id)>0},cabinsSelectedText:function(){return 1===this.cabinsOrBerthsSelectedAmount?this.dictionary.cabinsSelectedSingle:this.dictionary.cabinsSelected},petsStoredInCabinsCount:function(){return store.getters.getPetsStoredInCabinsCount(this.trip.id)},cabinsPetsCapacityMin:function(){return this.cabinsPetsCapacityMax/2},cabinsPetsCapacityMax:function(){return store.getters.getCabinsPetsCapacityMax(this.trip.id)},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},all:function(){return null===this.accommodation?[]:this.accommodation.cabins.concat(this.accommodation.berths)},allFiltered:function(){return null===this.accommodation?[]:this.cabinsFiltered.concat(this.berthsFiltered)},cabins:function(){return null===this.accommodation?[]:this.accommodation.cabins},cabinsFiltered:function(){var e=this;if(null===this.accommodation)return[];var t=this.cabins;return t=t.filter((function(t){return t.capacity<=store.getters.getSeatsCount(e.trip.id)})).filter((function(t){return e.getCabinAvailability(t.id,t.availability)})),this.tripHasPets||(t=t.filter((function(e){return!e.supportsPets}))),this.filters.includes("berths")&&(t=[]),this.filters.includes("isExternal")&&(t=t.filter((function(e){return e.isExternal}))),this.filters.includes("isNoExternal")&&(t=t.filter((function(e){return!e.isExternal}))),this.filters.includes("isPure")&&(t=t.filter((function(e){return e.isPure}))),this.filters.includes("supportsPets")&&(t=t.filter((function(e){return e.supportsPets}))),t},berths:function(){return null===this.accommodation?[]:this.accommodation.berths},berthsFiltered:function(){if(null===this.accommodation)return[];var e=this.berths;return 0===store.getters.getSeatsCount(this.trip.id)&&(e=[]),this.filters.includes("cabins")&&(e=[]),this.filters.includes("isExternal")&&(e=e.filter((function(e){return e.isExternal}))),this.filters.includes("isNoExternal")&&(e=e.filter((function(e){return!e.isExternal}))),this.filters.includes("isPure")&&(e=e.filter((function(e){return e.isPure}))),this.filters.includes("supportsPets")&&(e=e.filter((function(e){return e.supportsPets}))),e},berthsMenFiltered:function(){var e=this;return this.berthsFiltered.filter((function(e){return 1===e.accommodationType})).filter((function(t){return e.getBerthAvailability(t.id,t.availability,t.accommodationType)}))},berthsWomenFiltered:function(){var e=this;return this.berthsFiltered.filter((function(e){return 2===e.accommodationType})).filter((function(t){return e.getBerthAvailability(t.id,t.availability,t.accommodationType)}))},cabinsOrBerthsSelectedAmount:function(){return(this.cabinsSelected.length?this.cabinsSelected.map((function(e){return e.amount})).reduce((function(e,t){return e+t})):0)+(this.berthsSelected.length?this.berthsSelected.map((function(e){return e.amount})).reduce((function(e,t){return e+t})):0)},isDisabledFilterCabins:function(){return!this.cabinsFiltered.length},isDisabledFilterBerths:function(){return!this.berthsFiltered.length},isDisabledFilterIsExternal:function(){return!this.allFiltered.find((function(e){return e.isExternal}))},isDisabledFilterIsNoExternal:function(){return!this.allFiltered.find((function(e){return!e.isExternal}))},isDisabledFilterPure:function(){return!this.allFiltered.find((function(e){return e.isPure}))},isDisabledFilterPet:function(){return!this.allFiltered.find((function(e){return e.supportsPets}))},noResults:function(){var e=!this.cabinsFiltered.length&&!this.berthsFiltered.length;return this.$root.$emit("cabins-no-results-found",this.trip.id,e),e}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-cabin-add-entry",(_defineProperty(_Vue$component={mixins:[mixins,mixinsBookingAvailability],props:["trip","item","type","berthsSelected","cabinsSelected","cabinOrBerthSelected"],data:function(){return{}},template:'\n    <div class="columns">\n        <div class="column-1"\n\t\t\tv-bind:class="[ unavailableDueToSelections ? \'unavailable\' : \'\' ]">\n\n            <div class="info-container">\n                <span class="title-info">{{ item.name }} ({{ item.id }})</span>\n                <ul>\n                    <li v-if="item.isExternal" class="icon-cabin-window" :title="dictionary.tooltipCabinExternal"></li>\n                    <li v-if="!item.isExternal" class="icon-cabin-no-window" :title="dictionary.tooltipCabinNoExternal"></li>\n                    <li v-if="item.isPure" class="icon-pure-cabin" :title="dictionary.tooltipCabinPure"></li>\n                    <li v-if="item.supportsPets" class="icon-pet-filled" :title="dictionary.tooltipCabinPets"></li>\n                </ul>\n            </div>\n\n        </div>\n        <div class="column-2">\n\n            <div class="spinner-container">\n                <v-spinner min="0"\n                            v-bind:max="availabilityMax"\n                            themematerial="true"\n                            :value="0"\n                            v-bind:disabled="availability === 0 || unavailableDueToSelections"\n                            v-bind:trip="trip"\n                            v-bind:cabin="item"\n                            v-on:spinner-value-change="setSelectedItem">\n                </v-spinner>\n            </div>\n        </div>\n        <div class="column-3"\n\t\t\tv-bind:class="[ unavailableDueToSelections ? \'unavailable\' : \'\' ]">\n\n            <div class="price-container" v-if="item.availability > 0">\n                <div class="left d-none d-md-block">\n                    <span>{{ availability }} {{ remainingText }}</span>\n                </div>\n                <div class="price">\n                    <span v-html="item.basePrice"></span>\n                    <div class="icon-view"></div>\n                </div>\n                <div class="left d-block d-md-none">\n                    <span>{{ availability }} {{ remainingText }}</span>\n                </div>\n            </div>\n            <div class="price-container" v-if="availability === 0">\n                <div class="soldout"><span>{{ dictionary.soldOut }}</span></div>\n            </div>\n        </div>\n    </div>\n'},"data",(function(){return{}})),_defineProperty(_Vue$component,"mounted",(function(){})),_defineProperty(_Vue$component,"methods",{setSelectedItem:function(e,t,i,n){switch(this.type){case"cabin":this.$root.$emit("set-selected-cabins",e,t,i,this.trip.id,n);break;case"berth":this.$root.$emit("set-selected-berths",e,t,i,this.trip.id)}},getCabinsPassengersCount:function(){var e=0;return this.cabinsSelected.forEach((function(t){e+=t.amount*t.capacity})),e}}),_defineProperty(_Vue$component,"computed",_objectSpread({unavailableDueToSelections:function(){var e=this,t=this.berthsSelected.length+this.getCabinsPassengersCount(),i=store.getters.getSeatsCount(this.trip.id),n="".concat(this.item.id,"-TYPE").concat(this.item.accommodationType);return!this.berthsSelected.find((function(e){return e.renderId===n}))&&(!this.cabinsSelected.find((function(t){return t.id===e.item.id}))&&t>=i)},availabilityMax:function(){this.cabinOrBerthSelected;var e,t=this.berthsSelected.length+this.getCabinsPassengersCount(),i=store.getters.getSeatsCount(this.trip.id),n=0,r="berth"===this.type?1:this.item.capacity;for(e=0;e<this.availability&&r<=i-t;e++)n++;return Math.min(this.availability,n)},availability:function(){this.cabinOrBerthSelected;if(0===this.item.availability)return 0;var e=0;switch(this.type){case"cabin":e=this.getCabinAvailability(this.item.id,this.item.availability);break;case"berth":e=this.getBerthAvailability(this.item.id,this.item.availability,this.item.accommodationType)}return e},remainingText:function(){return 1===this.availability?this.dictionary.remainingSingle:this.dictionary.remaining}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}}))),_defineProperty(_Vue$component,"watch",{}),_Vue$component)),Vue.component("v-booking-cabin-properties",(_defineProperty(_Vue$component2={mixins:[mixins],props:["item","type"],data:function(){return{className:""}},template:'\n        <ul>\n            <li v-bind:class="getClassName()"></li>\n            <li class="icon-cabin-window" v-if="item.properties.includes(\'isExternal\')"></li>\n            <li class="icon-cabin-no-window" v-if="!item.properties.includes(\'isExternal\')"></li>\n            <li class="icon-pure-cabin" v-if="item.properties.includes(\'isPure\')"></li>\n            <li class="icon-pet-filled" v-if="item.properties.includes(\'supportsPets\')"></li>\n        </ul>\n'},"data",(function(){return{}})),_defineProperty(_Vue$component2,"mounted",(function(){})),_defineProperty(_Vue$component2,"methods",{getClassName:function(){switch(this.type){case"cabin":this.className="icon-whole-cabin";break;case"berth":this.className="icon-cabin-filled"}return this.className}}),_defineProperty(_Vue$component2,"computed",_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}}))),_defineProperty(_Vue$component2,"watch",{}),_Vue$component2)),Vue.component("v-booking-vehicle",{mixins:[mixins,mixinsBooking,mixinsBookingAvailability],props:["trip","vehicle","index"],data:function(){var e=this;return{menu_props:{offsetY:!0,closeOnClick:!1},menuAddLoyalty:!1,menuDocumentId:!1,menuDiscount:!1,valid:!0,validLoyalty:!0,loadingLoyalty:!1,loadingVehicle:!1,lengthStep:.1,loyaltyCode:"",loyaltyBirthYear:null,loyaltyBirthYears:[],priceStart:"-",vehicleTypeRules:[],plateNumberRules:[],vehicleLengthRules:[],documentIdRules:[],loyaltyCardDescriptionRules:[],loyaltyCodeRules:[function(t){return!!t||e.dictionary.loyaltyCodeRequired},function(t){return/^[0-9]{11}$/.test(t)||e.dictionary.loyaltyCodeRegex}],loyaltyBirthYearRules:[function(t){return!!t||e.dictionary.loyaltyBirthYearRequired}]}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice),this.loyaltyBirthYears=this.setBirthYears()},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{getVehicleGroup:function(e){return this.vehicleTypes.find((function(t){return t.value===e})).group},getVehicleLengthDefault:function(){var e=this;return null===this.accommodation?"":this.hasValue(this.vehicleType)?this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType})).length:""},setPrice:function(e){var t=this;if(!this.hasValue(this.vehicleType))return this.priceStart="-",!1;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId})).accommodationPrices.find((function(e){return e.id===t.vehicle.id}));if(void 0!==i)return this.priceStart=i.price,!1}this.setBasePrice()},setBasePrice:function(){if(!this.hasValue(this.vehicleType))return this.priceStart="-",!1;this.priceStart=this.accommodation.vehicles.find((function(e){return e.id===self.vehicleType})).basePrice},getQuote:function(){this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.vehicleTypeRules=[function(t){return!!t||e.dictionary.vehicleTypeRequired}],this.plateNumberRules=[function(t){return!!t||e.dictionary.vehiclePlateNumberRequired},function(t){return/^[0-9A-Z]{4,}$/.test(t)||e.dictionary.vehiclePlateNumberRegex}],this.vehicleLengthRules=[function(t){return!!t||e.dictionary.vehicleLengthRequired}],this.documentIdRules=[function(t){return!t||/^[0-9A-Z]+$/.test(t)||e.dictionary.documentIdRegex}],this.loyaltyCardDescriptionRules=[],this.setRequiresLoyaltyDataValidation(),this.setRequiresDataValidation()},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form[0]&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form[0].validate(),e.$store.commit("setVehicleIsValid",{tripId:e.trip.id,index:e.index,isValid:e.valid})}))))},removeVehicle:function(){var e=this;this.$store.commit("removeVehicle",{tripId:this.trip.id,index:this.index}),setTimeout((function(){e.$root.$emit("get-quote")}))},addTrailer:function(){this.$store.commit("setTrailer",{tripId:this.trip.id,vehicleId:this.vehicle.id,trailer:new Trailer("trailer".concat(this.index),"","","",0)})},addLoyalty:function(){var e=this;if(void 0===this.$refs.formLoyalty[0])return!1;if(!this.$refs.formLoyalty[0].validate())return!1;this.loadingLoyalty=!0;var t=this.getReservationPostUrl("ValidateLoyaltyCard"),i=JSON.stringify({cardNumber:this.loyaltyCode,birthYear:this.loyaltyBirthYear});axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleErrorLoyalty(t.data.errorMessages),!1;e.loadingLoyalty=!1,e.menuAddLoyalty=!1,e.$store.commit("setVehicleField",{field:"loyaltyCard",value:new LoyaltyCard(e.loyaltyCode,e.loyaltyBirthYear),tripId:e.trip.id,vehicleId:e.vehicle.id}),e.updateDocumentId()})).catch((function(t){e.handleErrorLoyalty(),console.error(t)}))},resetLoyaltyForm:function(){if(void 0===this.$refs.formLoyalty[0])return!1;this.$refs.formLoyalty[0].reset()},resetForm:function(){if(void 0===this.$refs.form[0])return!1;this.$refs.form[0].reset()},removeLoyalty:function(){this.resetLoyaltyForm(),this.$store.commit("setVehicleField",{field:"loyaltyCard",value:null,tripId:this.trip.id,vehicleId:this.vehicle.id})},updateDocumentId:function(){var e=this,t=this.accommodationDiscounts.find((function(t){return t.id===e.vehicle.discount}));this.hasValue(t)&&t.requiresData&&t.requiresLoyaltyData&&this.$store.commit("setVehicleField",{field:"documentId",value:this.loyaltyCode,tripId:this.trip.id,vehicleId:this.vehicle.id})},removeTrailer:function(){var e=this,t=store.getters.getTrailer(this.trip.id,this.vehicle.id);if(!this.hasValue(t))return!1;this.$store.commit("removeTrailer",{tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){e.getQuote()}))},handleErrorLoyalty:function(e){this.loadingLoyalty=!1,this.menuAddLoyalty=!1,this.$root.$emit("show-error-dialog",e)}},computed:_objectSpread({vehiclesBooked:function(){return store.getters.getVehicles(this.trip.id)},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},accommodationDiscounts:function(){return this.hasValue(this.accommodation)?this.accommodation.accommodationDiscounts:null},discounts:function(){return null===this.accommodation?[]:this.accommodationDiscounts.map((function(e){return{text:e.name,value:e.id}}))},discountsFiltered:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.vehicleType))return[];var t=this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType})).discounts;return this.discounts.filter((function(e){return t.includes(e.value)}))},vehicleLengths:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.vehicleType))return[];var t=this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType}));return this.getValuesSteps(t.length,t.maxLength,this.lengthStep).filter((function(i){return e.getVehicleLengthAvailability(i,e.vehicleType,e.vehicleLength,t.availabilityInMeters,t.pricingPerMeter)})).map((function(e){return{text:e.toFixed(2),value:e}}))},isValidForPricing:function(){return this.hasValue(this.vehicleType)&&this.hasValue(this.vehicleLength)},vehicleTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.vehicles.filter((function(t){return e.getVehicleTypeAvailability(t.id,t.availabilityInMeters,t.pricingPerMeter,t.length)})).map((function(e){return{text:e.name,value:e.id,group:e.vehicleGroup}}))},vehicleType:{get:function(){return store.getters.getVehicleField("vehicleType",this.trip.id,this.index)},set:function(e){var t=this;this.removeTrailer(),this.$store.commit("setVehicleField",{field:"vehicleType",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),this.$store.commit("setVehicleField",{field:"vehicleGroup",value:this.getVehicleGroup(e),tripId:this.trip.id,vehicleId:this.vehicle.id}),this.$store.commit("setVehicleField",{field:"vehicleLength",value:this.getVehicleLengthDefault(),tripId:this.trip.id,vehicleId:this.vehicle.id}),this.$store.commit("setVehicleField",{field:"discount",value:null,tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){t.getQuote()}))}},vehicleLength:{get:function(){return store.getters.getVehicleField("vehicleLength",this.trip.id,this.index)},set:function(e){var t=this;this.$store.commit("setVehicleField",{field:"vehicleLength",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){t.getQuote()}))}},discount:{get:function(){return store.getters.getVehicleField("discount",this.trip.id,this.index)},set:function(e){var t=this;this.$store.commit("setVehicleField",{field:"discount",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),this.updateDocumentId(),setTimeout((function(){t.getQuote()})),this.hasValue(e)||(this.resetRequiresLoyaltyDataValidation(),this.resetRequiresDataValidation(),this.$store.commit("setVehicleField",{field:"documentId",value:"",tripId:this.trip.id,vehicleId:this.vehicle.id}))}},plateNumber:{get:function(){return store.getters.getVehicleField("plateNumber",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setVehicleField",{field:"plateNumber",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),0===this.getTripIndex()&&this.$store.commit("copyVehicleField",{field:"plateNumber",value:e,vehicleId:this.vehicle.id})}},loyaltyCardDescription:{get:function(){return store.getters.getVehicleLoyaltyField("code",this.trip.id,this.index)},set:function(e){}},documentId:{get:function(){return store.getters.getVehicleField("documentId",this.trip.id,this.index)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setVehicleField",{field:"documentId",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),0===this.getTripIndex()&&this.$store.commit("copyVehicleField",{field:"documentId",value:e,vehicleId:this.vehicle.id})}},isDisabledDiscount:function(){return!this.hasValue(this.vehicleType)},isDisabledAddTrailer:function(){var e=this;if(this.hasValue(this.vehicleType)&&this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType})).trailers.length)return!1;return!0},isDisabledVehicleLength:function(){var e=this;return!this.hasValue(this.vehicleType)||!this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType})).pricingPerMeter},vehicleHasTrailer:function(){return null!==store.getters.getVehicleField("trailer",this.trip.id,this.index)},vehicleHasLoyalty:function(){return null!==store.getters.getVehicleField("loyaltyCard",this.trip.id,this.index)},companyCode:function(){return void 0!==this.trip&&null!=this.trip.itinerary?this.trip.itinerary.companyCode:null}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{}}),Vue.component("v-booking-pet",{mixins:[mixins,mixinsBooking,mixinsBookingAvailability],props:["trip","pet","index"],data:function(){return{menu_props:{offsetY:!0,closeOnClick:!1},menuAddLoyalty:!1,valid:!0,loadingPet:!1,priceStart:"-",petTypeRules:[]}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice)},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{setPrice:function(e){var t=this;if(!this.hasValue(this.petType))return this.setBasePrice(),!1;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId})).accommodationPrices.find((function(e){return e.id===t.pet.id}));return void 0!==i?(this.priceStart=i.price,!1):(this.priceStart="&euro;0,00",!1)}this.setBasePrice()},setBasePrice:function(){this.hasValue(this.petType)||(this.priceStart="-")},getQuote:function(){if(!this.isValidForPricing)return this.setBasePrice(),!1;this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.petTypeRules=[function(t){return!!t||e.dictionary.petTypeRequired}]},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form[0]&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form[0].validate(),e.$store.commit("setPetIsValid",{tripId:e.trip.id,index:e.index,isValid:e.valid})}))))},removePet:function(){var e=this;this.$store.commit("removePet",{tripId:this.trip.id,index:this.index}),setTimeout((function(){e.$root.$emit("get-quote")}))},resetForm:function(){if(void 0===this.$refs.form[0])return!1;this.$refs.form[0].reset()}},computed:_objectSpread({accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},pets:function(){return null===this.accommodation?null:this.accommodation.pets},cabinsPetsCapacityMin:function(){return this.cabinsPetsCapacityMax/2},cabinsPetsCapacityMax:function(){return store.getters.getCabinsPetsCapacityMax(this.trip.id)},petsStoredInCabinsCount:function(){return store.getters.getPetsStoredInCabinsCount(this.trip.id)},isValidForPricing:function(){return this.hasValue(this.petType)},isPetTypeDisabled:function(){return 2===this.petType&&!!store.getters.getPetIsStoredInCabins(this.trip.id,this.pet.id)},petTypes:function(){if(null===this.accommodation)return[];if(null===this.pets)return[];var e=[];if(this.pets.supportsOnDeck&&e.push({text:this.dictionary.petTypeDeck,value:3}),this.getPetTypeKennelAvailability()&&e.push({text:this.dictionary.petTypeKennel,value:1}),this.pets.supportsInCabin&&e.push({text:this.dictionary.petTypeCabin,value:2}),2===this.petType)return e;if(this.cabinsPetsCapacityMax>this.petsStoredInCabinsCount)return e;e.pop();return e},petType:{get:function(){return store.getters.getPetField("petType",this.trip.id,this.index)},set:function(e){var t=this;2!==e&&this.$store.commit("removePetsInCabins",{tripId:this.trip.id,petId:this.pet.id}),this.$store.commit("setPetField",{field:"petType",value:e,tripId:this.trip.id,petId:this.pet.id}),setTimeout((function(){t.getQuote()}))}}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{}}),Vue.component("v-booking-trailer",{mixins:[mixins,mixinsBooking,mixinsBookingAvailability],props:["trip","vehicle","index","vehicleType"],data:function(){return{menu_props:{offsetY:!0,closeOnClick:!1},validTrailer:!0,loadingVehicle:!1,lengthStep:.1,priceStart:"-",trailerTypeRules:[],trailerLengthRules:[],trailerPlateNumberRules:[]}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("validate",this.validate),this.$root.$on("accommodation-form-reset",this.resetForm),this.$root.$on("get-quote-changed",this.setPrice)},beforeDestroy:function(){this.$root.$off("validate",this.validate),this.$root.$off("accommodation-form-reset",this.resetForm),this.$root.$off("get-quote-changed",this.setPrice)},methods:{getVehicleGroup:function(e){return this.trailerTypes.find((function(t){return t.value===e})).group},getTrailerLengthDefault:function(){var e=this;return null===this.accommodation?"":this.hasValue(this.trailerType)?this.accommodation.trailers.find((function(t){return t.id===e.trailerType})).length:""},getTrailerName:function(e){return this.accommodation.trailers.find((function(t){return t.id===e})).name},setPrice:function(e){var t=this;if(!this.hasValue(this.trailerType))return this.priceStart="-",!1;if(this.hasValue(e)){var i=e.trips.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId})).accommodationPrices.find((function(e){return e.id===t.vehicle.trailer.id}));if(void 0!==i)return this.priceStart=i.price,!1}this.setBasePrice()},setBasePrice:function(){if(!this.hasValue(this.trailerType))return this.priceStart="-",!1;this.priceStart=this.accommodation.trailers.find((function(e){return e.id===self.trailerType})).basePrice},getQuote:function(){if(!this.isValidForPricing)return this.setBasePrice(),!1;this.$root.$emit("get-quote")},setValidateRules:function(){var e=this;this.trailerTypeRules=[function(t){return!!t||e.dictionary.trailerTypeRequired}],this.trailerLengthRules=[function(t){return!!t||e.dictionary.trailerLengthRequired}],this.trailerPlateNumberRules=[function(t){return!t||/^[0-9A-Z]{4,}$/.test(t)||e.dictionary.trailerPlateNumberRegex}]},validate:function(){var e=this;return 2===this.currentStep&&(!(void 0===this.$refs.formTrailer[0]||!this.vehicle.trailer)&&(this.setValidateRules(),void setTimeout((function(){e.$refs.formTrailer[0].validate(),e.$store.commit("setTrailerIsValid",{tripId:e.trip.id,vehicleId:e.vehicle.id,isValid:e.validTrailer})}))))},resetTrailerForm:function(){if(void 0===this.$refs.formTrailer[0])return!1;this.$refs.formTrailer[0].reset()},removeTrailer:function(){var e=this;this.$store.commit("removeTrailer",{tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){e.$root.$emit("get-quote")}))},setTrailerLength:function(e){this.trailerLength=e},resetForm:function(){if(void 0===this.$refs.formTrailer[0])return!1;this.$refs.formTrailer[0].reset()}},computed:_objectSpread({trailersBooked:function(){return store.getters.getTrailers(this.trip.id)},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},trailerLengths:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.trailerType))return[];var t=this.accommodation.trailers.find((function(t){return t.id===e.trailerType}));return this.getValuesSteps(t.length,t.maxLength,this.lengthStep).filter((function(i){return e.getTrailerLengthAvailability(i,e.trailerType,e.trailerLength,t.availabilityInMeters,t.pricingPerMeter)})).map((function(e){return{text:e.toFixed(2),value:e}}))},trailerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.trailers.filter((function(t){return e.getTrailerTypeAvailability(t.id,t.availabilityInMeters,t.pricingPerMeter,t.length)})).map((function(e){return{text:e.name,value:e.id,group:e.vehicleGroup}}))},trailerTypesFiltered:function(){var e=this;if(null===this.accommodation)return[];if(!this.hasValue(this.vehicleType))return[];var t=this.accommodation.vehicles.find((function(t){return t.id===e.vehicleType})).trailers;return this.trailerTypes.filter((function(e){return t.includes(e.value)}))},trailerType:{get:function(){return store.getters.getTrailerField("trailerType",this.trip.id,this.vehicle.id)},set:function(e){var t=this;this.$store.commit("setTrailerField",{field:"trailerType",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),this.$store.commit("setTrailerField",{field:"vehicleGroup",value:this.getVehicleGroup(e),tripId:this.trip.id,vehicleId:this.vehicle.id}),this.$store.commit("setTrailerField",{field:"trailerLength",value:this.getTrailerLengthDefault(),tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){t.getQuote()}))}},trailerLength:{get:function(){return store.getters.getTrailerField("trailerLength",this.trip.id,this.vehicle.id)},set:function(e){var t=this;this.$store.commit("setTrailerField",{field:"trailerLength",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id}),setTimeout((function(){t.getQuote()}))}},trailerPlateNumber:{get:function(){return store.getters.getTrailerField("trailerPlateNumber",this.trip.id,this.vehicle.id)},set:function(e){e=this.convertGreekToEnglish(e),e=this.toUpperCase(e),this.$store.commit("setTrailerField",{field:"trailerPlateNumber",value:e,tripId:this.trip.id,vehicleId:this.vehicle.id})}},isDisabledTrailerLength:function(){var e=this;return!this.hasValue(this.trailerType)||!this.accommodation.trailers.find((function(t){return t.id===e.trailerType})).pricingPerMeter},isValidForPricing:function(){return this.hasValue(this.trailerType)&&this.hasValue(this.trailerLength)}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},currentStep:function(e){return e.currentStep}})),watch:{}}),Vue.component("v-booking-contact",{mixins:[mixins],props:["nationalitiesData"],data:function(){return{phone:null,countryMenu:!1,valid:!0,defaultCountry:{code:"GR",telephonePrefixes:[],imageUrl:"/imgs/flags/GR.png"},emailRules:[],countryCodeRules:[],phoneNumberRules:[]}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("validate",this.validate),this.$root.$on("contact-form-reset",this.resetForm),this.$root.$on("get-nationalities-ready",this.setDefaultCountryCode)},methods:{setDefaultCountryCode:function(){this.$nextTick((function(){var e=this;if(!this.nationalitiesData.length)return!1;this.defaultCountry.telephonePrefixes.push(this.nationalitiesData.find((function(t){return t.code===e.defaultCountry.code})).telephonePrefixes[0]),this.countryCode=this.defaultCountry.telephonePrefixes[0]}))},setValidateRules:function(){var e=this;this.emailRules=[function(t){return!!t||e.dictionary.emailRequired},function(t){return/.+@.+\..+/.test(t)||e.dictionary.emailRegex}],this.countryCodeRules=[function(t){return!!t||e.dictionary.countryCodeRequired}],this.phoneNumberRules=[function(t){return!!t||e.dictionary.phoneNumberRequired},function(t){return e.phoneNumberRegex.test(t)||e.phoneNumberRegexMsg}]},validate:function(){var e=this;return 2===this.currentStep&&(void 0!==this.$refs.form&&(this.setValidateRules(),void setTimeout((function(){e.$refs.form.validate(),e.$store.commit("setContactIsValid",{isValid:e.valid})}))))},resetForm:function(){void 0!==this.$refs.form&&(this.$refs.form.resetValidation(),this.countryCode=this.countryCodesData[0])}},computed:_objectSpread({countryCodesData:function(){var e=this.nationalitiesData.filter((function(e){return e.telephonePrefixes.length})).map((function(e){return e.telephonePrefixes}));return[].concat.apply([],e)},countryFlagsData:function(){var e=[];return this.nationalitiesData.forEach((function(t){t.telephonePrefixes.length&&t.telephonePrefixes.forEach((function(i){e.push(t.imageUrl)}))})),e},countryCodeFlag:function(){var e=this,t=this.countryCodesData.findIndex((function(t){return t===e.countryCode}));return t>=0?this.countryFlagsData[t]:this.defaultCountry.imageUrl},email:{get:function(){return store.getters.getContactField("email")},set:function(e){this.$store.commit("setContactField",{field:"email",value:e})}},countryCode:{get:function(){return store.getters.getContactField("countryCode")},set:function(e){this.$store.commit("setContactField",{field:"countryCode",value:e})}},phoneNumber:{get:function(){return store.getters.getContactField("phoneNumber")},set:function(e){this.$store.commit("setContactField",{field:"phoneNumber",value:e})}},hasGreekCountryCode:function(){var e=this,t=this.nationalitiesData.find((function(e){return"GR"===e.code}));return!!this.hasValue(t)&&t.telephonePrefixes.filter((function(t){return t===e.countryCode})).length>0},phoneNumberRegex:function(){return this.hasGreekCountryCode?/^[0-9]{10,10}$/:/^[0-9]{4,15}$/},phoneNumberRegexMsg:function(){return this.hasGreekCountryCode?this.dictionary.phoneNumberGreekRegex:this.dictionary.phoneNumberRegex}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},currentStep:function(e){return e.currentStep}})),watch:{countryCode:function(e){this.$root.$emit("contact-countrycode-changed",e),this.$refs.autocomplete.$refs.input.style.backgroundImage="url(".concat(this.countryCodeFlag,")"),this.$nextTick((function(){this.hasValue(this.phoneNumber)&&(this.setValidateRules(),this.$refs.phone_number.validate())}))},phoneNumber:function(e){this.$root.$emit("contact-phonenumber-changed",e)}}}),Vue.component("v-booking-payment",{mixins:[mixins,mixinsBooking,mixinsCC],props:["retries","ccCountriesData","ccPhoneCodesData"],data:function(){var e=this;return{menu_props:{offsetY:!0,closeOnClick:!1},valid:!0,paymentValidateDialog:!1,isPaypalDisabled:!1,retriesCount:0,paymentWarningDialog:!1,paymentWarningDialogText:null,paymentMethodRules:[function(t){return!!t||e.dictionary.paymentMethodRequired}],agreeTermsRules:[function(t){return!!t||e.dictionary.agreeTermsRequired}],agreeAgentsRules:[function(t){return!!t||e.dictionary.agreeAgentsRequired}],agreeCovidRules:[function(t){return!!t||e.dictionary.agreeCovidRequired}],emailRules:[],cardholderNameRules:[],billAddrLine1Rules:[],billAddrLine2Rules:[],billAddrLine3Rules:[],billAddrPostCodeRules:[],billAddrCountryRules:[],billAddrStateRules:[],billAddrCityRules:[],homePhoneRules:[],mobilePhoneRules:[],workPhoneRules:[],phoneCodeRules:[],billAddrStateData:[]}},mounted:function(){var e=this;this.vSelectMouseDown(),this.clickStop(),this.$root.$on("validate-payment",this.validate),this.$root.$on("set-paypal-disabled",(function(){e.isPaypalDisabled=!0})),this.$root.$on("reset-validate",this.resetValidation),this.$root.$on("reset-retries",this.resetRetries),this.listenEventPaypalOnCancel()},methods:{listenEventPaypalOnCancel:function(){var e=this;document.querySelector("body").addEventListener("paypalOnCancel",(function(t){e.rejectBooking()}),!1)},clickStop:function(){jQuery(".b-booking-payment__agree .v-input--checkbox a").click((function(e){e.stopPropagation()}))},resetRetries:function(){this.retriesCount=0},rejectBooking:function(e){this.$root.$emit("reset-validate"),e&&(this.$root.$emit("get-quote"),this.paymentWarningDialog=!1,this.previousStep()),this.$store.commit("clearPayment"),this.$store.commit("clearCreateBookingOnce")},proccedBooking:function(){this.paymentWarningDialog=!1},cancelBooking:function(){var e=this;if(!this.hasValue(this.cancellationToken))return!1;this.$root.$emit("payment-show-loader");var t=this.getReservationPostUrl("CancelBooking"),i=JSON.stringify({cancellationToken:this.cancellationToken});this.$store.commit("setHasPriceDifference",!1),this.$store.commit("setReservationToken",""),this.$store.commit("setCancellationToken",""),this.$store.commit("setPaymentType",""),this.$store.commit("setBookingUrl",""),axios.post(t,i,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleError(t.data.errorMessages),!1;t.data.data||console.warn("cancelBooking failed"),e.clearPaymentWarningDialog(),e.$root.$emit("payment-hide-loader")})).catch((function(t){e.handleError(),console.error(t)}))},createBooking:function(){var e=this;this.retriesCount++;var t=store.getters.getTrips("getTrips"),i=t.map((function(e){return e.itinerary.companyCode})),n=t.map((function(t){return{uniqueId:t.itinerary.uniqueId,seats:t.seats.map((function(t){return{accommodationId:t.seatType,passenger:{id:t.id,passengerTypeId:t.passengerType,firstName:t.firstName,lastName:t.lastName,nationality:t.nationality,gender:t.gender,birthDate:t.birthDate,discountId:t.discount,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",residencyCode:t.manCode,documentNumber:t.passport,specialNeeds:t.specialNeeds}}})),berths:t.berths.map((function(t){return{accommodationId:t.id,type:t.accommodationType,passenger:{passengerTypeId:t.passengers[0].passengerType,firstName:t.passengers[0].firstName,lastName:t.passengers[0].lastName,nationality:t.passengers[0].nationality,gender:t.passengers[0].gender,birthDate:t.passengers[0].birthDate,discountId:t.passengers[0].discount,discountDocument:t.passengers[0].documentId,loyaltyCardNumber:e.hasValue(t.passengers[0].loyaltyCard)?t.passengers[0].loyaltyCard.code:"",residencyCode:t.passengers[0].manCode,documentNumber:t.passengers[0].passport,specialNeeds:t.passengers[0].specialNeeds}}})),cabins:t.cabins.map((function(t){return{accommodationId:t.id,passengers:t.passengers.map((function(t){return{passengerTypeId:t.passengerType,firstName:t.firstName,lastName:t.lastName,nationality:t.nationality,gender:t.gender,birthDate:t.birthDate,discountId:t.discount,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",residencyCode:t.manCode,documentNumber:t.passport,specialNeeds:t.specialNeeds}}))}})),vehicles:t.vehicles.map((function(t){return{id:t.id,accommodationId:t.vehicleType,discountId:t.discount,length:t.vehicleLength,plate:t.plateNumber,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",trailer:e.hasValue(t.trailer)?{id:t.trailer.id,accommodationId:t.trailer.trailerType,length:t.trailer.trailerLength,plate:t.trailer.trailerPlateNumber}:null}})),pets:t.pets.map((function(e){return{type:e.petType}}))}}));if(!n.length)return!1;this.$root.$emit("payment-show-loader");var r=this.getReservationPostUrl("CreateBooking"),s=JSON.stringify({state:this.stateCreateBookingSchedule,leadPassenger:{email:this.contact.email,mobile:this.contact.phoneNumber,dialingCode:this.contact.countryCode},price:this.price,paymentType:parseInt(this.payment.paymentMethod),hash:this.hashCreateBookingInventory,companyDiscounts:this.companyDiscounts.filter((function(e){return i.includes(e.companyCode)})),trips:n});axios.post(r,s,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleError(t.data.errorMessages),e.$store.commit("clearPayment"),!1;var i=t.data.data,n=i.hasPriceDifference,r=i.priceWarning,s=i.reservationToken,a=i.cancellationToken,o=i.reservation,c=i.paymentType,u=i.price,d=i.paymentCode,l=i.bookingUrl;e.setPaymentWarningDialog(n,r),e.$root.$emit("payment-hide-loader"),e.$root.$emit("booking-created",o),e.$root.$emit("booking-created-pricing",o.pricing),e.$store.commit("setCreateBookingOnce"),e.$store.commit("setPrice",u),e.$store.commit("setHasPriceDifference",n),e.$store.commit("setReservationToken",s),e.$store.commit("setCancellationToken",a),e.$store.commit("setPaymentType",c),e.$store.commit("setPaymentCode",d),e.$store.commit("setBookingUrl",l)})).catch((function(t){e.handleError(),console.error(t)}))},setPaymentWarningDialog:function(e,t){this.paymentWarningDialog=e,this.paymentWarningDialogText=t},clearPaymentWarningDialog:function(e){this.paymentWarningDialog=!1,this.paymentWarningDialogText=null},validate:function(){var e=this;return 3===this.currentStep&&(void 0!==this.$refs.form&&(this.isPaymentMethodCreditCard&&this.setCCValidateRules(),void setTimeout((function(){e.$refs.form.validate(),e.paymentValidateDialog=!e.valid,e.$store.commit("setPaymentIsValid",{isValid:e.valid})}))))},resetForm:function(){void 0!==this.$refs.form&&this.$refs.form.resetValidation()},resetValidation:function(){this.$refs.form.resetValidation()},previousStep:function(){this.$root.$emit("go-to-step",this.currentStep-1)},handleError:function(e){this.$root.$emit("payment-hide-loader"),this.$root.$emit("show-error-dialog",e)},decideBookingAction:function(){if(this.isRequiredCheckboxesChecked)return this.createBooking(),!1;this.cancelBooking()}},computed:_objectSpread({billAddrStateDataMapped:function(){return this.billAddrStateData.map((function(e){return{text:e.name,value:e.code}}))},ccCountriesDataMapped:function(){return this.ccCountriesData.map((function(e){return{text:e.name,value:e.code}}))},ccPhoneCodesDataCodes:function(){return this.ccPhoneCodesData.map((function(e){return e.code}))},ccPhoneCodesDataImageUrls:function(){return this.ccPhoneCodesData.map((function(e){return e.imageUrl}))},isDisabledAgreeTerms:function(){return!this.hasValue(this.paymentMethod)},isDisabledAgreeAgents:function(){return!this.hasValue(this.paymentMethod)},isDisabledAgreeCovid:function(){return!this.hasValue(this.paymentMethod)},isRadioReadOnly:function(){return this.retriesCount>=this.retries},hasZeroCost:function(){return"0"===this.paymentMethod},paymentMethod:{get:function(){return store.getters.getPaymentField("paymentMethod")},set:function(e){this.$store.commit("setPaymentField",{field:"paymentMethod",value:e})}},agreeTerms:{get:function(){return store.getters.getPaymentField("agreeTerms")},set:function(e){this.$store.commit("setPaymentField",{field:"agreeTerms",value:e}),this.decideBookingAction()}},agreeAgents:{get:function(){return store.getters.getPaymentField("agreeAgents")},set:function(e){this.$store.commit("setPaymentField",{field:"agreeAgents",value:e}),this.decideBookingAction()}},agreeCovid:{get:function(){return store.getters.getPaymentField("agreeCovid")},set:function(e){this.$store.commit("setPaymentField",{field:"agreeCovid",value:e}),this.decideBookingAction()}},subscribe:{get:function(){return store.getters.getPaymentField("subscribe")},set:function(e){this.$store.commit("setPaymentField",{field:"subscribe",value:e})}},cardholderName:{get:function(){return this.getCCField("cardholderName")},set:function(e){this.setCCField("cardholderName",e)}},email:{get:function(){return this.getCCField("email")},set:function(e){this.setCCField("email",e)}},billAddrLine1:{get:function(){return this.getCCField("billAddrLine1")},set:function(e){this.setCCField("billAddrLine1",e)}},billAddrLine2:{get:function(){return this.getCCField("billAddrLine2")},set:function(e){this.setCCField("billAddrLine2",e)}},billAddrLine3:{get:function(){return this.getCCField("billAddrLine3")},set:function(e){this.setCCField("billAddrLine3",e)}},billAddrCountry:{get:function(){return this.getCCField("billAddrCountry")},set:function(e){this.setCCField("billAddrState",null),this.restBillAddrStateRules(),this.setCCField("billAddrCountry",e),this.getCountryStates(e)}},billAddrPostCode:{get:function(){return this.getCCField("billAddrPostCode")},set:function(e){this.setCCField("billAddrPostCode",e)}},billAddrState:{get:function(){return this.getCCField("billAddrState")},set:function(e){this.setCCField("billAddrState",e)}},billAddrCity:{get:function(){return this.getCCField("billAddrCity")},set:function(e){this.setCCField("billAddrCity",e)}},mobilePhoneCode:{get:function(){return this.getCCField("mobilePhoneCode")},set:function(e){this.setCCField("mobilePhoneCode",e)}},mobilePhone:{get:function(){return this.getCCField("mobilePhone")},set:function(e){this.setCCField("mobilePhone",e)}},homePhoneCode:{get:function(){return this.getCCField("homePhoneCode")},set:function(e){this.setCCField("homePhoneCode",e)}},homePhone:{get:function(){return this.getCCField("homePhone")},set:function(e){this.setCCField("homePhone",e)}},workPhoneCode:{get:function(){return this.getCCField("workPhoneCode")},set:function(e){this.setCCField("workPhoneCode",e)}},workPhone:{get:function(){return this.getCCField("workPhone")},set:function(e){this.setCCField("workPhone",e)}},isRequiredCheckboxesChecked:function(){return this.agreeTerms&&this.agreeAgents&&this.agreeCovid},isPaymentMethodCreditCard:function(){return"1"===this.paymentMethod},isDisabledState:function(){var e=this.billAddrStateData;return!this.hasValue(this.billAddrCountry)||!e.length}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},piraeusPaymentEndpoint:function(e){return e.piraeusPaymentEndpoint},currentStep:function(e){return e.currentStep},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},stateCreateBookingSchedule:function(e){return e.stateCreateBookingSchedule},hashCreateBookingInventory:function(e){return e.hashCreateBookingInventory},companyDiscounts:function(e){return e.companyDiscounts},contact:function(e){return e.contact},payment:function(e){return e.payment},quotes:function(e){return e.quotes},price:function(e){return e.price},cancellationToken:function(e){return e.cancellationToken},hasPriceDifference:function(e){return e.hasPriceDifference},paymentType:function(e){return e.paymentType},cc:function(e){return e.cc}})),watch:{paymentMethod:function(e,t){this.hasValue(t)&&e!==t&&(this.agreeTerms=!1,this.agreeAgents=!1,this.agreeCovid=!1,this.resetValidation())},mobilePhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteMobilePhoneCode.$refs.input)},homePhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteHomePhoneCode.$refs.input)},workPhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteWorkPhoneCode.$refs.input)}}}),Vue.component("v-booking-payment-card-retry",{mixins:[mixins,mixinsBooking,mixinsCC],props:["ccPersonalData","ccCountriesData","ccPhoneCodesData"],data:function(){return{menu_props:{offsetY:!0,closeOnClick:!1},valid:!0,paymentValidateDialog:!1,emailRules:[],cardholderNameRules:[],billAddrLine1Rules:[],billAddrLine2Rules:[],billAddrLine3Rules:[],billAddrPostCodeRules:[],billAddrCountryRules:[],billAddrStateRules:[],billAddrCityRules:[],homePhoneRules:[],mobilePhoneRules:[],workPhoneRules:[],phoneCodeRules:[],billAddrStateData:[]}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("validate-payment",this.validate),this.$root.$on("reset-validate",this.resetValidation)},methods:{iniCCPersonalData:function(){if(!this.hasValue(this.ccPersonalData))return!1;var e=this.ccPersonalData,t=e.reservationToken,i=e.cardholderName,n=e.email,r=e.address01,s=e.address02,a=e.address03,o=e.country,c=e.postalCode,u=e.region,d=e.city,l=e.mobilePhone,h=e.homePhone,p=e.workPhone;this.$store.commit("setReservationToken",t),this.cardholderName=i,this.email=n,this.billAddrLine1=r,this.billAddrLine2=s,this.billAddrLine3=a,this.billAddrCountry=o,this.billAddrPostCode=c,this.billAddrState=u,this.billAddrCity=d,this.mobilePhoneCode=l.split("-")[0],this.mobilePhone=l.split("-")[1],this.homePhoneCode=h.split("-")[0],this.homePhone=h.split("-")[1],this.workPhoneCode=p.split("-")[0],this.workPhone=p.split("-")[1]},validate:function(){var e=this;return console.log("validate"),3!==this.currentStep?(console.log(0),!1):void 0!==this.$refs.form&&(this.setCCValidateRules(),void setTimeout((function(){e.$refs.form.validate(),e.paymentValidateDialog=!e.valid,e.$store.commit("setPaymentIsValid",{isValid:e.valid})})))},resetForm:function(){void 0!==this.$refs.form&&this.$refs.form.resetValidation()},resetValidation:function(){this.$refs.form.resetValidation()},handleError:function(e){this.$root.$emit("payment-hide-loader"),this.$root.$emit("show-error-dialog",e)}},computed:_objectSpread({dataInitialized:function(){return this.ccCountriesData.length&&this.ccPhoneCodesData.length&&this.hasValue(this.ccPersonalData)},billAddrStateDataMapped:function(){return this.billAddrStateData.map((function(e){return{text:e.name,value:e.code}}))},ccCountriesDataMapped:function(){return this.ccCountriesData.map((function(e){return{text:e.name,value:e.code}}))},ccPhoneCodesDataCodes:function(){return this.ccPhoneCodesData.map((function(e){return e.code}))},ccPhoneCodesDataImageUrls:function(){return this.ccPhoneCodesData.map((function(e){return e.imageUrl}))},cardholderName:{get:function(){return this.getCCField("cardholderName")},set:function(e){this.setCCField("cardholderName",e)}},email:{get:function(){return this.getCCField("email")},set:function(e){this.setCCField("email",e)}},billAddrLine1:{get:function(){return this.getCCField("billAddrLine1")},set:function(e){this.setCCField("billAddrLine1",e)}},billAddrLine2:{get:function(){return this.getCCField("billAddrLine2")},set:function(e){this.setCCField("billAddrLine2",e)}},billAddrLine3:{get:function(){return this.getCCField("billAddrLine3")},set:function(e){this.setCCField("billAddrLine3",e)}},billAddrCountry:{get:function(){return this.getCCField("billAddrCountry")},set:function(e){this.setCCField("billAddrState",null),this.restBillAddrStateRules(),this.setCCField("billAddrCountry",e),this.getCountryStates(e)}},billAddrPostCode:{get:function(){return this.getCCField("billAddrPostCode")},set:function(e){this.setCCField("billAddrPostCode",e)}},billAddrState:{get:function(){return this.getCCField("billAddrState")},set:function(e){this.setCCField("billAddrState",e)}},billAddrCity:{get:function(){return this.getCCField("billAddrCity")},set:function(e){this.setCCField("billAddrCity",e)}},mobilePhoneCode:{get:function(){return this.getCCField("mobilePhoneCode")},set:function(e){this.setCCField("mobilePhoneCode",e)}},mobilePhone:{get:function(){return this.getCCField("mobilePhone")},set:function(e){this.setCCField("mobilePhone",e)}},homePhoneCode:{get:function(){return this.getCCField("homePhoneCode")},set:function(e){this.setCCField("homePhoneCode",e)}},homePhone:{get:function(){return this.getCCField("homePhone")},set:function(e){this.setCCField("homePhone",e)}},workPhoneCode:{get:function(){return this.getCCField("workPhoneCode")},set:function(e){this.setCCField("workPhoneCode",e)}},workPhone:{get:function(){return this.getCCField("workPhone")},set:function(e){this.setCCField("workPhone",e)}},isDisabledState:function(){var e=this.billAddrStateData;return!this.hasValue(this.billAddrCountry)||!e.length}},mapState({dictionary:function(e){return e.dictionary},piraeusPaymentEndpoint:function(e){return e.piraeusPaymentEndpoint},currentStep:function(e){return e.currentStep},reservationToken:function(e){return e.reservationToken},cc:function(e){return e.cc}})),watch:{dataInitialized:function(e){e&&this.iniCCPersonalData()},mobilePhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteMobilePhoneCode.$refs.input)},homePhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteHomePhoneCode.$refs.input)},workPhoneCode:function(e){this.setPhoneCodeImageUrl(e,this.$refs.autocompleteWorkPhoneCode.$refs.input)}}}),Vue.component("v-booking-review",{mixins:[mixins,mixinsBooking],props:["trip"],data:function(){return{}},mounted:function(){this.elem=jQuery(this.$el)},methods:{getSeatType:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.seats.find((function(t){return t.id===e})).name:null},getPassengerType:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.passengerTypes.find((function(t){return t.id===e})).name:null},getDiscount:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.accommodationDiscounts.find((function(t){return t.id===e})).name:null},getPrice:function(e){var t=this;if(!this.quotes.length)return null;if(!this.hasValue(this.trip.itinerary))return null;var i=this.quotes.find((function(e){return e.uniqueId===t.trip.itinerary.uniqueId}));if(!this.hasValue(i))return null;var n=i.accommodationPrices.find((function(t){return t.id===e}));return this.hasValue(n)?n.price:"&euro;0,00"},getVehicleTypeName:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.vehicles.find((function(t){return t.id===e})).name:null},getTrailerTypeName:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.trailers.find((function(t){return t.id===e})).name:null},getPetTypeName:function(e){if(!this.hasValue(this.accommodation))return null;if(!this.hasValue(e))return null;var t=e;switch(e){case 1:t=this.dictionary.petTypeKennel;break;case 2:t=this.dictionary.petTypeCabin;break;case 3:t=this.dictionary.petTypeDeck}return t},getPropertiesIcons:function(e){var t=[];return e.includes("isExternal")?t.push({icon:"icon-cabin-window",title:this.dictionary.tooltipCabinExternal}):t.push({icon:"icon-cabin-no-window",title:this.dictionary.tooltipCabinNoExternal}),e.includes("isPure")&&t.push({icon:"icon-pure-cabin",title:this.dictionary.tooltipCabinPure}),e.includes("supportsPets")&&t.push({icon:"icon-pet-filled",title:this.dictionary.tooltipCabinPets}),t}},computed:_objectSpread({totalPrice:function(){var e=this;if(!this.quotes.length||!this.trip.itinerary)return null;var t=this.quotes.find((function(t){return t.uniqueId===e.trip.itinerary.uniqueId}));return void 0===t?null:t.total},pureSurcharge:function(){var e=this;if(!this.quotes.length||!this.trip.itinerary)return null;var t=this.quotes.find((function(t){return t.uniqueId===e.trip.itinerary.uniqueId}));return void 0===t?null:t.pureSurcharge},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},reviews:function(){var e=this,t=this.booked.find((function(t){return t.id===e.trip.id})),i=t.berths.map((function(t){return t.passengers.map((function(i){return{fullName:"".concat(i.firstName," ").concat(i.lastName),seatType:t.name,seatTypeIcon:{icon:"icon-cabin",title:e.dictionary.tooltipCabinBerth},passengerType:e.getPassengerType(i.passengerType),discount:e.getDiscount(i.discount),price:e.getPrice(i.id),propertiesIcons:e.getPropertiesIcons(t.properties)}}))})).reduce((function(e,t){return e.concat(t)}),[]),n=t.cabins.map((function(t){return t.passengers.map((function(i){return{fullName:"".concat(i.firstName," ").concat(i.lastName),seatType:t.name,seatTypeIcon:{icon:"icon-whole-cabin",title:e.dictionary.tooltipCabinWhole},passengerType:e.getPassengerType(i.passengerType),discount:e.getDiscount(i.discount),price:e.getPrice(i.id),propertiesIcons:e.getPropertiesIcons(t.properties)}}))})).reduce((function(e,t){return e.concat(t)}),[]),r=t.seats.map((function(t){return{fullName:"".concat(t.firstName," ").concat(t.lastName),seatType:e.getSeatType(t.seatType),seatTypeIcon:{icon:"icon-seat",title:e.dictionary.tooltipSeat},passengerType:e.getPassengerType(t.passengerType),discount:e.getDiscount(t.discount),price:e.getPrice(t.id),propertiesIcons:[]}})).reduce((function(e,t){return e.concat(t)}),[]);return i.concat(n.concat(r))},vehicleReviews:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id})).vehicles.map((function(t){return{plateNumber:t.plateNumber,vehicleType:e.getVehicleTypeName(t.vehicleType),vehicleGroupIcon:e.getVehicleGroupIcon(t.vehicleGroup),vehicleLength:"".concat(t.vehicleLength).concat(e.dictionary.meter),discount:e.getDiscount(t.discount),price:e.getPrice(t.id)}}))},trailersReviews:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id})).vehicles.filter((function(t){return e.hasValue(t.trailer)})).map((function(e){return e.trailer})).map((function(t){return{trailerPlateNumber:t.trailerPlateNumber,trailerType:e.getTrailerTypeName(t.trailerType),vehicleGroupIcon:e.getVehicleGroupIcon(t.vehicleGroup),trailerLength:"".concat(t.trailerLength).concat(e.dictionary.meter),price:e.getPrice(t.id)}}))},petsReviews:function(){var e=this;return this.booked.find((function(t){return t.id===e.trip.id})).pets.map((function(t){return{petType:e.getPetTypeName(t.petType),price:e.getPrice(t.id)}}))}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},quotes:function(e){return e.quotes}})),watch:{}}),Vue.component("v-booking-share",{mixins:[mixins],props:[],data:function(){var e=this;return{valid:!1,isLoading:!1,email:null,dialog:!1,recipients:[{email:""}],maxRecipients:null,emailRules:[function(t){return!!t||e.dictionary.emailRequired},function(t){return/.+@.+\..+/.test(t)||e.dictionary.emailRegex}],postHandlerUrl:null,reservation:null,formView:!0,emailSent:!1,emailSuccessMsg:null,emailErrorMsg:null}},mounted:function(){this.elem=jQuery(this.$el),this.$root.$on("validate",this.validate),this.maxRecipients=this.elem.data("max-recipients"),this.postHandlerUrl=this.elem.data("post-handler"),this.reservation=this.elem.data("reservation")},methods:{validate:function(){return void 0!==this.$refs.form&&(this.$refs.form.validate(),this.valid)},addRecipient:function(){this.recipients.length<this.maxRecipients&&this.recipients.push({email:""})},removeRecipient:function(e){this.recipients.splice(e,1)},postEmailAddresses:function(){var e=this;if(!this.validate())return!1;this.isLoading=!0;var t=this.postHandlerUrl,i=JSON.stringify({reservation:this.reservation,recipients:this.recipients});axios.post(t,i,this.getAxiosConfig).then((function(t){var i=t.data;if(e.isLoading=!1,i.hasError)return e.handleError(i.errorMessages),!1;e.formView=!1,e.emailSent=!0,e.emailSuccessMsg=i.data})).catch((function(t){e.isLoading=!1,e.$root.$emit("show-error-dialog"),console.log("An error occured",t)}))},handleError:function(e){this.emailSent=!1,this.formView=!1,this.emailErrorMsg=e[0]},setFormView:function(){this.formView=!0},closeDialog:function(){this.dialog=!1}},computed:_objectSpread({},mapState(_defineProperty({dictionary:function(e){return e.dictionary}},"dictionary",(function(e){return e.dictionary})))),watch:{dialog:function(){this.dialog||(this.formView=!0,this.emailSent=!1)}}}),Vue.component("v-booking-disclaimer",{mixins:[mixins],props:["message"],template:'\n        <div class="b-booking-disclaimer">\n            <div class="icon-alert-error"></div>\n            <div class="txt">\n                <p v-html="message"></p>\n            </div>\n        </div>\n    ',data:function(){return{}},mounted:function(){},methods:{},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-disclaimer-seats",{mixins:[mixins],props:["trip","message"],template:'\n        <div class="b-booking-disclaimer"\n            v-if="showDisclaimer">\n            <div class="icon-alert-error"></div>\n            <div class="txt">\n                <p v-html="message"></p>\n            </div>\n        </div>\n    ',data:function(){return{}},mounted:function(){},methods:{isNumberedSeat:function(e){if(!this.hasValue(this.trip))return!1;var t=this.trip.itinerary.accommodation.seats.find((function(t){return t.id===e}));return!!this.hasValue(t)&&t.isNumbered}},computed:_objectSpread({showDisclaimer:function(){var e=this,t=store.getters.getSeats(this.trip.id).map((function(e){return e.seatType})).filter((function(t){return e.hasValue(t)&&e.isNumberedSeat(t)}));return this.arrayHasDuplicates(t)}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-add-calendar",{mixins:[mixins],props:["booked"],data:function(){return{valid:!1,isLoading:!1}},mounted:function(){this.elem=jQuery(this.$el)},methods:{downloadIcsFiles:function(){var e=this;this.booked.trips.forEach((function(t){var i=ics(),n="".concat(t.departurePort," - ").concat(t.arrivalPort),r=e.hasValue(t.departureGate)?"".concat(t.departurePort,", ").concat(t.departureGate):"".concat(t.departurePort),s=new Date(t.departureDateObj),a=new Date(t.arrivalDateObj);i.addEvent(n,"",r,s,a),i.download("".concat(n," ").concat(t.departureDate))}))}},computed:{},watch:{}}),Vue.component("v-booking-reservation-trip",{mixins:[mixins,mixinsBooking],props:["trip","index"],data:function(){return{}},template:'\n        <div class="b-booking-pricing__itin__item">\n            <div class="b-booking-pricing__itin__item__head">\n                <div class="b-booking-pricing__row">\n                    <div class="b-booking-pricing__row__col">\n\n                        <div class="b-booking-pricing__ports">\n                            <span>{{ trip.departurePort }}</span>\n                            <span class="icon-arrow-itinerary-sml"></span>\n                            <span>{{ trip.arrivalPort }}</span>\n                        </div>\n                        <div class="b-booking-pricing__date">{{dictionary.departureUpper}}: {{trip.departureDate}}</div>\n\n                    </div>\n                    <div class="b-booking-pricing__row__col">\n                        <div class="b-booking-pricing__price" v-html="trip.price"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="b-booking-pricing__itin__item__body">\n                <ul>\n\n                    \x3c!--passengers--\x3e\n                    <li class="b-booking-pricing__row"\n                        v-for="passenger in trip.passengers">\n                        <div class="b-booking-pricing__row__col">\n                            <div class="b-booking-pricing__label">\n                                <span>{{ passenger.fullName }}</span>\n                                <ul class="b-booking-pricing__label__details">\n                                    <li v-bind:class="getSeatTypeIcon(passenger.accommodationType).icon"\n\t\t\t\t\t\t\t\t\t\tv-bind:title="getSeatTypeIcon(passenger.accommodationType).title"></li>\n                                    <li>{{ passenger.seatType }}\n                                        <ul v-show="getPropertiesIcons(passenger).length">\n\t\t\t\t\t\t\t\t\t\t    <li v-for="(item, index) in getPropertiesIcons(passenger)"\n\t\t\t\t\t\t\t\t\t\t\t    v-bind:key="index"\n\t\t\t\t\t\t\t\t\t\t\t\tv-bind:class="item.icon"\n                                                v-bind:title="item.title">\n\t\t\t\t\t\t\t\t\t\t    </li>\n\t\t\t\t\t\t\t\t\t    </ul>\n                                    </li>\n                                    <li v-show="getPassengerType(passenger.passengerTypeId)">{{ getPassengerType(passenger.passengerTypeId) }}</li>\n                                    <li v-show="passenger.discount">{{ passenger.discount }}</li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class="b-booking-pricing__row__col">\n                            <div class="b-booking-pricing__price" v-html="passenger.price"></div>\n                        </div>\n                    </li>\n\n\t\t\t\t\t\x3c!--pureSurcharge--\x3e\n\t\t\t\t\t<li class="b-booking-pricing__row"\n\t\t\t\t\t\tv-if="trip.pureSurcharge">\n\t\t\t\t\t\t<div class="b-booking-pricing__row__col">\n\t\t\t\t\t\t\t<div class="b-booking-pricing__label">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span class="icon-pure-cabin">{{ dictionary.costsPureSurcharge }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="b-booking-pricing__row__col">\n\t\t\t\t\t\t\t<div class="b-booking-pricing__price" v-html="trip.pureSurcharge"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\n                    \x3c!--vehicles--\x3e\n                    <li class="b-booking-pricing__row"\n                        v-for="vehicle in trip.vehicles">\n                        <div class="b-booking-pricing__row__col">\n\n                            <div class="b-booking-pricing__label">\n                                <div>\n                                    <span>{{ vehicle.type }}</span>\n                                    <ul class="b-booking-pricing__label__details">\n                                        <li v-bind:class="getVehicleGroupIcon(vehicle.vehicleGroup)"\n\t\t\t\t\t\t\t\t\t\t\tv-bind:title="getVehicleTypeTooltip(vehicle.vehicleType)"></li>\n\t\t\t\t\t\t\t\t\t\t<li v-show="vehicle.plate">{{ vehicle.plate }}</li>\n\t\t\t\t\t\t\t\t\t\t<li v-show="vehicle.length">{{ vehicle.length }}</li>\n\t\t\t\t\t\t\t\t\t\t<li v-show="vehicle.discount">{{ vehicle.discount }}</li>\n\t\t\t\t\t\t\t\t\t</ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="b-booking-pricing__row__col">\n                            <div class="b-booking-pricing__price" v-html="vehicle.price"></div>\n                        </div>\n                    </li>\n\n                    \x3c!--pets--\x3e\n                    <li class="b-booking-pricing__row"\n                        v-for="(pet,index) in trip.pets">\n                        <div class="b-booking-pricing__row__col">\n                            <div class="b-booking-pricing__label">\n                                <div>\n                                    <span>{{ dictionary.petUpper }}</span>\n                                    <ul class="b-booking-pricing__label__details">\n                                        <li class="icon-pet"\n\t\t\t\t\t\t\t\t\t\t\tv-bind:title="dictionary.tooltipPet"></li>\n                                        <li>{{ pet.type }}</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="b-booking-pricing__row__col">\n                            <div class="b-booking-pricing__price" v-html="pet.price"></div>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    ',created:function(){},mounted:function(){},methods:{getPropertiesIcons:function(e){if(1===e.accommodationType)return[];var t=[];return e.isExternal?t.push({icon:"icon-cabin-window",title:this.dictionary.tooltipCabinExternal}):t.push({icon:"icon-cabin-no-window",title:this.dictionary.tooltipCabinNoExternal}),e.isPure&&t.push({icon:"icon-pure-cabin",title:this.dictionary.tooltipCabinPure}),e.supportsPets&&t.push({icon:"icon-pet-filled",title:this.dictionary.tooltipCabinPets}),t},getSeatTypeIcon:function(e){return 1===e?{icon:"icon-seat",title:this.dictionary.tooltipSeat}:2===e?{icon:"icon-cabin",title:this.dictionary.tooltipCabinBerth}:3===e?{icon:"icon-whole-cabin",title:this.dictionary.tooltipCabinWhole}:{icon:null,title:null}},getVehicleTypeTooltip:function(e){return 1===e?this.dictionary.tooltipVehicle:2===e?this.dictionary.tooltipTrailer:""},getPassengerType:function(e){return this.hasValue(this.accommodation)&&this.hasValue(e)?this.accommodation.passengerTypes.find((function(t){return t.id===e})).name:null}},computed:_objectSpread({accomodation:function(){return this.booked.length&&this.hasValue(this.booked[this.index].itinerary)?this.booked[this.index].itinerary.accommodation:null}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-availability-icons",{mixins:[mixins],props:["summary"],data:function(){return{}},template:'        \n        <ul>\n            \x3c!--seats--\x3e\n            <li v-bind:class="getAvailabilityClass(summary.seats)">\n                <div class="icon-seat"></div>\n            </li>\n            \x3c!--cabins--\x3e\n            <li v-bind:class="getAvailabilityClass(summary.cabins)">\n                <div class="icon-cabin"></div>\n            </li>\n            \x3c!--vehicles--\x3e\n            <li v-bind:class="getAvailabilityClass(summary.vehicles)">\n                <div class="icon-vehicle"></div>\n            </li>\n        </ul>\n    ',mounted:function(){this.elem=jQuery(this.$el)},methods:{getAvailabilityClass:function(e){return-1===e?"no-available":0===e?"no":1===e?"limited":""}},computed:{},watch:{}}),Vue.component("v-booking-availability-option",{mixins:[mixins],props:["item","type"],template:'        \n        <li>\n            <div class="column-1">\n            <span>{{ item.description }}</span>\n            <ul v-if="type === \'cabin\'">\n                <li v-if="!item.isBerth"><span class="icon-whole-cabin" :title="dictionary.tooltipCabinWhole"></span></li>                \n                <li v-if="item.isBerth"><span class="icon-cabin-filled" :title="dictionary.tooltipCabinBerth"></span></li>\n                <li v-if="item.isExternal"><span class="icon-cabin-window" :title="dictionary.tooltipCabinExternal"></span></li>\n                <li v-if="!item.isExternal"><span class="icon-cabin-no-window" :title="dictionary.tooltipCabinNoExternal"></span></li>\n                <li v-if="item.isPure"><span class="icon-pure-cabin" :title="dictionary.tooltipCabinPure"></span></li>\n                <li v-if="item.supportsPets"><span class="icon-pet-filled" :title="dictionary.tooltipCabinPets"></span></li>\n            </ul>\n            </div>\n            <div class="column-2"><span class="dot" v-bind:class="getAvailabilityClass()"></span><span v-html="getAvailabilityText()"></span></div>\n            <div class="column-3"><span v-html="item.price"></span></div>\n        </li>\n    ',mounted:function(){},methods:{getAvailabilityText:function(e){return 0===this.item.status?this.dictionary.availabilityNo:1===this.item.status?"".concat(this.dictionary.availabilityLimited," (").concat(this.item.count,")"):this.dictionary.availabilityYes},getAvailabilityClass:function(){return 0===this.item.status?"no":1===this.item.status?"limited":""}},computed:_objectSpread({},mapState({dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-no-garage",{mixins:[mixins],props:["trip"],data:function(){return{}},template:'        \n        <div class="s-booking-accommodation__item__no-garage"\n            v-if="hasVehiclesButNoGarage">\n            <v-alert type="warning"\n                    dense\n                    border="left"\n                    colored-border\n                    elevation="2">\n                {{ dictionary.noGarageForVehicles }}\n            </v-alert>\n        </div>\n    ',mounted:function(){},methods:{},computed:_objectSpread({itinerary:function(){return this.trip.itinerary},hasVehiclesButNoGarage:function(){var e=this.getData("userData");return null!==e&&(null!==this.itinerary&&(e.vehiclesCount>0&&(-1===this.itinerary.availabilitySummary.vehicles||!this.itinerary.vessel.hasGarage)))}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary}})),watch:{}}),Vue.component("v-booking-button-step1",{mixins:[mixins,mixinsBooking],props:[],data:function(){return{isLoading:!1,goToStep:2,itineraryWarningDialog:!1,warningMsgs:[]}},mounted:function(){},methods:{submit:function(){var e=this;this.isLoading=!0;var t=this.getReservationPostUrl("CreateBookingSchedule"),i=JSON.stringify({state:this.stateCreateBookingPlan,trips:this.booked.map((function(e){return{id:e.itinerary.id,uniqueId:e.itinerary.uniqueId,hash:e.itinerary.hash}}))});axios.post(t,i,this.getAxiosConfig).then((function(t){return e.isLoading=!1,t.data.hasError?(e.handleError(t.data.errorMessages),!1):(e.$store.commit("setStateCreateBookingSchedule",t.data.data.state),e.setDataLayer(),e.warningMsgs=t.data.data.warnings,e.warningMsgs.length?(e.itineraryWarningDialog=!0,!1):void e.goToStep2())})).catch((function(t){e.handleError(),console.error(t)}))},goToStep2:function(){this.itineraryWarningDialog=!1,this.scrollToTop(),this.$store.commit("setCurrentStep",this.goToStep)},handleError:function(e){this.isLoading=!1,this.$root.$emit("show-error-dialog",e)},setDataLayer:function(){var e=this,t=this.booked[0],i={event:"formSubmission",formID:"Step 1 Booking Form",trip:this.booked.map((function(t){return{dep_port:t.departurePortText,dep_date:t.itinerary.departureDateTime.split(" ")[0],dep_time:t.itinerary.departureDateTime.split(" ")[1],arr_port:t.arrivalPortText,arr_date:t.itinerary.arrivalDateTime.split(" ")[0],arr_time:t.itinerary.arrivalDateTime.split(" ")[1],price:e.stripCurrency(t.itinerary.basePrice),ship_name:t.itinerary.vessel.name}})),passengers:t.passengersCount,vehicles:t.vehiclesCount,pets:t.petsCount};window.dataLayer=window.dataLayer||[],dataLayer.push(i)}},computed:_objectSpread(_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan}})),{},{isDisabled:function(){return!this.booked.every((function(e){return null!==e.itinerary}))}}),watch:{}}),Vue.component("v-booking-calculator",{mixins:[mixins,mixinsBooking],props:["loading"],data:function(){return{menuProps:{offsetY:!0,closeOnClick:!1},loadingConfirm:!1,goToStep:3,selected:[],discountsAll:[],discountsFiltered:[],priceAnalysis:null,dataLayerIndex:0}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("get-quote-changed",this.setPriceAnalysis),this.$root.$on("itinerary-selected",this.getCompaniesDiscounts)},methods:{createBookingInventory:function(){var e=this,t=store.getters.getTrips("getTrips"),i=t.map((function(e){return e.itinerary.companyCode})),n=t.map((function(t){return{uniqueId:t.itinerary.uniqueId,seats:t.seats.map((function(t){return{accommodationId:t.seatType,passenger:{id:t.id,passengerTypeId:t.passengerType,firstName:t.firstName,lastName:t.lastName,nationality:t.nationality,gender:t.gender,birthDate:t.birthDate,discountId:t.discount,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",residencyCode:t.manCode,documentNumber:t.passport,specialNeeds:t.specialNeeds}}})),berths:t.berths.map((function(t){return{accommodationId:t.id,type:t.accommodationType,passenger:{passengerTypeId:t.passengers[0].passengerType,firstName:t.passengers[0].firstName,lastName:t.passengers[0].lastName,nationality:t.passengers[0].nationality,gender:t.passengers[0].gender,birthDate:t.passengers[0].birthDate,discountId:t.passengers[0].discount,discountDocument:t.passengers[0].documentId,loyaltyCardNumber:e.hasValue(t.passengers[0].loyaltyCard)?t.passengers[0].loyaltyCard.code:"",residencyCode:t.passengers[0].manCode,documentNumber:t.passengers[0].passport,specialNeeds:t.passengers[0].specialNeeds}}})),cabins:t.cabins.map((function(t){return{accommodationId:t.id,passengers:t.passengers.map((function(t){return{passengerTypeId:t.passengerType,firstName:t.firstName,lastName:t.lastName,nationality:t.nationality,gender:t.gender,birthDate:t.birthDate,discountId:t.discount,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",residencyCode:t.manCode,documentNumber:t.passport,specialNeeds:t.specialNeeds}}))}})),vehicles:t.vehicles.map((function(t){return{id:t.id,accommodationId:t.vehicleType,discountId:t.discount,length:t.vehicleLength,plate:t.plateNumber,discountDocument:t.documentId,loyaltyCardNumber:e.hasValue(t.loyaltyCard)?t.loyaltyCard.code:"",trailer:e.hasValue(t.trailer)?{id:t.trailer.id,accommodationId:t.trailer.trailerType,length:t.trailer.trailerLength,plate:t.trailer.trailerPlateNumber}:null}})),pets:t.pets.map((function(e){return{type:e.petType}}))}}));if(!n.length)return!1;this.loadingConfirm=!0;var r=this.getReservationPostUrl("CreateBookingInventory"),s=JSON.stringify({state:this.stateCreateBookingSchedule,leadPassenger:{email:this.contact.email,mobile:this.contact.phoneNumber,dialingCode:this.contact.countryCode},price:this.price,companyDiscounts:this.companyDiscounts.filter((function(e){return i.includes(e.companyCode)})),trips:n});axios.post(r,s,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleError(t.data.errorMessages),!1;e.loadingConfirm=!1,e.scrollToTop(),e.$store.commit("setCurrentStep",e.goToStep),e.$store.commit("setHashCreateBookingInventory",t.data.data.hash),e.setDataLayer()})).catch((function(t){e.handleError(),console.error(t)}))},getCompaniesDiscounts:function(){var e=this,t=this.booked.filter((function(t){return e.hasValue(t.itinerary)})).map((function(e){return e.itinerary.uniqueId}));if(this.booked.filter((function(t){return e.hasValue(t.itinerary)})).map((function(e){return e.itinerary})).forEach((function(t){t.accommodation.companyDiscounts.forEach((function(i){e.discountsAll.push({uniqueId:t.uniqueId,companyCode:t.companyCode,companyName:t.companyName,id:i.id,name:i.name,description:i.description})}))})),!this.discountsAll.length)return!1;this.discountsAll=this.discountsAll.filter((function(e){return t.includes(e.uniqueId)}));var i=this.discountsAll.map((function(e){return e.companyCode})).filter((function(e,t,i){return i.indexOf(e)===t}));this.discountsFiltered=[],i.forEach((function(t){e.discountsFiltered.push({companyCode:t,companyName:e.discountsAll.find((function(e){return e.companyCode===t})).companyName,menu:!1,discounts:e.discountsAll.filter((function(e){return e.companyCode===t})).map((function(e){return{id:e.id,name:e.name,description:e.description}})).filter((function(e,t,i){return t===i.findIndex((function(t){return t.id===e.id&&t.name===e.name}))})).map((function(e){return{text:e.name,value:e.id,description:e.description}}))})}))},setPriceAnalysis:function(e){if(!this.hasValue(e))return this.priceAnalysis=null,!1;var t=e.priceAnalysis;this.priceAnalysis=t},validateData:function(){return!!(store.getters.getCabinsIsValid()&&store.getters.getSeatsIsValid()&&store.getters.getVehiclesIsValid()&&store.getters.getContactIsValid()&&store.getters.getPetsIsValid())||(this.scrollToValidation(),!1)},goToStep3:function(){var e=this;this.$root.$emit("validate"),setTimeout((function(){if(!e.validateData())return!1;0===e.price&&e.$store.commit("setPaymentField",{field:"paymentMethod",value:"0"}),e.createBookingInventory()}))},setDiscountObj:function(){var e=this;if(!this.selected.length)return!1;var t=this.selected.filter((function(e){return void 0!==e})).map((function(t){return{discountId:t,companyCode:e.discountsAll.find((function(e){return e.id===t})).companyCode}}));this.$store.commit("setCompanyDiscounts",t),this.$root.$emit("get-quote")},showDescription:function(e,t){return!!this.hasValue(t.description)&&(!!this.hasValue(this.selected[e])&&this.selected[e]===t.value)},handleError:function(e){this.loadingConfirm=!1,this.$root.$emit("show-error-dialog",e)},getPriceDataLayer:function(e,t){var i=this.quotes.find((function(t){return t.uniqueId===e.itinerary.uniqueId}));if(!this.hasValue(i))return"0,00";var n=i.accommodationPrices.find((function(e){return e.id===t}));return this.hasValue(n)?this.stripCurrency(n.price):"0,00"},getPetTypeNameDataLayer:function(e){var t="";switch(e){case 1:t="In Kennel";break;case 2:t="In Cabin";break;case 3:t="On Deck"}return t},mapSeatToDataLayer:function(e,t){return this.dataLayerIndex=this.dataLayerIndex+1,{item_name:"".concat(e.departurePortText,"-").concat(e.arrivalPortText),item_id:"x".concat(this.dataLayerIndex),price:this.getPriceDataLayer(e,t.id),item_category:"Passenger",item_category2:t.passengerType,item_category3:this.hasValue(t.discount)?t.discount:"",item_category4:t.seatType,quantity:1,item_coupon:this.hasValue(t.loyaltyCard)?"Seasmiles Card":""}},mapCabinOrBerthPassengerToDataLayer:function(e,t,i){return this.dataLayerIndex=this.dataLayerIndex+1,{item_name:"".concat(e.departurePortText,"-").concat(e.arrivalPortText),item_id:"x".concat(this.dataLayerIndex),price:this.getPriceDataLayer(e,i.id),item_category:"Passenger",item_category2:i.passengerType,item_category3:this.hasValue(i.discount)?i.discount:"",item_category4:t.id,quantity:1,item_coupon:this.hasValue(i.loyaltyCard)?"Seasmiles Card":""}},mapVehicleToDataLayer:function(e,t){return this.dataLayerIndex=this.dataLayerIndex+1,{item_name:"".concat(e.departurePortText,"-").concat(e.arrivalPortText),item_id:"x".concat(this.dataLayerIndex),price:this.getPriceDataLayer(e,t.id),item_category:"Vehicle",item_category2:t.vehicleType,item_category3:this.hasValue(t.discount)?t.discount:"",item_category4:"",quantity:1,item_coupon:this.hasValue(t.loyaltyCard)?"Seasmiles Card":""}},mapPetToDataLayer:function(e,t){return this.dataLayerIndex=this.dataLayerIndex+1,{item_name:"".concat(e.departurePortText,"-").concat(e.arrivalPortText),item_id:"x".concat(this.dataLayerIndex),price:this.getPriceDataLayer(e,t.id),item_category:"Pet",item_category2:this.getPetTypeNameDataLayer(t.petType),item_category3:"",item_category4:"",quantity:1,item_coupon:""}},mapCompanyDiscountToDataLayer:function(){return this.companyDiscounts.map((function(e){return"".concat(e.companyCode,":").concat(e.discountId)})).join(",")},setDataLayer:function(){var e=this;this.dataLayerIndex=0;var t=[];this.booked.forEach((function(i){i.seats.forEach((function(n){t.push(e.mapSeatToDataLayer(i,n))})),i.cabins.forEach((function(n){n.passengers.forEach((function(r){t.push(e.mapCabinOrBerthPassengerToDataLayer(i,n,r))}))})),i.berths.forEach((function(n){n.passengers.forEach((function(r){t.push(e.mapCabinOrBerthPassengerToDataLayer(i,n,r))}))})),i.vehicles.forEach((function(n){t.push(e.mapVehicleToDataLayer(i,n))})),i.pets.forEach((function(n){t.push(e.mapPetToDataLayer(i,n))}))}));var i={event:"formSubmission",formID:"Step 2 Booking Form",value:this.stripCurrency(this.priceAnalysis.total),tax:this.tax.toString(),coupon:this.mapCompanyDiscountToDataLayer(),items:t};window.dataLayer=window.dataLayer||[],dataLayer.push(i)}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},currentStep:function(e){return e.currentStep},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},stateCreateBookingSchedule:function(e){return e.stateCreateBookingSchedule},companyDiscounts:function(e){return e.companyDiscounts},contact:function(e){return e.contact},quotes:function(e){return e.quotes},price:function(e){return e.price},tax:function(e){return e.tax}})),watch:{}}),Vue.component("v-booking-calculator-payment",{mixins:[mixins,mixinsBooking,mixinsCC],props:["loading"],data:function(){return{loadingConfirm:!1,priceAnalysis:null}},mounted:function(){this.vSelectMouseDown(),this.$root.$on("get-quote-changed",this.setPriceAnalysis),this.$root.$on("booking-created-pricing",this.setPriceAnalysisAfterCreated)},methods:{handleError:function(e){this.$root.$emit("payment-hide-loader"),this.loadingConfirm=!1,this.$root.$emit("show-error-dialog",e)},setPriceAnalysisAfterCreated:function(e){var t={priceAnalysis:e};this.setPriceAnalysis(t)},setPriceAnalysis:function(e){if(!this.hasValue(e))return this.priceAnalysis=null,!1;var t=e.priceAnalysis;this.priceAnalysis=t},validateData:function(){return!!store.getters.getPaymentIsValid()||(this.scrollToValidation(),!1)},goToStep4FromCreditCard:function(){var e=this;this.$root.$emit("validate-payment"),setTimeout((function(){if(!e.validateData())return!1;e.sendCCPersonalData()}))},goToStep4FromPaypal:function(){var e=this;this.$root.$emit("validate-payment"),setTimeout((function(){if(!e.validateData())return!1}))},goToStep4WithZeroCost:function(){var e=this;this.$root.$emit("validate-payment"),setTimeout((function(){if(!e.validateData())return!1;e.$root.$emit("payment-show-loader"),e.loadingConfirm=!0,window.location.href=e.bookingUrl}))}},computed:_objectSpread({showVAT:function(){return this.hasValue(this.vat)},showTax:function(){return this.hasValue(this.tax)},showFuelSurcharge:function(){return this.hasValue(this.fuelSurcharge)},showPureSurcharge:function(){return this.hasValue(this.pureSurcharge)},hasZeroCost:function(){return"0"===store.getters.getPaymentField("paymentMethod")},paymentMethodIsPaypal:function(){return"2"===store.getters.getPaymentField("paymentMethod")},isPaypalReady:function(){return 2===this.paymentType&&(this.$root.$emit("paypal-checkout-create"),!0)}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},piraeusPaymentEndpoint:function(e){return e.piraeusPaymentEndpoint},currentStep:function(e){return e.currentStep},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},stateCreateBookingSchedule:function(e){return e.stateCreateBookingSchedule},companyDiscounts:function(e){return e.companyDiscounts},contact:function(e){return e.contact},payment:function(e){return e.payment},reservationToken:function(e){return e.reservationToken},cancellationToken:function(e){return e.cancellationToken},paymentType:function(e){return e.paymentType},cc:function(e){return e.cc},bookingUrl:function(e){return e.bookingUrl}})),watch:{}}),Vue.component("v-booking-calculator-payment-card-retry",{mixins:[mixins,mixinsBooking,mixinsCC],props:["loading","userBookedData"],data:function(){return{loadingConfirm:!1}},mounted:function(){this.vSelectMouseDown()},methods:{submitCCPersonalData:function(){var e=this;this.$root.$emit("validate-payment"),setTimeout((function(){if(!e.validateData())return!1;e.sendCCPersonalData()}))},handleError:function(e){console.log("message",e),this.$root.$emit("payment-hide-loader"),this.loadingConfirm=!1,this.$root.$emit("show-error-dialog",e)},validateData:function(){return!!store.getters.getPaymentIsValid()||(this.scrollToValidation(),!1)}},computed:_objectSpread({priceAnalysis:function(){return this.userBookedData.pricing}},mapState({dictionary:function(e){return e.dictionary},piraeusPaymentEndpoint:function(e){return e.piraeusPaymentEndpoint},reservationToken:function(e){return e.reservationToken},cc:function(e){return e.cc}})),watch:{}}),Vue.component("v-booking-paypal-button",{mixins:[mixins],props:["braintreeToken","actionUrl","enviroment"],data:function(){return{clientInstance:{}}},mounted:function(){this.brainTreeClientCreate(),this.$root.$on("paypal-checkout-create",this.paypalCheckoutCreate)},methods:{brainTreeClientCreate:function(){var e=this;braintree.client.create({authorization:this.braintreeToken},(function(t,i){if(t)return e.$root.$emit("set-paypal-disabled"),void console.error("Error creating client:",t);e.clientInstance=i}))},paypalCheckoutCreate:function(){var e=this;document.getElementById("paypal-button").innerHTML="",braintree.paypalCheckout.create({client:e.clientInstance},(function(t,i){if(t)return e.handleError(new Array(t.message)),void console.error("Error creating PayPal Checkout:",t);paypal.Button.render({env:e.enviroment,commit:!0,payment:function(){return i.createPayment({flow:"checkout",amount:e.price,currency:"EUR",intent:"capture"})},onAuthorize:function(t,n){return i.tokenizePayment(t,(function(t,i){e.$root.$emit("payment-show-loader"),console.log("payload is",i),console.log("actions is",n),console.log("nonce",i.nonce),e.$refs.nonce.value=i.nonce,e.$refs.paypalForm.submit()}))},style:{color:"gold",shape:"pill",label:"paypal",tagline:!1,height:45,size:"responsive"},onCancel:function(t){console.log("checkout.js payment cancelled",JSON.stringify(t,0,2)),e.dispatchEventPaypalOnCancel()},onError:function(t){e.handleError(),console.error("checkout.js error",t)}},"#paypal-button").then((function(){})),braintree.dataCollector.create({client:e.clientInstance,paypal:!0},(function(t,i){t||e.$store.commit("setDeviceData",i.deviceData)}))}))},dispatchEventPaypalOnCancel:function(){var e=document.querySelector("body"),t=new Event("paypalOnCancel");e.dispatchEvent(t)},handleError:function(e){this.$root.$emit("show-error-dialog",e)}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},currentStep:function(e){return e.currentStep},price:function(e){return e.price},deviceData:function(e){return e.deviceData},paymentCode:function(e){return e.paymentCode}})),watch:{}}),Vue.component("v-booking-copy",{mixins:[mixins,mixinsBooking,mixinsBookingAvailability],props:["trip","index"],data:function(){return{trigger:!1,tripCopy:null,successCopy:!0,lengthStep:.1,copyResponseDialog:!1,loadingCopy:!1,petsStoredAtCabins:0}},created:function(){},mounted:function(){this.tripCopy=store.getters.getTrips()[0]},methods:{copyTrip:function(){this.loadingCopy=!0,this.trigger=!this.trigger,this.initializeTrip(),this.copyBerths(),this.copyCabins(),this.copySeats(),this.copyVehicles(),this.copyPets(),this.responseCopy()},initializeTrip:function(){this.initializeBerths(),this.initializeCabins(),this.initializeTrailers()},initializeBerths:function(){var e=this;store.getters.getBerths(this.trip.id).forEach((function(t,i){e.resetBerthPassengers(t)})),this.$store.commit("clearBerths",{tripId:this.trip.id})},initializeCabins:function(){var e=this;store.getters.getCabins(this.trip.id).forEach((function(t){e.resetCabinPassengers(t)})),this.$store.commit("clearCabins",{tripId:this.trip.id})},initializeTrailers:function(){var e=this;store.getters.getVehicles(this.trip.id).forEach((function(t,i){e.$store.commit("removeTrailer",{tripId:e.trip.id,vehicleId:t.id})}))},copyPets:function(){var e=this,t=this.tripCopy.pets;if(!t.length)return!1;t.forEach((function(t,i){var n=t.index,r=e.trip.pets.find((function(e){return e.index===n}));if(!r)return!1;Object.keys(t).forEach((function(i){switch(i){case"petType":e.copyPetType(t[i],r.id)}}))}))},copyPetType:function(e,t){if(3===e&&!this.pets.supportsOnDeck)return this.successCopy=!1,!1;if(1===e&&!this.getPetTypeKennelAvailability())return this.successCopy=!1,!1;if(2===e){if(!this.pets.supportsInCabin)return this.successCopy=!1,!1;if(this.petsStoredAtCabins>=store.getters.getCabinsPetsCapacityMax(this.trip.id))return this.successCopy=!1,!1;this.petsStoredAtCabins++}this.$store.commit("setPetField",{field:"petType",value:e,tripId:this.trip.id,petId:t})},copyCabins:function(){var e=this,t=this.tripCopy.cabins;if(!t.length)return!1;t.forEach((function(t,i){e.copyCabin(t)}))},copyCabin:function(e){var t=this.cabins.find((function(t){return t.id===e.id}));if(!this.hasValue(t))return this.successCopy=!1,!1;if(0===t.availability)return this.successCopy=!1,!1;if(this.getCabinAvailability(t.id,t.availability)<=0)return this.successCopy=!1,!1;for(var i=[],n=0;n<e.passengers.length;n++){var r=e.passengers[n];i.push(new Passenger(r.index,r.id,r.seatType,r.discount,r.loyaltyCard,r.firstName,r.lastName,r.gender,r.passengerType,r.passport,r.documentId,r.nationality,r.birthDate,r.manCode,r.specialNeeds))}this.$store.commit("addCabin",{tripId:this.trip.id,cabin:new Cabin(e.index,e.id,e.renderId,e.name,e.properties,i,e.accommodationType)});for(var s=t.capacity,a=0;a<s;a++)this.$store.commit("removeSeat",{tripId:this.trip.id,index:0});this.copyCabinFields(e.renderId)},copyCabinFields:function(e){var t=this,i=this.trip.cabins.find((function(t){return t.renderId===e}));if(!this.hasValue(i))return!1;i.passengers.forEach((function(e){Object.keys(e).forEach((function(n){switch(n){case"passengerType":t.copyCabinPassengerType(e[n],e,i);break;case"discount":setTimeout((function(){t.copyCabinDiscount(e[n],e,i)}),100)}}))}))},copyCabinPassengerType:function(e,t,i){return this.hasValue(e)?!this.cabins.find((function(e){return e.id===i.id})).specifications.map((function(e){return e.passengerTypeId})).includes(e)&&void this.$store.commit("setCabinPassengerField",{field:"passengerType",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}):(this.$store.commit("setCabinPassengerField",{field:"passengerType",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}),!1)},copyCabinDiscount:function(e,t,i){if(!this.hasValue(e))return this.$store.commit("setCabinPassengerField",{field:"discount",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}),!1;var n=store.getters.getCabinPassengerField("passengerType",this.trip.id,i.renderId,t.id);if(this.cabins.find((function(e){return e.id===i.id})).specifications.find((function(e){return e.passengerTypeId===n})).discounts.map((function(e){return e})).includes(e))return!1;this.$store.commit("setCabinPassengerField",{field:"discount",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id})},copyBerths:function(){var e=this,t=this.tripCopy.berths;if(!t.length)return!1;t.forEach((function(t,i){e.copyBerth(t)}))},copyBerth:function(e){var t=this.berths.find((function(t){return t.id===e.id&&t.accommodationType===e.accommodationType}));if(!this.hasValue(t))return this.successCopy=!1,!1;if(0===t.availability)return this.successCopy=!1,!1;if(this.getBerthAvailability(t.id,t.availability,t.accommodationType)<=0)return this.successCopy=!1,!1;for(var i=[],n=0;n<e.passengers.length;n++){var r=e.passengers[n];i.push(new Passenger(r.index,r.id,r.seatType,r.discount,r.loyaltyCard,r.firstName,r.lastName,r.gender,r.passengerType,r.passport,r.documentId,r.nationality,r.birthDate,r.manCode,r.specialNeeds))}this.$store.commit("addBerth",{tripId:this.trip.id,berth:new Cabin(e.index,e.id,e.renderId,e.name,e.properties,i,e.accommodationType)});for(var s=0;s<1;s++)this.$store.commit("removeSeat",{tripId:this.trip.id,index:0});this.copyBerthFields(e.renderId)},copyBerthFields:function(e){var t=this,i=this.trip.berths.find((function(t){return t.renderId===e}));if(!this.hasValue(i))return!1;i.passengers.forEach((function(e){Object.keys(e).forEach((function(n){switch(n){case"passengerType":t.copyBerthPassengerType(e[n],e,i);break;case"discount":setTimeout((function(){t.copyBerthDiscount(e[n],e,i)}),100)}}))}))},copyBerthPassengerType:function(e,t,i){return this.hasValue(e)?!this.berths.find((function(e){return e.id===i.id&&e.accommodationType===i.accommodationType})).specifications.map((function(e){return e.passengerTypeId})).includes(e)&&void this.$store.commit("setBerthPassengerField",{field:"passengerType",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}):(this.$store.commit("setBerthPassengerField",{field:"passengerType",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}),!1)},copyBerthDiscount:function(e,t,i){if(!this.hasValue(e))return this.$store.commit("setBerthPassengerField",{field:"discount",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id}),!1;var n=store.getters.getBerthPassengerField("passengerType",this.trip.id,i.renderId,t.id);if(this.berths.find((function(e){return e.id===i.id&&e.accommodationType===i.accommodationType})).specifications.find((function(e){return e.passengerTypeId===n})).discounts.map((function(e){return e})).includes(e))return!1;this.$store.commit("setBerthPassengerField",{field:"discount",value:null,tripId:this.trip.id,renderId:i.renderId,passengerId:t.id})},copyTrailer:function(e,t,i){var n=this,r=store.getters.getVehicleFieldById("trailer",this.trip.id,t);this.hasValue(r)||this.addTrailer(t,i),Object.keys(e).forEach((function(i){switch(i){case"trailerType":n.copyTrailerType(e[i],t);break;case"trailerLength":setTimeout((function(){n.copyTrailerLength(e[i],t)}),100);break;case"trailerPlateNumber":setTimeout((function(){n.copyTrailerPlateNumber(e[i],t)}))}}))},copyTrailerType:function(e,t){return this.hasValue(e)?this.trailerTypes.includes(e)?void this.$store.commit("setTrailerField",{field:"trailerType",value:e,tripId:this.trip.id,vehicleId:t}):(this.successCopy=!1,!1):(this.$store.commit("setTrailerField",{field:"trailerType",value:e,tripId:this.trip.id,vehicleId:t}),!1)},copyTrailerLength:function(e,t){return this.hasValue(e)?this.trailerLengthIsValidForCopy(e,t)?void this.$store.commit("setTrailerField",{field:"trailerLength",value:e,tripId:this.trip.id,vehicleId:t}):(this.successCopy=!1,!1):(this.$store.commit("setTrailerField",{field:"trailerLength",value:e,tripId:this.trip.id,vehicleId:t}),!1)},copyTrailerPlateNumber:function(e,t){this.$store.commit("setTrailerField",{field:"trailerPlateNumber",value:e,tripId:this.trip.id,vehicleId:t})},trailerLengthIsValidForCopy:function(e,t){var i=this,n=store.getters.getTrailerField("trailerType",this.trip.id,t),r=this.accommodation.trailers.find((function(e){return e.id===n}));return this.getValuesSteps(r.length,r.maxLength,this.lengthStep).filter((function(t){return i.getTrailerLengthAvailability(t,n,e,r.availabilityInMeters,r.pricingPerMeter)})).map((function(e){return e})).includes(e)},addTrailer:function(e,t){this.$store.commit("setTrailer",{tripId:this.trip.id,vehicleId:e,trailer:new Trailer("trailer".concat(t),"","","",0)})},copyVehicles:function(){var e=this,t=this.tripCopy.vehicles;if(!t.length)return!1;t.forEach((function(t,i){var n=t.index,r=e.trip.vehicles.find((function(e){return e.index===n}));if(!r)return!1;Object.keys(t).forEach((function(i){switch(i){case"vehicleType":e.copyVehicleType(t[i],r.id);break;case"vehicleLength":setTimeout((function(){e.copyVehicleLength(t[i],r.id)}),100);break;case"discount":setTimeout((function(){e.copyVehicleDiscount(t[i],r.id)}),100);break;case"loyaltyCard":e.copyVehicleLoyaltyCard(t[i],r.id);break;case"trailer":e.hasValue(t[i])&&e.copyTrailer(t[i],r.id,n);break;case"plateNumber":case"documentId":e.copyVehicleField(i,t[i],r.id)}}))}))},copyVehicleField:function(e,t,i){this.$store.commit("setVehicleField",{field:e,value:t,tripId:this.trip.id,vehicleId:i})},copyVehicleType:function(e,t){return this.hasValue(e)?this.vehicleTypes.includes(e)?void this.$store.commit("setVehicleField",{field:"vehicleType",value:e,tripId:this.trip.id,vehicleId:t}):(this.successCopy=!1,!1):(this.$store.commit("setVehicleField",{field:"vehicleType",value:e,tripId:this.trip.id,vehicleId:t}),!1)},copyVehicleLength:function(e,t){return this.hasValue(e)?this.vehicleLengthIsValidForCopy(e,t)?void this.$store.commit("setVehicleField",{field:"vehicleLength",value:e,tripId:this.trip.id,vehicleId:t}):(this.successCopy=!1,!1):(this.$store.commit("setVehicleField",{field:"vehicleLength",value:e,tripId:this.trip.id,vehicleId:t}),!1)},copyVehicleDiscount:function(e,t){return this.hasValue(e)?this.discounts.includes(e)&&this.vehicleDiscountIsValidForCopy(e,t)?void this.$store.commit("setVehicleField",{field:"discount",value:e,tripId:this.trip.id,vehicleId:t}):(this.successCopy=!1,!1):(this.$store.commit("setVehicleField",{field:"discount",value:e,tripId:this.trip.id,vehicleId:t}),!1)},copyVehicleLoyaltyCard:function(e,t){this.$store.commit("setVehicleField",{field:"loyaltyCard",value:e,tripId:this.trip.id,vehicleId:t})},vehicleLengthIsValidForCopy:function(e,t){var i=this,n=store.getters.getVehicleFieldById("vehicleType",this.trip.id,t),r=this.accommodation.vehicles.find((function(e){return e.id===n}));return this.getValuesSteps(r.length,r.maxLength,this.lengthStep).filter((function(t){return i.getVehicleLengthAvailability(t,n,e,r.availabilityInMeters,r.pricingPerMeter)})).map((function(e){return e})).includes(e)},vehicleDiscountIsValidForCopy:function(e,t){var i=store.getters.getVehicleFieldById("vehicleType",this.trip.id,t);return this.accommodation.vehicles.find((function(e){return e.id===i})).discounts.includes(e)},copySeats:function(){var e=this,t=this.tripCopy.seats;if(!t.length)return!1;t.forEach((function(t,i){var n=t.index,r=e.trip.seats.find((function(e){return e.index===n}));if(!r)return!1;Object.keys(t).forEach((function(i){switch(i){case"seatType":e.copySeatType(t[i],r.id);break;case"passengerType":setTimeout((function(){e.copyPassengerType(t[i],r.id)}));break;case"discount":setTimeout((function(){e.copyDiscount(t[i],r.id)}),100);break;case"loyaltyCard":e.copyLoyaltyCard(t[i],r.id);break;case"manCode":e.copyManCode(t[i],r.id);break;case"firstName":case"lastName":case"gender":case"birthDate":case"nationality":case"documentId":case"specialNeeds":case"passport":e.copySeatField(i,t[i],r.id)}}))}))},copySeatField:function(e,t,i){this.$store.commit("setSeatField",{field:e,value:t,tripId:this.trip.id,passengerId:i})},copySeatType:function(e,t){return this.hasValue(e)?this.seatTypes.includes(e)?void this.$store.commit("setSeatField",{field:"seatType",value:e,tripId:this.trip.id,passengerId:t}):(this.successCopy=!1,!1):(this.$store.commit("setSeatField",{field:"seatType",value:e,tripId:this.trip.id,passengerId:t}),!1)},copyPassengerType:function(e,t){return this.hasValue(e)?this.hasValue(e)&&!this.passengerTypes.includes(e)?(this.successCopy=!1,!1):this.passengerTypeIsValidForCopy(e,t)?void this.$store.commit("setSeatField",{field:"passengerType",value:e,tripId:this.trip.id,passengerId:t}):(this.successCopy=!1,!1):(this.$store.commit("setSeatField",{field:"passengerType",value:e,tripId:this.trip.id,passengerId:t}),!1)},copyDiscount:function(e,t){return this.hasValue(e)?this.discounts.includes(e)&&this.discountIsValidForCopy(e,t)?void this.$store.commit("setSeatField",{field:"discount",value:e,tripId:this.trip.id,passengerId:t}):(this.successCopy=!1,!1):(this.$store.commit("setSeatField",{field:"discount",value:e,tripId:this.trip.id,passengerId:t}),!1)},copyLoyaltyCard:function(e,t){this.$store.commit("setSeatField",{field:"loyaltyCard",value:e,tripId:this.trip.id,passengerId:t})},copyManCode:function(e,t){this.$store.commit("setSeatField",{field:"manCode",value:e,tripId:this.trip.id,passengerId:t})},getSeatTypeAvailability:function(e,t){return 0!==t&&(e===this.seatType||t-store.getters.getSeatsReservedLength(this.trip.id,e)>0)},passengerTypeIsValidForCopy:function(e,t){var i=store.getters.getSeatFieldById("seatType",this.trip.id,t);return this.accommodation.seats.find((function(e){return e.id===i})).specifications.map((function(e){return e.passengerTypeId})).includes(e)},discountIsValidForCopy:function(e,t){var i=store.getters.getSeatFieldById("seatType",this.trip.id,t),n=store.getters.getSeatFieldById("passengerType",this.trip.id,t);return this.accommodation.seats.find((function(e){return e.id===i})).specifications.find((function(e){return e.passengerTypeId===n})).discounts.includes(e)},tripsHasSameCompany:function(){return store.getters.getTripCompanyCode(this.tripCopy.id)===store.getters.getTripCompanyCode(this.trip.id)},itemsHasSameCount:function(){return store.getters.getSeatsCount(this.tripCopy.id)+store.getters.getVehiclesCount(this.tripCopy.id)+store.getters.getPetsCount(this.tripCopy.id)+store.getters.getCabinsPassengersCount(this.tripCopy.id)+store.getters.getBerthsPassengersCount(this.tripCopy.id)===store.getters.getSeatsCount(this.trip.id)+store.getters.getVehiclesCount(this.trip.id)+store.getters.getPetsCount(this.trip.id)+store.getters.getCabinsPassengersCount(this.trip.id)+store.getters.getBerthsPassengersCount(this.trip.id)},vehiclesHasSameIndex:function(){return _toConsumableArray(store.getters.getVehicles(this.tripCopy.id)).map((function(e){return e.index})).reduce((function(e,t){return e+t}),0)===_toConsumableArray(store.getters.getVehicles(this.trip.id)).map((function(e){return e.index})).reduce((function(e,t){return e+t}),0)},petsHasSameIndex:function(){return _toConsumableArray(store.getters.getPets(this.tripCopy.id)).map((function(e){return e.index})).reduce((function(e,t){return e+t}),0)===_toConsumableArray(store.getters.getPets(this.trip.id)).map((function(e){return e.index})).reduce((function(e,t){return e+t}),0)},resetBerthPassengers:function(e){var t=this;e.passengers.forEach((function(e,i){t.$store.commit("addSeat",{tripId:t.trip.id,passenger:new Passenger(e.index,"seat".concat(e.index),"","",null,e.firstName,e.lastName,e.gender,e.age,e.passport,e.documentId,e.nationality,e.birthDate,"",!1)})}))},resetCabinPassengers:function(e){var t=this;e.passengers.forEach((function(e,i){t.$store.commit("addSeat",{tripId:t.trip.id,passenger:new Passenger(e.index,"seat".concat(e.index),"","",null,e.firstName,e.lastName,e.gender,e.age,e.passport,e.documentId,e.nationality,e.birthDate,"",!1)})}))},responseCopy:function(){var e=this;this.loadingCopy=!1,this.copyResponseDialog=!0,this.successCopy&&setTimeout((function(){e.$root.$emit("get-quote")}),100)}},computed:_objectSpread({pets:function(){return null===this.accommodation?null:this.accommodation.pets},cabins:function(){return null===this.accommodation?[]:this.accommodation.cabins},berths:function(){return null===this.accommodation?[]:this.accommodation.berths},trailersBooked:function(){return store.getters.getTrailers(this.trip.id)},vehiclesBooked:function(){return store.getters.getVehicles(this.trip.id)},accommodation:function(){return this.hasValue(this.trip.itinerary)?this.trip.itinerary.accommodation:null},accommodationDiscounts:function(){return this.hasValue(this.accommodation)?this.accommodation.accommodationDiscounts:null},trailerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.trailers.filter((function(t){return e.getTrailerTypeAvailability(t.id,t.availabilityInMeters,t.pricingPerMeter,t.length)})).map((function(e){return e.id}))},vehicleTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.vehicles.filter((function(t){return e.getVehicleTypeAvailability(t.id,t.availabilityInMeters,t.pricingPerMeter,t.length)})).map((function(e){return e.id}))},seatTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.seats.filter((function(t){return e.getSeatTypeAvailability(t.id,t.availability)})).map((function(e){return e.id}))},passengerTypes:function(){var e=this;return null===this.accommodation?[]:this.accommodation.passengerTypes.filter((function(t){return 1!=e.trip.passengersCount||t.isAdult})).map((function(e){return e.id}))},discounts:function(){return null===this.accommodation?[]:this.accommodationDiscounts.map((function(e){return e.id}))},showCopy:function(){return this.index>0},isDisabledCopy:function(){return!this.hasValue(this.tripCopy)||!!this.tripsHasSameCompany()&&(!this.itemsHasSameCount()||(!this.vehiclesHasSameIndex()||!this.petsHasSameIndex()))}},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan}})),watch:{}}),Vue.component("v-booking-costs",(_defineProperty(_Vue$component3={mixins:[mixins],props:["priceAnalysis","showCards","notification"],data:function(){return{}},template:'\n       <div class="b-booking-costs">\n\n            <div class="b-booking-costs__body">\n\n                <div class="b-booking-costs__main">\n\n                    <div class="b-booking-costs__items">\n\n                        <div class="b-booking-costs__item">\n                            \x3c!--net--\x3e\n                            <div class="b-booking-costs__row">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsNet }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.net"></div>\n                                </div>\n                            </div>\n                            \x3c!--fuelSurcharge--\x3e\n                            <div class="b-booking-costs__row"\n                                    v-show="showFuelSurcharge">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsFuelSurcharge }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.fuelSurcharge"></div>\n                                </div>\n                            </div>\n                            \x3c!--pureSurcharge--\x3e\n                            <div class="b-booking-costs__row"\n                                    v-show="showPureSurcharge">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsPureSurcharge }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.pureSurcharge"></div>\n                                </div>\n                            </div>\n                            \x3c!--tax--\x3e\n                            <div class="b-booking-costs__row"\n                                    v-show="showTax">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsTax }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.tax"></div>\n                                </div>\n                            </div>\n                            \x3c!--vat--\x3e\n                            <div class="b-booking-costs__row"\n                                    v-show="showVAT">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsVAT }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.vat"></div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="b-booking-costs__item b-booking-costs__item--total">\n                            <div class="b-booking-costs__row">\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__label">{{ this.dictionary.costsTotal }}:</div>\n                                </div>\n                                <div class="b-booking-costs__col">\n                                    <div class="b-booking-costs__price" v-html="this.total">-</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="b-booking-costs__aside"\n                    v-show="showCards">\n                    <v-booking-costs-cards></v-booking-costs-cards>\n                </div>\n\n                <div class="b-booking-costs__notification" v-show="notification">\n                    <div class="b-booking-costs__notification__icon icon-notification"></div>\n                    <div class="b-booking-costs__notification__txt">{{notification}}</div>\n                </div>\n            </div>\n        </div>\n    '},"data",(function(){return{}})),_defineProperty(_Vue$component3,"mounted",(function(){})),_defineProperty(_Vue$component3,"methods",{}),_defineProperty(_Vue$component3,"computed",_objectSpread({net:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.net:"-"},fuelSurcharge:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.fuelSurcharge:null},pureSurcharge:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.pureSurcharge:null},tax:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.tax:null},vat:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.vat:null},total:function(){return this.hasValue(this.priceAnalysis)?this.priceAnalysis.total:"-"},showVAT:function(){return this.hasValue(this.vat)},showTax:function(){return this.hasValue(this.tax)},showFuelSurcharge:function(){return this.hasValue(this.fuelSurcharge)},showPureSurcharge:function(){return this.hasValue(this.pureSurcharge)}},mapState({dictionary:function(e){return e.dictionary}}))),_defineProperty(_Vue$component3,"watch",{}),_Vue$component3)),Vue.component("v-booking-costs-cards",(_defineProperty(_Vue$component4={mixins:[mixins],props:[],data:function(){return{}},template:'\n\t    <div class="b-booking-costs__cards">\n\n\t\t    <div class="b-booking-costs__cards__body">\n\t\t\t    <span>\n\t\t\t\t    {{ this.dictionary.acceptableCards }}\n\t\t\t    </span>\n\t\t\t    <ul>\n\t\t\t\t    <li>\n\t\t\t\t\t    <v-tooltip top>\n\t\t\t\t\t\t    <template v-slot:activator="scope">\n\t\t\t\t\t\t\t    <img v-on="scope.on"\n\t\t\t\t\t\t\t\t\t    src="/imgs/payment-providers/visa-icon.png" alt="Visa" />\n\t\t\t\t\t\t    </template>\n\t\t\t\t\t\t    <span>Visa</span>\n\t\t\t\t\t    </v-tooltip>\n\t\t\t\t    </li>\n\t\t\t\t    <li>\n\t\t\t\t\t    <v-tooltip top>\n\t\t\t\t\t\t    <template v-slot:activator="scope">\n\t\t\t\t\t\t\t    <img v-on="scope.on"\n\t\t\t\t\t\t\t\t\t    src="/imgs/payment-providers/mastercard-icon.png" alt="Mastercard" />\n\t\t\t\t\t\t    </template>\n\t\t\t\t\t\t    <span>Mastercard</span>\n\t\t\t\t\t    </v-tooltip>\n\n\t\t\t\t    </li>\n\t\t\t\t    <li>\n\t\t\t\t\t    <v-tooltip top>\n\t\t\t\t\t\t    <template v-slot:activator="scope">\n\t\t\t\t\t\t\t    <img v-on="scope.on"\n\t\t\t\t\t\t\t\t\t    src="/imgs/payment-providers/maestro-icon.png" alt="Maestro" />\n\t\t\t\t\t\t    </template>\n\t\t\t\t\t\t    <span>Maestro</span>\n\t\t\t\t\t    </v-tooltip>\n\n\t\t\t\t    </li>\n\t\t\t    </ul>\n\t\t    </div>\n\t    </div>\n    '},"data",(function(){return{}})),_defineProperty(_Vue$component4,"mounted",(function(){})),_defineProperty(_Vue$component4,"methods",{}),_defineProperty(_Vue$component4,"computed",_objectSpread({},mapState({dictionary:function(e){return e.dictionary}}))),_defineProperty(_Vue$component4,"watch",{}),_Vue$component4)),Vue.component("v-google-map",{mixins:[mixins],props:["defaultZoom","useBounds"],data:function(){return{$this:[],isMounted:!1,results:void 0!==window.googleMapData?window.googleMapData.data:[],mapName:"BranchGoogleMap",markerCoordinates:[],map:null,mapIdle:!1,bounds:null,markersWindowsObj:[],markers:[],markersInBound:[],optionsStylesMap:void 0!==window.optionsStylesMap?window.optionsStylesMap.data:[]}},template:'<div id="BranchGoogleMap"></div>',mounted:function(){var e=this;e.isMounted=!0,jQuery(document).on("google-map-ready",(function(){e.iniMap()}))},methods:{iniMap:function(e){var t=this;t.markers=[],t.markerCoordinates=[];for(var i=0;i<t.results.length;i++)t.markerCoordinates.push({longitude:t.results[i].lng,latitude:t.results[i].lat,id:t.results[i].id,address:t.results[i].address});t.bounds=new google.maps.LatLngBounds;var n=document.getElementById(t.mapName);if(null!==n){var r=void 0!==t.markerCoordinates[0]?t.markerCoordinates[0]:t.markerCoordinatesWorld,s={center:new google.maps.LatLng(r.latitude,r.longitude),zoom:2,mapTypeControl:!1,streetViewControl:!1,styles:t.optionsStylesMap};t.map=new google.maps.Map(n,s);for(var a=0;a<t.markerCoordinates.length;a++){var o=t.markerCoordinates[a],c=new google.maps.LatLng(o.latitude,o.longitude),u=new google.maps.Marker({position:c,map:t.map,id:o.id});t.markers.push(u),t.markersWindowsObj.push({id:u.id,window:t.setInfoWindowObj(u)}),t.markerCoordinates.length>1?t.map.fitBounds(t.bounds.extend(c)):t.map.setZoom(parseInt(t.defaultZoom)),u.addListener("click",(function(e){t.openMarkerWindow(this)}))}}},openMarkerWindow:function(e){this.markersWindowsObj.find((function(t){return t.id===e.id})).window.open(this.map,e)},setInfoWindowObj:function(e){var t=this.results.find((function(t){return t.id===e.id}));return new google.maps.InfoWindow({content:this.getInfoWindowContentString(t)})},getInfoWindowContentString:function(e){return'<div id="content"><div id="siteNotice"></div><h1 id="firstHeading" class="firstHeading" style="font-size:1.25em; margin:0 0 10px 0;">'+e.name+'</h1><div id="bodyContent"><p>'+e.address+"</p></div></div>"}},computed:{},watch:{}}),Vue.component("v-progress-logo",{mixins:[mixins],props:["size"],data:function(){return{$this:[],isMounted:!1,themeName:null}},template:"\n        <div class=\"e-progress-logo\" v-bind:style=\"{ width: size + 'px', height: size + 'px' }\">\n            <img v-bind:src=\"'/imgs/e-progress-logo/e-progress-logo-' + themeName + '.svg'\" />\n        </div>",mounted:function(){this.isMounted=!0,this.themeName=jQuery("body").data("theme")},methods:{},computed:{},watch:{}}),Vue.component("slick",{props:{options:{type:Object,default:function(){return{}}}},template:"<div><slot></slot></div>",mounted:function(){var e=this;e.create(),e.$root.$on("changedDefaults",(function(){e.reSlick()})),e.$root.$on("changedPage",(function(){e.reSlick()}))},beforeDestroy:function(){},methods:{create:function(){var e=jQuery(this.$el);e.find(".item").length>1&&(e.on("afterChange",this.onAfterChange),e.on("beforeChange",this.onBeforeChange),e.on("breakpoint",this.onBreakpoint),e.on("destroy",this.onDestroy),e.on("edge",this.onEdge),e.on("init",this.onInit),e.on("reInit",this.onReInit),e.on("setPosition",this.onSetPosition),e.on("swipe",this.onSwipe),e.on("lazyLoaded",this.onLazyLoaded),e.on("lazyLoadError",this.onLazyLoadError),e.slick(this.options))},destroy:function(){var e=jQuery(this.$el);jQuery(this.$el).hasClass("slick-initialized")&&(e.off("afterchange",this.onAfterChange),e.off("beforeChange",this.onBeforeChange),e.off("breakpoint",this.onBreakpoint),e.off("destroy",this.onDestroy),e.off("edge",this.onEdge),e.off("init",this.onInit),e.off("reInit",this.onReInit),e.off("setPosition",this.onSetPosition),e.off("swipe",this.onSwipe),e.off("lazyLoaded",this.onLazyLoaded),e.off("lazyLoadError",this.onLazyLoadError),e.removeClass("slick-initialized"),jQuery(this.$el).slick("unslick"))},reSlick:function(){this.destroy(),this.create()},next:function(){jQuery(this.$el).slick("slickNext")},prev:function(){jQuery(this.$el).slick("slickPrev")},pause:function(){jQuery(this.$el).slick("slickPause")},play:function(){jQuery(this.$el).slick("slickPlay")},goTo:function(e,t){jQuery(this.$el).slick("slickGoTo",e,t)},currentSlide:function(){return jQuery(this.$el).slick("slickCurrentSlide")},add:function(e,t,i){jQuery(this.$el).slick("slickAdd",e,t,i)},remove:function(e,t){jQuery(this.$el).slick("slickRemove",e,t)},filter:function(e){jQuery(this.$el).slick("slickFilter",e)},unfilter:function(){jQuery(this.$el).slick("slickUnfilter")},getOption:function(e){jQuery(this.$el).slick("slickGetOption",e)},setOption:function(e,t,i){jQuery(this.$el).slick("slickSetOption",e,t,i)},setPosition:function(){jQuery(this.$el).slick("setPosition")},onAfterChange:function(e,t,i){this.$emit("afterchange",e,t,i)},onBeforeChange:function(e,t,i,n){this.$emit("beforechange",e,t,i,n)},onBreakpoint:function(e,t,i){this.$emit("breakpoint",e,t,i)},onDestroy:function(e,t){this.$emit("destroy",e,t)},onEdge:function(e,t,i){this.$emit("edge",e,t,i)},onInit:function(e,t){this.$emit("init",e,t)},onReInit:function(e,t){this.$emit("reinit",e,t)},onSetPosition:function(e,t){this.$emit("setposition",e,t)},onSwipe:function(e,t,i){this.$emit("swipe",e,t,i)},onLazyLoaded:function(e,t,i,n){this.$emit("lazyloaded",e,t,i,n)},onLazyLoadError:function(e,t,i,n){this.$emit("lazyloaderror",e,t,i,n)}}}),document.getElementById("v-booking-wizard")){new VueW3CValid({el:"#v-booking-wizard"});var vueDemo=new Vue({store:store,el:"#v-booking-wizard",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins,mixinsBooking],data:function(){return{$this:[],isInitializing:!0,isMounted:!1,isLoading:!1,locale:null,menu_props:{offsetY:!0,closeOnClick:!1},editMode:!1,errorDialog:!1,errorMsgs:[],iniDataChecked:!1,isWizardView:!0,wizardError:!1,changingStep:!1,trips:[],tripsLoading:!1,paymentLoading:!1,itinerariesLoaded:!1,timetables:[],nationalities:[],ccPersonalData:null,ccCountriesData:[],ccPhoneCodesData:[],userBookedData:[],bestPriceHandler:null}},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;this.isMounted=!0,this.elem=jQuery(this.$el),setTimeout((function(){e.isInitializing=!1}),500),this.locale=this.elem.data("locale");var t=this.elem.data("state");this.$store.commit("setStateCreateBookingPlan",t),void 0!==parseInt(this.elem.data("currentstep"))&&(this.$store.commit("setCurrentStep",parseInt(this.elem.data("currentstep"))),this.isWizardView=this.currentStep>=1,this.iniDataChecked=!0);var i=this.elem.data("piraeuspayment-endpoint");this.$store.commit("setPiraeusPaymentEndpoint",i),this.$root.$on("booking-created",(function(t){e.userBookedData=t})),this.$root.$on("go-to-step",this.goToStep),this.$root.$on("wizard-initializing",this.showLoader),this.$root.$on("wizard-initialized",this.hideLoader),this.$root.$on("init-canceled",this.cancelInit),this.$root.$on("show-error-dialog",this.showErrorDialog),this.$root.$on("selected-date-changed",this.getItineraries),this.$root.$on("get-quote",this.getQuote),this.$root.$on("payment-show-loader",(function(){return e.paymentLoading=!0})),this.$root.$on("payment-hide-loader",(function(){return e.paymentLoading=!1})),this.$root.$on("nationality-changed",this.setContactCountryCode),this.$root.$on("contact-countrycode-changed",this.setCCPhoneCodes),this.$root.$on("contact-phonenumber-changed",this.setCCPhoneNumbers),this.checkUserBookedData(),this.checkCCPersonalData(),this.$vuetify.lang.locales[this.locale]={noDataText:this.elem.data("no-data-found-msg")},this.$vuetify.lang.current=this.locale,this.vSelectMouseDown(),this.isWizardView&&(this.getCCCountriesData(),this.getCCPhoneCodesData())},methods:{setCCPhoneCodes:function(e){var t=this.nationalities.find((function(t){return t.telephonePrefixes.includes(e)})).code,i=this.ccPhoneCodesData.find((function(e){return e.countryCode===t})),n=this.hasValue(i)?i.code:void 0;this.$store.commit("setCCField",{field:"mobilePhoneCode",value:n}),this.$store.commit("setCCField",{field:"homePhoneCode",value:n}),this.$store.commit("setCCField",{field:"workPhoneCode",value:n})},setCCPhoneNumbers:function(e){this.$store.commit("setCCField",{field:"mobilePhone",value:e}),this.$store.commit("setCCField",{field:"homePhone",value:e}),this.$store.commit("setCCField",{field:"workPhone",value:e})},setContactCountryCode:function(e){var t=this.nationalities.find((function(t){return t.code===e}));if(!this.hasValue(t))return!1;var i=t.telephonePrefixes;return 0!==i.length&&(!!this.hasValue(i[0])&&void this.$store.commit("setContactField",{field:"countryCode",value:i[0]}))},getQuote:function(){var e=this,t=store.getters.getTrips("getTrips").filter((function(t){return e.tripIsValidForPricing(t)})),i=t.map((function(e){return e.itinerary.companyCode})),n=t.map((function(t){return{uniqueId:t.itinerary.uniqueId,seats:t.seats.filter((function(t){return e.passengerIsValidForPricing(t)})).map((function(e){return{accommodationId:e.seatType,passenger:{id:e.id,passengerTypeId:e.passengerType,discountId:e.discount,gender:e.gender}}})),berths:t.berths.filter((function(t){return e.berthIsValidForPricing(t)})).map((function(e){return{accommodationId:e.id,type:e.accommodationType,passenger:{id:e.passengers[0].id,passengerTypeId:e.passengers[0].passengerType,discountId:e.passengers[0].discount,gender:e.passengers[0].gender}}})),cabins:t.cabins.filter((function(t){return e.cabinIsValidForPricing(t)})).map((function(e){return{accommodationId:e.id,passengers:e.passengers.map((function(e){return{id:e.id,passengerTypeId:e.passengerType,discountId:e.discount,gender:e.gender}}))}})),vehicles:t.vehicles.filter((function(t){return e.vehicleIsValidForPricing(t)})).map((function(t){return{id:t.id,accommodationId:t.vehicleType,discountId:t.discount,length:t.vehicleLength,trailer:e.hasValue(t.trailer)?{id:t.trailer.id,accommodationId:t.trailer.trailerType,length:t.trailer.trailerLength}:null}})),pets:t.pets.filter((function(i){return e.petIsValidForPricing(t,i)})).map((function(e){return{id:e.id,type:e.petType}}))}}));if(!n.length)return this.$root.$emit("get-quote-changed",null),!1;this.tripsLoading=!0,this.paymentLoading=!0;var r=this.getReservationPostUrl("GetQuote"),s=JSON.stringify({state:this.stateCreateBookingSchedule,companyDiscounts:this.companyDiscounts.filter((function(e){return i.includes(e.companyCode)})),trips:n});axios.post(r,s,this.getAxiosConfig).then((function(t){var i=t.data,n=i.hasError,r=i.errorMessages,s=i.data;if(n)return e.handleError(r),!1;var a=s.trips,o=s.price,c=s.tax;e.$store.commit("setQuotes",a),e.$store.commit("setPrice",o),e.$store.commit("setTax",c),e.tripsLoading=!1,e.paymentLoading=!1,e.$root.$emit("get-quote-changed",s)})).catch((function(t){e.handleError(),console.error(t)}))},getNationalities:function(){var e=this,t=this.getReservationPostUrl("GetNationalities");axios.post(t,{},this.getAxiosConfig).then((function(t){var i=t.data,n=i.hasError,r=i.errorMessages,s=i.data;if(n)return e.handleError(r),!1;e.nationalities=s,e.$root.$emit("get-nationalities-ready")})).catch((function(t){e.handleError(),console.error(t)}))},getCCCountriesData:function(){var e=this,t=this.getPiraeusPaymentPostUrl("getcountries");axios.post(t,{},this.getAxiosConfig).then((function(t){var i=t.data,n=i.hasError,r=i.errorMessages,s=i.data;if(n)return e.handleError(r),!1;e.ccCountriesData=s})).catch((function(t){e.handleError(),console.error(t)}))},getCCPhoneCodesData:function(){var e=this,t=this.getPiraeusPaymentPostUrl("getphonecodes");axios.post(t,{},this.getAxiosConfig).then((function(t){var i=t.data,n=i.hasError,r=i.errorMessages,s=i.data;if(n)return e.handleError(r),!1;e.ccPhoneCodesData=s,e.$root.$emit("get-cc-phone-codes-ready")})).catch((function(t){e.handleError(),console.error(t)}))},getItineraries:function(){var e=this;if(null===this.getData("userData"))return!1;this.tripsLoading=!0;var t=this.booked.map((function(e){return{departurePort:e.departurePort,arrivalPort:e.arrivalPort,departureDate:e.departureDate}})),i=this.getReservationPostUrl("GetItineraries"),n=JSON.stringify({state:this.stateCreateBookingPlan,timetables:t});axios.post(i,n,this.getAxiosConfig).then((function(t){if(t.data.hasError)return e.handleError(t.data.errorMessages),!1;e.timetables=t.data.data,e.tripsLoading=!1,e.$root.$emit("itineraries-changed",e.timetables),e.itinerariesLoaded=!0})).catch((function(t){e.handleError(),console.error(t)}))},dataInitialized:function(){this.getItineraries(),this.getNationalities()},tripIsValidForPricing:function(e){var t=this;return e.seats.some((function(e){return t.passengerIsValidForPricing(e)}))||e.vehicles.some((function(e){return t.vehicleIsValidForPricing(e)}))||e.cabins.some((function(e){return t.cabinIsValidForPricing(e)}))||e.berths.some((function(e){return t.berthIsValidForPricing(e)}))||e.pets.some((function(i){return t.petIsValidForPricing(e,i)}))},passengerIsValidForPricing:function(e){return this.hasValue(e.seatType)&&this.hasValue(e.passengerType)},vehicleIsValidForPricing:function(e){return this.hasValue(e.vehicleType)},cabinIsValidForPricing:function(e){var t=this;return e.passengers.every((function(e){return t.hasValue(e.passengerType)}))},berthIsValidForPricing:function(e){var t=this;return e.passengers.every((function(e){return t.hasValue(e.passengerType)&&t.hasValue(e.gender)&&e.gender>0}))},petIsValidForPricing:function(e,t){var i=this;return!!this.hasValue(t.petType)&&(3!==t.petType&&!(2===t.petType&&!e.cabins.some((function(e){return i.cabinIsValidForPricing(e)}))))},handleError:function(e){this.tripsLoading=!1,this.$root.$emit("show-error-dialog",e)},goToStep:function(e){this.scrollToTop(),this.changingStep=!0,this.$store.commit("setCurrentStep",e),this.changingStep=!1},enableEditMode:function(){this.editMode=!0},disableEditMode:function(){this.editMode=!1},checkUserBookedData:function(){"undefined"!=typeof userBookedData&&(this.userBookedData=userBookedData)},checkCCPersonalData:function(){"undefined"!=typeof ccPersonalData&&(this.ccPersonalData=ccPersonalData)},hasZeroCost:function(){return"0"===store.getters.getPaymentField("paymentMethod")},showLoader:function(){this.isLoading=!0},hideLoader:function(){this.isLoading=!1},cancelInit:function(){this.wizardError=!0,this.hideLoader()},printState:function(){console.log("this.payment:",this.payment)}},computed:_objectSpread({},mapState({booked:function(e){return e.booked},dictionary:function(e){return e.dictionary},reservationEndpoint:function(e){return e.reservationEndpoint},piraeusPaymentEndpoint:function(e){return e.piraeusPaymentEndpoint},currentStep:function(e){return e.currentStep},stateCreateBookingPlan:function(e){return e.stateCreateBookingPlan},stateCreateBookingSchedule:function(e){return e.stateCreateBookingSchedule},companyDiscounts:function(e){return e.companyDiscounts},contact:function(e){return e.contact},quotes:function(e){return e.quotes},price:function(e){return e.price},tax:function(e){return e.tax},payment:function(e){return e.payment},hasPriceDifference:function(e){return e.hasPriceDifference},paymentType:function(e){return e.paymentType},createBookingOnce:function(e){return e.createBookingOnce},cc:function(e){return e.cc}})),watch:{currentStep:function(e,t){var i=this;e<t&&2==t&&(this.$store.commit("setSeats",this.booked[0].passengersCount),this.$store.commit("setVehicles",this.booked[0].vehiclesCount),this.$store.commit("setPets",this.booked[0].petsCount),this.booked.forEach((function(e){i.$store.commit("clearCabins",{tripId:e.id}),i.$store.commit("clearBerths",{tripId:e.id})})),this.$nextTick((function(){this.$root.$emit("accommodation-form-reset")}))),this.$nextTick((function(){jQuery(".slick-initialized").slick("setPosition")}))}}})}if(document.getElementById("v-faqs")){new VueW3CValid({el:"#v-faqs"});vueDemo=new Vue({el:"#v-faqs",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},categoriesData:this.getData("faqsCategoriesData"),faqsDataFiltered:null,selectedCategoryid:null,panel:0,showNoResults:!1}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.vSelectMouseDown(),e.setCategory(),e.setCategoryFromUrl(),e.hasResults()},methods:{setCategoryFromUrl:function(){var e=location.hash.replace("#","");this.hasValue(e)&&(this.categoriesData.findIndex((function(t){return t.value===e}))>-1&&(this.selectedCategoryid=e,this.hasResults()))},setCategory:function(){var e=this.categoriesData[0];if(!this.hasValue(e))return null;this.selectedCategoryid=e.value,this.hasResults()},changeCategory:function(e){this.selectedCategoryid=e,this.panel=0,this.hasResults(),location.hash=e},hasResults:function(){var e=this;this.$nextTick((function(){return e.categoriesData.length&&jQuery(".v-item-group:visible",jQuery(e.$el)).length?void(this.showNoResults=!1):(this.showNoResults=!0,!1)}))}},computed:{},watch:{}})}if(document.getElementById("v-notes")){new VueW3CValid({el:"#v-notes"});vueDemo=new Vue({el:"#v-notes",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},panel:0}},created:function(){},beforeMount:function(){},mounted:function(){this.isMounted=!0,this.vSelectMouseDown()},methods:{},computed:{},watch:{}})}if(document.getElementById("v-offers-index")){new VueW3CValid({el:"#v-offers-index"});vueDemo=new Vue({el:"#v-offers-index",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],offersData:[],timeout:0,page:api.fn.getUrlParameter("page")?parseInt(api.fn.getUrlParameter("page")):1,itemsPerPage:0}},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.offersHandler=e.elem.data("offershandler"),e.itemsPerPage=e.elem.data("itemsperpage"),e.timeout=e.elem.data("timeout"),e.fetchData()},methods:{fetchData:function(e){var t=this,i=this;i.isLoading=!0;var n=JSON.stringify({page:this.page,pageSize:this.itemsPerPage});axios.post(this.offersHandler,n,this.getAxiosConfig).then((function(n){setTimeout(function(){if(n.data.hasError)return i.handleError(n.data.errorMessages),!1;i.offersData=n.data.data.records,i.total=n.data.data.recordsCount,i.isLoading=!1,e&&i.scrollToElem(i.elem,100),i.setBackgrounds(),api.fn.setUrlParameter("page",i.page)}.bind(t),i.timeout)})).catch((function(e){i.handleError(),console.error(e)}))},setBackgrounds:function(){this.$nextTick((function(){jQuery(document).trigger("fetchDataAxiosResponse")}))},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0}},computed:{hasData:function(){return null===this.offersData||0!==this.offersData.length},pages:function(){return this.hasValue(this.offersData)?Math.ceil(this.total/this.itemsPerPage):0}},watch:{page:function(e,t){this.fetchData(!0)}}})}if(document.getElementById("v-destinations")){new VueW3CValid({el:"#v-destinations"});vueDemo=new Vue({el:"#v-destinations",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],destinationsData:this.getData("destinationsData"),filtersData:this.getData("destinationsFiltersData"),destsHandler:null},"isLoading",!1),_defineProperty(e,"total",0),_defineProperty(e,"filter",api.fn.getUrlParameter("filter")?decodeURIComponent(api.fn.getUrlParameter("filter")):""),_defineProperty(e,"page",api.fn.getUrlParameter("page")?parseInt(api.fn.getUrlParameter("page")):1),_defineProperty(e,"itemsPerPage",0),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.destsHandler=e.elem.data("destshandler"),e.itemsPerPage=e.elem.data("itemsperpage"),e.fetchData()},methods:{fetchData:function(e){var t=this,i=this;i.isLoading=!0;var n=JSON.stringify({filter:this.filter,page:this.page,pageSize:this.itemsPerPage});axios.post(this.destsHandler,n,this.getAxiosConfig).then((function(n){setTimeout(function(){if(n.data.hasError)return i.handleError(n.data.errorMessages),!1;i.destinationsData=n.data.data.records,i.total=n.data.data.recordsCount,i.isLoading=!1,e&&i.scrollToElem(jQuery(".s-destinations__aside"),100),i.setBackgrounds(),api.fn.setUrlParameter("page",i.page),api.fn.setUrlParameter("filter",i.filter)}.bind(t),0)})).catch((function(e){i.handleError(),console.error(e)}))},setBackgrounds:function(){this.$nextTick((function(){jQuery(document).trigger("fetchDataAxiosResponse")}))},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0},getActiveClass:function(e){return this.filter===e?"is-active":""},changeFilter:function(e){this.filter=e,this.page=1,this.fetchData(!0)}},computed:{hasData:function(){return null===this.destinationsData||0!==this.destinationsData.length},pages:function(){return this.hasValue(this.destinationsData)?Math.ceil(this.total/this.itemsPerPage):0}},watch:{page:function(e,t){this.fetchData(!0)}}})}if(document.getElementById("v-news")){new VueW3CValid({el:"#v-news"});vueDemo=new Vue({el:"#v-news",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],yearsData:this.getData("yearsData"),newsData:this.getData("newsData"),timeout:0,newsHandler:null,startYear:null},"isLoading",!1),_defineProperty(e,"total",0),_defineProperty(e,"searchTerm",""),_defineProperty(e,"year",0),_defineProperty(e,"page",1),_defineProperty(e,"itemsPerPage",0),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.newsHandler=e.elem.data("newshandler"),e.startYear=e.elem.data("startyear"),e.itemsPerPage=e.elem.data("itemsperpage"),e.timeout=e.elem.data("timeout"),e.hasValue(e.startYear)&&(e.year=e.startYear),e.fetchData()},methods:{fetchData:function(e){var t=this,i=this;i.isLoading=!0;var n=JSON.stringify({searchTerm:this.searchTerm,year:this.year,page:this.page,pageSize:this.itemsPerPage});axios.post(this.newsHandler,n,this.getAxiosConfig).then((function(n){setTimeout(function(){if(n.data.hasError)return i.handleError(n.data.errorMessages),!1;i.newsData=n.data.data.records,i.total=n.data.data.recordsCount,i.isLoading=!1,e&&i.scrollToElem(jQuery(".s-news__aside"),100)}.bind(t),i.timeout)})).catch((function(e){i.handleError(),console.error(e)}))},changeYear:function(){this.page=1,this.searchTerm=null,this.fetchData(!0)},submitSearch:function(){this.year=0,this.page=1,this.fetchData(!0)},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0},getStartYear:function(){return this.yearsData.map((function(e){return e.value})).includes(this.startYear)?this.startYear:null}},computed:{hasData:function(){return null===this.newsData||0!==this.newsData.length},pages:function(){return this.hasValue(this.newsData)?Math.ceil(this.total/this.itemsPerPage):0}},watch:{page:function(e,t){this.fetchData(!0)}}})}if(document.getElementById("v-network")){new VueW3CValid({el:"#v-network"});vueDemo=new Vue({el:"#v-network",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},tab:null}},created:function(){},beforeMount:function(){},mounted:function(){this.isMounted=!0},methods:{},computed:{},watch:{}})}if(document.getElementById("v-contact")){new VueW3CValid({el:"#v-contact"});vueDemo=new Vue({el:"#v-contact",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,results:void 0!==window.officesData?window.officesData.data:[],mapName:"BranchGoogleMap",markerCoordinates:[],map:null,mapIdle:!1,bounds:null,markersWindowsObj:[],markers:[],markersInBound:[],optionsStylesMap:void 0!==window.optionsStylesMap?window.optionsStylesMap.data:[]}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.isLoading=!0,jQuery(document).on("google-map-ready",(function(){e.iniMap(),e.isLoading=!1}))},methods:{iniMap:function(e){var t=this;t.markers=[],t.markerCoordinates=[];for(var i=0;i<t.results.length;i++)t.markerCoordinates.push({longitude:t.results[i].lng,latitude:t.results[i].lat,id:t.results[i].id,address:t.results[i].address});t.bounds=new google.maps.LatLngBounds;var n=document.getElementById(t.mapName);if(null!==n){var r=void 0!==t.markerCoordinates[0]?t.markerCoordinates[0]:t.markerCoordinatesWorld,s={center:new google.maps.LatLng(r.latitude,r.longitude),zoom:2,mapTypeControl:!1,streetViewControl:!1,styles:t.optionsStylesMap};t.map=new google.maps.Map(n,s);for(var a=0;a<t.markerCoordinates.length;a++){var o=t.markerCoordinates[a],c=new google.maps.LatLng(o.latitude,o.longitude),u=new google.maps.Marker({position:c,map:t.map,id:o.id});t.markers.push(u),t.markersWindowsObj.push({id:u.id,window:t.setInfoWindowObj(u)}),t.markerCoordinates.length>1?t.map.fitBounds(t.bounds.extend(c)):t.map.setZoom(15),u.addListener("click",(function(e){t.openMarkerWindow(this)}))}}},openMarkerWindow:function(e){this.markersWindowsObj.find((function(t){return t.id===e.id})).window.open(this.map,e)},setInfoWindowObj:function(e){var t=this.results.find((function(t){return t.id===e.id}));return new google.maps.InfoWindow({content:this.getInfoWindowContentString(t)})},getInfoWindowContentString:function(e){return'<div id="content"><div id="siteNotice"></div><h1 id="firstHeading" class="firstHeading" style="font-size:1.25em; margin:0 0 10px 0;">'+e.name+'</h1><div id="bodyContent"><p>'+e.address+"</p></div></div>"}},computed:{},watch:{}})}if(document.getElementById("v-search-results")){new VueW3CValid({el:"#v-search-results"});vueDemo=new Vue({el:"#v-search-results",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],searchResultsData:this.getData("searchResultsData"),timeout:0,searchResultsHandler:null},"isLoading",!1),_defineProperty(e,"total",0),_defineProperty(e,"searchTerm",""),_defineProperty(e,"page",api.fn.getUrlParameter("page")?parseInt(api.fn.getUrlParameter("page")):1),_defineProperty(e,"itemsPerPage",0),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.searchResultsHandler=e.elem.data("searchresultshandler"),e.itemsPerPage=e.elem.data("itemsperpage"),e.timeout=e.elem.data("timeout"),e.getSearchTerm(e.fetchData)},methods:{getSearchTerm:function(e){var t=this.getUrlParam("searchTerm",null);if(!this.hasValue(t))return!1;this.searchTerm=decodeURIComponent(t),e()},fetchData:function(e){var t=this,i=this;i.isLoading=!0;var n=JSON.stringify({searchTerm:this.searchTerm,page:this.page,pageSize:this.itemsPerPage});axios.post(this.searchResultsHandler,n,this.getAxiosConfig).then((function(n){setTimeout(function(){if(n.data.hasError)return i.handleError(n.data.errorMessages),!1;i.searchResultsData=n.data.data.records,i.total=n.data.data.recordsCount,i.isLoading=!1,e&&i.scrollToElem(jQuery(".s-search-results__body"),100),api.fn.setUrlParameter("page",i.page)}.bind(t),i.timeout)})).catch((function(e){i.handleError(),console.error(e)}))},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0}},computed:{hasData:function(){return null===this.searchResultsData||0!==this.searchResultsData.length},pages:function(){return this.hasValue(this.searchResultsData)?Math.ceil(this.total/this.itemsPerPage):0}},watch:{page:function(e,t){this.fetchData(!0)}}})}if(document.getElementById("v-destination")){new VueW3CValid({el:"#v-destination"});vueDemo=new Vue({el:"#v-destination",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,category:null,tooltipRight:!1,tooltipBottom:!0}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.elem=jQuery(e.$el),e.isMounted=!0,e.iniBreakpoints(),e.openFirstArticle()},methods:{openFirstArticle:function(){jQuery(".s-destination__item").eq(0).find(".heading").trigger("click")},toggleArticle:function(e){if(Breakpoint.is("md")||Breakpoint.is("lg"))return!1;var t=jQuery(e.target).parent();t.toggleClass("is-active"),jQuery("> article",t).slideToggle()},setTooltipAlign:function(e){this.tooltipRight=!1,this.tooltipBottom=!0,e&&(this.tooltipRight=!0,this.tooltipBottom=!1)},iniBreakpoints:function(){var e=this;e.setTooltipAlign(),Breakpoint.init(),(Breakpoint.is("md")||Breakpoint.is("lg"))&&e.setTooltipAlign(!0),jQuery(window).on("change:breakpoint",(function(t,i,n){"md"===i||"lg"===i?(e.clearInlineStyles(),e.setTooltipAlign(!0)):e.setTooltipAlign()}))},clearInlineStyles:function(){jQuery("*[class^='s-destination__']",self.elem).removeAttr("style"),jQuery("*[class^='s-destination__'] article",self.elem).removeAttr("style"),jQuery("*[class^='s-destination__']",self.elem).removeClass("is-active")}},computed:{},watch:{}})}if(document.getElementById("v-itineraries")){new VueW3CValid({el:"#v-itineraries"});vueDemo=new Vue({el:"#v-itineraries",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],destinationsData:this.getData("destinationsData"),filtersData:this.getData("destinationsFiltersData"),tripsData:null,notesData:null,periodsData:[],daysData:[],timelineFullData:null,timeout:0,destsHandler:null},"isLoading",!1),_defineProperty(e,"filter",""),_defineProperty(e,"selectedDestination",null),_defineProperty(e,"selectedPeriod",null),_defineProperty(e,"selectedDay",null),_defineProperty(e,"selectedTimelineIndx",0),_defineProperty(e,"selectedTimeline",null),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.destsHandler=e.elem.data("destshandler"),e.tripsHandler=e.elem.data("tripshandler"),e.timeout=e.elem.data("timeout"),e.fetchData(),e.handleDestClick()},methods:{changePeriod:function(){this.resetDay(),this.resetTimeline()},changeDay:function(){this.resetTimeline()},getSelectedPeriod:function(){var e=this.tripsData.find((function(e){return!0===e.isSelected}));this.hasValue(e)&&(this.selectedPeriod=e.value)},getSelectedDay:function(){var e=this.tripsData.find((function(e){return!0===e.isSelected})).days.find((function(e){return!0===e.isSelected}));this.hasValue(e)&&(this.selectedDay=e.value)},getStops:function(e){var t=0;if(void 0===e)return t;var i,n=e.ports;if(void 0===n)return t;for(i=0;i<n.length&&n[i].id!==this.selectedDestination;i++)t+=1;return t},getSelectedIndx:function(e){var t=this;return this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(e){return e.value===t.selectedDay})).timeline.find((function(t){return t.id===e.id})).ports.findIndex((function(e){return e.id===t.selectedDestination}))},isLater:function(e,t){return t>this.getSelectedIndx(e)},isBetween:function(e,t){var i=this.getSelectedIndx(e);return t>0&&t<i},handleDestClick:function(){var e=this;jQuery("body").on("click",".b-illustration",(function(){var t=jQuery(this).data("id"),i=jQuery(this).data("url");if(e.hasValue(i)&&window.location.assign(i),t===e.selectedDestination)return!1;jQuery(".b-illustration").removeClass("is-active"),jQuery(this).addClass("is-active"),e.resetData(),e.selectedDestination=t,e.fetchTrips(t)}))},resetData:function(){this.tripsData=null,this.notesData=null,this.periodsData=[],this.daysData=[],this.timelineFullData=null,this.selectedDestination=null,this.selectedPeriod=null,this.selectedDay=null,this.selectedTimelineIndx=0,this.selectedTimeline=null},resetDay:function(){this.daysData=[],this.selectedDay=null},resetTimeline:function(){this.timelineFullData=null,this.selectedTimelineIndx=0,this.selectedTimeline=null},fetchTrips:function(e){var t=this,i=this;i.isLoading=!0;var n={destination:e};axios.post(this.tripsHandler,n).then((function(e){setTimeout(function(){if(e.data.hasError)return i.handleError(e.data.errorMessages),!1;i.tripsData=e.data.data.records,i.notesData=e.data.data.notes,i.periodsData=i.tripsData.map((function(e){return{value:e.value,text:e.text}})),i.getSelectedPeriod(),i.getSelectedDay(),i.isLoading=!1,i.scrollToElem(jQuery(".s-itineraries__body"),100)}.bind(t),i.timeout)})).catch((function(e){i.handleError(),console.error(e)}))},fetchData:function(){var e=this,t=this;t.isLoading=!0;var i={filter:this.filter};axios.post(this.destsHandler,i).then((function(i){setTimeout(function(){if(i.data.hasError)return t.handleError(i.data.errorMessages),!1;t.destinationsData=i.data.data.records,t.isLoading=!1,t.unSlick(),t.destroySlick(),t.createSlick()}.bind(e),t.timeout)})).catch((function(e){t.handleError(),console.error(e)}))},changeFilter:function(e){this.filter=e,this.fetchData()},getActiveClass:function(e){return this.filter===e?"is-active":""},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0},createSlick:function(){var e=this;Vue.nextTick((function(){var t=jQuery(".b-illustrations__items.source",e.elem);jQuery(".b-illustrations__items.public",e.elem).html(t.html()),e.iniSlick()}))},iniSlick:function(){var e=this,t=jQuery(this.$el);Vue.nextTick((function(){e.slider=jQuery(".b-illustrations__items.public",t),e.slider.slick({arrows:!0,dots:!0,infinite:!1,slidesToShow:7,slidesToScroll:1,appendArrows:jQuery(".b-illustrations__items__toolbar",e.slider.parent()),appendDots:jQuery(".b-illustrations__items__toolbar",e.slider.parent()),responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}}]})}))},destroySlick:function(){Vue.nextTick((function(){jQuery(".b-illustrations__items.public").html("")}))},unSlick:function(){var e=jQuery(this.$el);Vue.nextTick((function(){self.sliders=jQuery(".b-illustrations__items.public",e),self.sliders.each((function(){jQuery(this).hasClass("slick-initialized")&&jQuery(this).slick("unslick")}))}))}},computed:{stopsCount:function(){var e=this;return null===this.tripsData||null===this.selectedPeriod||null===this.selectedDay||null===this.selectedTimeline?0:this.getStops(this.tripsData.find((function(t){return t.value===e.selectedPeriod})).days.find((function(t){return t.value===e.selectedDay})).timeline[this.selectedTimeline])},timelineData:function(){var e=this;return null!==this.timelineFullData?this.timelineFullData.map((function(t,i){return{value:i,text:"ΞΟΞΏΞΌΞΏΞ»ΟΞ³ΞΉΞΏ ".concat(e.getIndex(i))}})):[]},timelineCount:function(){return null!==this.timelineData?this.timelineData.length:0},destinationTitle:function(){var e=this;return null!==this.destinationsData&&null!==this.selectedDestination?this.destinationsData.find((function(t){return t.id===e.selectedDestination})).title:null}},watch:{selectedPeriod:function(e){if(null===e)return!1;var t=this.tripsData.find((function(t){return t.value===e})).days;this.daysData=t.map((function(e){return{value:e.value,text:e.text}}));var i=t.find((function(e){return!0===e.isSelected}));this.hasValue(i)?this.selectedDay=i.value:this.selectedDay=t[0].value},selectedDay:function(e){var t=this;if(null===e)return!1;this.timelineFullData=this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(t){return t.value===e})).timeline}}})}if(document.getElementById("v-promo-itineraries")){new VueW3CValid({el:"#v-promo-itineraries"});vueDemo=new Vue({el:"#v-promo-itineraries",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],destinationsData:null,tripsData:null,periodsData:[],daysData:[],timelineFullData:null,timeout:0,destsHandler:null,selectedDestination:jQuery(".s-itineraries__items").data("portid"),selectedPeriod:null,selectedDay:null,selectedTimelineIndx:0,selectedTimeline:null}},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){this.isMounted=!0,this.elem=jQuery(this.$el),this.tripsHandler=this.elem.data("tripshandler"),this.timeout=this.elem.data("timeout"),this.getPortId()},methods:{getPortId:function(){var e=jQuery(".s-itineraries__items").data("portid");this.selectedDestination=e,this.fetchTrips(e)},fetchTrips:function(e){var t=this;this.isLoading=!0,axios.post(this.tripsHandler).then((function(e){if(e.data.hasError)return t.handleError(e.data.errorMessages),!1;t.tripsData=e.data.data.records,t.getSelectedPeriod(),t.isLoading=!1})).catch((function(e){t.handleError(),console.error(e)}))},getSelectedPeriod:function(){var e=this.tripsData.find((function(e){return!0===e.isSelected}));console.log("3"),this.hasValue(e)&&(this.selectedPeriod=e.value)},getSelectedIndx:function(e){var t=this;return this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(e){return e.value===t.selectedDay})).timeline.find((function(t){return t.id===e.id})).ports.findIndex((function(e){return e.id===t.selectedDestination}))},isLater:function(e,t){return t>this.getSelectedIndx(e)},isBetween:function(e,t){var i=this.getSelectedIndx(e);return t>0&&t<i},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0},createSlick:function(){var e=this;Vue.nextTick((function(){var t=jQuery(".b-illustrations__items.source",e.elem);jQuery(".b-illustrations__items.public",e.elem).html(t.html()),e.iniSlick()}))},iniSlick:function(){var e=this,t=jQuery(this.$el);Vue.nextTick((function(){e.slider=jQuery(".b-illustrations__items.public",t),e.slider.slick({arrows:!0,dots:!0,infinite:!1,slidesToShow:7,slidesToScroll:1,appendArrows:jQuery(".b-illustrations__items__toolbar",e.slider.parent()),appendDots:jQuery(".b-illustrations__items__toolbar",e.slider.parent()),responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}}]})}))},destroySlick:function(){Vue.nextTick((function(){jQuery(".b-illustrations__items.public").html("")}))},unSlick:function(){var e=jQuery(this.$el);Vue.nextTick((function(){self.sliders=jQuery(".b-illustrations__items.public",e),self.sliders.each((function(){jQuery(this).hasClass("slick-initialized")&&jQuery(this).slick("unslick")}))}))}},computed:{timelineData:function(){var e=this;return null!==this.timelineFullData?this.timelineFullData.map((function(t,i){return{value:i,text:"ΞΟΞΏΞΌΞΏΞ»ΟΞ³ΞΉΞΏ ".concat(e.getIndex(i))}})):[]},timelineCount:function(){return null!==this.timelineData?this.timelineData.length:0},destinationTitle:function(){var e=this;return null!==this.destinationsData&&null!==this.selectedDestination?this.destinationsData.find((function(t){return t.id===e.selectedDestination})).title:null}},watch:{selectedPeriod:function(e){if(null===e)return!1;var t=this.tripsData.find((function(t){return t.value===e})).days;this.daysData=t.map((function(e){return{value:e.value,text:e.text}}));var i=t.find((function(e){return!0===e.isSelected}));this.hasValue(i)?this.selectedDay=i.value:this.selectedDay=t[0].value},selectedDay:function(e){var t=this;if(null===e)return!1;this.timelineFullData=this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(t){return t.value===e})).timeline}}})}if(document.getElementById("v-itineraries-superfast")){new VueW3CValid({el:"#v-itineraries-superfast"});vueDemo=new Vue({el:"#v-itineraries-superfast",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],destActiveTab:"gr-it",destinationsData:this.getData("destinationsData"),departurePort:null,arrivalPort:null,tripsData:null,notesData:null,periodsData:[],daysData:[],timelineFullData:null,timeout:0,destsHandler:null},"isLoading",!1),_defineProperty(e,"filter",""),_defineProperty(e,"selectedPeriod",null),_defineProperty(e,"selectedDay",null),_defineProperty(e,"selectedTimelineIndx",0),_defineProperty(e,"selectedTimeline",null),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.destsHandler=e.elem.data("destshandler"),e.tripsHandler=e.elem.data("tripshandler"),e.timeout=e.elem.data("timeout"),e.positionDestinations(),jQuery(window).on("resize",(function(){e.positionDestinations()}))},methods:{setActiveDestTab:function(e){this.departurePort=null,this.arrivalPort=null,this.destActiveTab=e},setDeparturePort:function(e){this.resetData(),this.departurePort=e,this.fetchTrips()},setArrivalPort:function(e){this.arrivalPort=e,this.fetchTrips()},changePeriod:function(){this.resetDay(),this.resetTimeline()},changeDay:function(){this.resetTimeline()},getSelectedPeriod:function(){var e=this.tripsData.find((function(e){return!0===e.isSelected}));this.hasValue(e)&&(this.selectedPeriod=e.value)},getSelectedDay:function(){var e=this.tripsData.find((function(e){return!0===e.isSelected})).days.find((function(e){return!0===e.isSelected}));this.hasValue(e)&&(this.selectedDay=e.value)},getStops:function(e){var t=0;if(void 0===e)return t;var i,n=e.ports;if(void 0===n)return t;for(i=0;i<n.length&&n[i].id!==this.arrivalPort.id;i++)t+=1;return t},getSelectedIndx:function(e){var t=this;return this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(e){return e.value===t.selectedDay})).timeline.find((function(t){return t.id===e.id})).ports.findIndex((function(e){return e.id===t.arrivalPort.id}))},isLater:function(e,t){var i=this.getSelectedIndx(e);return console.log(i),t>i},isBetween:function(e,t){var i=this.getSelectedIndx(e);return t>0&&t<i},resetData:function(){this.tripsData=null,this.notesData=null,this.periodsData=[],this.daysData=[],this.timelineFullData=null,this.selectedPeriod=null,this.selectedDay=null,this.selectedTimelineIndx=0,this.selectedTimeline=null},resetDay:function(){this.daysData=[],this.selectedDay=null},resetTimeline:function(){this.timelineFullData=null,this.selectedTimelineIndx=0,this.selectedTimeline=null},fetchTrips:function(e){var t=this,i=this;if(this.hasValue(this.departurePort)&&this.hasValue(this.arrivalPort)){i.isLoading=!0;var n={departurePort:this.departurePort,arrivalPort:this.arrivalPort};axios.post(this.tripsHandler,n).then((function(e){setTimeout(function(){if(e.data.hasError)return i.handleError(e.data.errorMessages),!1;i.tripsData=e.data.data.records,i.notesData=e.data.data.notes,i.periodsData=i.tripsData.map((function(e){return{value:e.value,text:e.text}})),i.getSelectedPeriod(),i.getSelectedDay(),console.log(e.data,i.tripsData),i.isLoading=!1,i.scrollToElem(jQuery(".s-itineraries__body"),100)}.bind(t),i.timeout)})).catch((function(e){i.handleError(),console.error(e)}))}},changeFilter:function(e){this.filter=e,this.fetchData()},getActiveClass:function(e){return this.filter===e?"is-active":""},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0},positionDestinations:function(){var e=this;if(e.timelineWrap[0].scrollWidth>e.timelineWrap.outerWidth()){var t=e.timelineItems.filter(".active"),i=t.find(".s-trips-carousel__timeline__text"),n=e.timelineWrap[0].scrollWidth-e.timelineWrap.outerWidth(),r=i.offset().left+e.timelineWrap.scrollLeft();e.timelineWrap.scrollLeft()+e.timelineWrap.outerWidth()-r-i.outerWidth()>0&&r>e.timelineWrap.scrollLeft()||(0==t.index()?e.timelineWrap.stop().animate({scrollLeft:0},400):e.timelineWrap.stop().animate({scrollLeft:Math.min(n,r-20)},400)),e.timelineWrap.addClass("scrollable")}else e.timelineWrap.removeClass("scrollable")}},computed:{stopsCount:function(){var e=this;return null===this.tripsData||null===this.selectedPeriod||null===this.selectedDay||null===this.selectedTimeline?0:this.getStops(this.tripsData.find((function(t){return t.value===e.selectedPeriod})).days.find((function(t){return t.value===e.selectedDay})).timeline[this.selectedTimeline])},timelineData:function(){var e=this;return null!==this.timelineFullData?this.timelineFullData.map((function(t,i){return{value:i,text:"ΞΟΞΏΞΌΞΏΞ»ΟΞ³ΞΉΞΏ ".concat(e.getIndex(i))}})):[]},timelineCount:function(){return null!==this.timelineData?this.timelineData.length:0}},watch:{selectedPeriod:function(e){if(null===e)return!1;var t=this.tripsData.find((function(t){return t.value===e})).days;this.daysData=t.map((function(e){return{value:e.value,text:e.text}}));var i=t.find((function(e){return!0===e.isSelected}));this.hasValue(i)?this.selectedDay=i.value:this.selectedDay=t[0].value},selectedDay:function(e){var t=this;if(null===e)return!1;this.timelineFullData=this.tripsData.find((function(e){return e.value===t.selectedPeriod})).days.find((function(t){return t.value===e})).timeline}}})}if(document.querySelectorAll(".v-video").length)vueDemo=new Vue({el:".v-video",vuetify:new Vuetify({theme:{disable:!0}}),data:function(){return{isLoading:!1,isMounted:!1}},created:function(){},mounted:function(){var e=this;e.elem=jQuery(e.$el),e.isMounted=!0,e.elem.find(".b-video__playBtn").on("click",(function(){var t=e.elem.data("videoid");jQuery(".b-video__playBtn",e.elem).hide(),e.isLoading=!0;var i='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+t+'?autoplay=1&mute=1&enablejsapi=1" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';jQuery(".b-video__cont",e.elem).append(jQuery(i))}))},methods:{},computed:{},watch:{}});if(document.getElementById("v-piraeus")){new VueW3CValid({el:"#v-piraeus"});vueDemo=new Vue({el:"#v-piraeus",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,results:this.getData("mapData"),mapName:"BranchGoogleMap",markerCoordinates:[],map:null,mapIdle:!1,bounds:null,markersWindowsObj:[],markers:[],markersInBound:[],markerZoom:18,piraeus_bounds:{north:37.96,south:37.93,west:23.6,east:23.67},mobileDefaults:{zoom:16,lat:37.947706,lng:23.639076},optionsStylesMap:void 0!==window.optionsStylesMap?window.optionsStylesMap.data:[]}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.isLoading=!0,jQuery(document).on("google-map-ready",(function(){e.iniMap(),e.isLoading=!1})),Breakpoint.init(),e.setBreadcrumb()},methods:{iniMap:function(e){var t=this;t.markers=[],t.markerCoordinates=[];for(var i=0;i<t.results.length;i++)t.markerCoordinates.push({longitude:t.results[i].lng,latitude:t.results[i].lat,id:t.results[i].id,infoWindowContent:t.results[i].infoWindowContent,markerTitle:t.results[i].markerTitle,type:t.results[i].type});t.bounds=new google.maps.LatLngBounds;var n=document.getElementById(t.mapName);if(null!==n){var r=void 0!==t.markerCoordinates[0]?t.markerCoordinates[0]:t.markerCoordinatesWorld,s={center:new google.maps.LatLng(r.latitude,r.longitude),zoom:2,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:t.optionsStylesMap,restriction:{latLngBounds:t.piraeus_bounds,strictBounds:!1}};t.map=new google.maps.Map(n,s);for(var a=0;a<t.markerCoordinates.length;a++){var o=t.markerCoordinates[a],c=new google.maps.LatLng(o.latitude,o.longitude),u=new google.maps.Marker({position:c,map:t.map,id:o.id,label:t.getMarkerLabel(o),icon:t.getMarkerIcon(o)});t.markers.push(u),t.markersWindowsObj.push({id:u.id,window:t.setInfoWindowObj(u)}),t.markerCoordinates.length>1?Breakpoint.is("sm")||Breakpoint.is("md")||Breakpoint.is("lg")?t.map.fitBounds(t.bounds.extend(c)):(t.map.setZoom(t.mobileDefaults.zoom),t.map.setCenter({lat:t.mobileDefaults.lat,lng:t.mobileDefaults.lng})):t.map.setZoom(15),u.addListener("click",(function(e){t.map.setZoom(t.markerZoom),t.map.setCenter(this.getPosition()),t.openMarkerWindow(this)}))}}},setMarkerActive:function(e){var t=this.markers.find((function(t){return t.id===e}));void 0!==t&&(this.map.setZoom(this.markerZoom),this.map.setCenter(t.getPosition())),this.scrollToTop()},getMarkerIcon:function(e){var t="";switch(e.type){case"agent":t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdBNzJCMTIxNDExRDExRUE4NDMwQTk5M0JGQ0EyMjUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdBNzJCMTIyNDExRDExRUE4NDMwQTk5M0JGQ0EyMjUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0E3MkIxMUY0MTFEMTFFQTg0MzBBOTkzQkZDQTIyNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0E3MkIxMjA0MTFEMTFFQTg0MzBBOTkzQkZDQTIyNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz69tHYTAAABm0lEQVR42ryXv0vDQBTHr1oQCq7+oqtL8QdUJwWbXaHW+m+Iuumggi5OBe3qv1BtF11VipMoinZxLeouFAUDfh+8BzUlySXN3Rc+S8i9T+96Sd6l1NqZ0sgYWAUOmAITYBh8gXfwCm5BDXzqFEyFiGfBHksHNeq5oA6OwFPQjQM+14dABdyDsqZU8X1lHlfhOtpiWtYm2AZpFS9pHn/H9ULFI/xfzatkkud6o0FiWpYrMKmSDdW79C57t/iYf6GJ5Ll+j3gGbCizofrTXvF+hJ0bN1T/oFtMu66o7KQou5zEpT4emziPWUnEjrIbR8Q5y+KciLOWxVkRZyyLMyLuWBZ3RNy2LG6LuGVZ3BLxtWXxjYgvwK8lKXnORUw9UsOSuCE9mXwkDrlfMhmXPf++Ts+galhcZU9PI7ADHg1Jqe6uXwfyA5bBW8JSqrcCvoOavQ+wBB4SnGmBm/7Q9pZ23SI46WPD0bhTsMCT0W7oaVm2wBwfS9wIwhqP2/Qur7cjCAodQ9bBOB9jCj5npxd+I9X9Zhj17GQsfwIMAGhtTituhZvTAAAAAElFTkSuQmCC";break;case"gate":t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOsSURBVHgBzVm9ThtBEJ778Z0vDRUFEVIoKAAJpaBIS5c0KeERkidIaorwJESiouIFUBqkCAqcF0ABUULCjwBhe5hvb/a8GFv4587LJw13HPbud7PfzM4OROUj6LqWOmgZYwRdzxgmyB8E5s9MIyKkISETB0ok0O9bixwrfl9fXw+FJO6DjY2N0Pl+pTDk1tbWMHFNLBFLxepimdib2dlZc1Wrz8/PpzD9fLy6uhrri1RC2HovWllZMQTn5ubq29vbb6+vr7/d3t7+bLVaR+12+x8rcI9n9/f3u+fn518PDg4W9CUSjKEva8haeYxL0JKEJ+DB+snJyaeHh4dfPCRAGt+lfAUwVgw50Die1bd0vZjCK6MQ7EV4f39/kXLZ1MYhG6jorRbrWGJ3accFxsKYkBDmgBQwJw8pA7vcNQx0dXW1yRXh5uZmE47QVRvKs4UmQVIC5QdXDEtWV28gsgVJpJTLy8vvPCFgLso1a9PXi0ShywRiL1OTLwFzYc6lpaVEOfT3qkZfDfkOkckTBjKKzJ9Br5wH83NwJ8pT5Dr2BM2zkEDUjywemlTkw5sW8CqCWLfaoO+yI6mzZ2xtbc2oVp8FVaB7LyL9C3sGNgLKt9jIEgxVnwXhNE0/k2dEUfSeOt40yx+bu7yoNT/CMHxHnpEkyTKuEv3h4eFh2/2bDaRskrmzH8CB8vrWVldPiMbIn/xKoLVrzF0pytabr4YouGjkB5YgqR4CeQsE1n/yDMshyzIQ7gQQdfb4WBLu7ziOl8kjRKMNifwPctsUa4lxd3rC/RF5hhD9CyqyOxXPDFFJT+YMDru7u/tDniH16a7ok6enpy2vAsWxY2dnZ4Y9A9s4dYrop9B8hcivl3GAGxUy9y7l1X7vooSc/f7s7OwjewLmFg6J01XpCeNVJFsfXkV5CW/2LfF6aDVpNBoLE95OL/Ssb8u7gQ54RgIot3hCwOFOe1TWmwOfRE13BEdZrhju2V61SQOBcxGHutdmVZLF2LZbQk6hPDC44paO4ELP8qiSipYOjdqDUrLQTQqxl3HwQ0bBWI4mx+voWbLQjaYMIwXkulEIgyCOw7rUSVdTtxQUjVxy+qRyTFhEkxak0bTFcjq8LvAMTV7IBlszaQdaxzAtdB4wcIZ9E6Mh8TDt7e2FYoFMHDabTTPO8fGxqWlPT0/Nh3EvJSPDpqam2vJiYIUzkMtu/HbzS4RJvaxLCKvZq/Ms1q057D7/DDthGej1rxv3vlKvvSo8AsR8JzU1aPwTAAAAAElFTkSuQmCC";break;case"hellenic":t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTE2MjM1NDExRDExRUFCQkNDQjk5RTI2QjAzRTJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTE2MjM2NDExRDExRUFCQkNDQjk5RTI2QjAzRTJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjYxMTYyMzM0MTFEMTFFQUJCQ0NCOTlFMjZCMDNFMkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjYxMTYyMzQ0MTFEMTFFQUJCQ0NCOTlFMjZCMDNFMkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6P7gOBAAAIxUlEQVR42txae3BUZxX/fffefSaBpAkJeXQqJbxaCkGrZYBIgbZQh7EILTNlKo5VqrbotP7hTGeccTpOqRqd4oilrdYZZ3z0zVin2hKlCg1qCxQIAg2bIiXU0pIHsNnN7t6H53zfvWwSdpNNsnngyfxmb+7znPOd8zvn++4V7TW1+H8QI4/3ChIWu7iOMJNQTSgkhAkxQpRwhtBCOEpoctEz3oZohFWEDYQvuApnk7CLcsKCXvvZwB2E3xFeJ1jDUUQMM7R8hHsIDxNm5HFUTxAeI/yGkBqqR4cqywgHCb/KsxFw78f3PURYPlqGhAhPEna5OTCaMofwV/d54Xwaci3hLcLXxpiM+Hn/cp8/YkPqXGaZO07MOtd9/oIBWUtMuwbCtCB0HQ792S0RMo/s8xGhOZhP5/yNMHmcy8RUwhuEm938zD4iTioFrXgyRFUlkEiwEUxnjRPACE9Yj52E2oFDy7blSBh1NwAFBZxgLxGmTLACzvq8nIkA0oYIIUfFSSb5v8cJ8yZoN0KextaBk52MMXfv5Tpx37iqalFxT5JTKcSdRFL931c29a8zfQyxDv+bK/YT46I8R0Q0CrvtDOyuLjimKQlIaAJ2Ryeczk5FQmn5udthZOy17iXMHnWlSTmkTKkgHEeBvK7PngXf2jXQ6+ZBv7oGoriY9pswDx9B4tkX5K82pUydr/RkfZ+SfuioXyHp1z7dxkYdy8YK+RIn3gOtYgpCD34TxifrYJ06Bbv1JERFOfwrb6FjFZmvi8XQtXgFrIOHoNVUe7tbXYPM3oZwF/vnMQmhCxegEc0XH/gnRDCQ86XJ13bi4sZNcLqj0Eqv4hLB8jnWu3fQbRwTI9o74FyMwqinaYuZymkEne6YHBH/LctRsq8JgbvWUs6c90Js46UcodFgt3x+tJmIldKvn4PwlkekUnJ3pFXGPic51zI5QqRg6mAznLY2SvzzqsaxH+iYPu0TcM5foBY2qAwRgvUOecl+E6FgtEZB0qfLOEb9EhkWiRdeRmpPk6RYvbwCorxUJrLw+2GdPQvr+LtI7m6EHqCEN3QVRmzgm3vJoBDEVSUeUXBxXOQZsnRkGewoRdVQK+HiyiERJY9CR/DLX4T/nrvhdHQg+cqrRK8p+G+/Db4liyCKii6fM2z+BqIPPIT4E1uhl1Lzq+vy/qJ3J5KWxYa74/oRRc3Z9yne+SEGOc5UAxEqonZnPgLr10KfNQuxxxpgnDotDcKdud234MdbkGr6B6zmZmjlNEP2+fo6Ky3XGcTVSxGLLwF3wOGgPJkLEUIhdQoXpXBYeSPgV9tUrOR5kucpbCZTs0kDIgx6kJ/PCUGfMxu+zy5RbPPqazI09OqqwQeXRhLRbqgLDBTv3YV4w1bEtz0JwTb4Mi4zzDb8q1f9SHN4tUOoWOQQobgWhpGOcdXS043pGO+3ySjelu2+DzrzOicpOQOBAF2ry8TmHEi+Tg10ykLxnkYVEZ1dsPYdgEk5YFMusFO06mrYH30M651DdLwD6EmkaycZLwoLCZTCPVkXWypF+9Uz9pENn5KGcJh5ldaLQdp25DYdd+jXspVxvO3t966T59sU/5akVsfqhjH3RoQf/R4Z7kNqZyOs909T2AWhEfvI4kfOEHR9cvebSLz0PN2aRrSgwL2famTZqTK55XMzhlZctFdPf5s2bhwxM5EyXB+ceFx62Vi8EKFvbZbtiNVyAvaZD6BfOw2BO1ZDq52e8Tbx7U+je/O3pdKCQzuz0plVOFdS9Ue6YPWli7xOkxVzXI/zvv7H5chZymty5UZAv6ZWJrcx/wYZVpxDBT/4/pB8cnHDl5D4/bMQZRUy1/qxUzaJG9q8uSd1nkdx7HNuFBWq32BQxT3lg8b7KPFkGBS65YaTmrc51CgnuMkzltYTIQRgtb6H1Bu7ZXznJF5oErEUPrUNPiqW8YbHYZ9rV3rkYL8Ruv++o8T5JiWUIThE/D7pXZnshuJuVlrREu33+y6xmUeHghmM4t7a/44sWOaRowjcvV7Wiax9U+MumHSudSJCCp+T3TA/Q5SWyC5YKy0lMvgo14H8rzhcXrOyDNrzYQeTTC/R3aSF07/4OHKE0qHlKA7gprOnUxar4L1fR+FPGyTTZJLEizuISrfD/PsevjGxXFjRvcCl6u0QeP1AOjC30HrOaBZW60JN/4D8MMmCM6QEd2JxOF3kTT2AwLJVCH33O/AvX5a5aJ78D+KPbEHPcy/ScCShVVaqcM6Q0Fmq90ByzFgUKIiEU+aOWFfXw7bnaTbIQd+H9BshxyZlSmkOse5OBNatkaGULf57fv1bxB79IeVOBPrUynSFHgIrDSJN4ieajlkVVTOXr7j1XZM9QLEuqY/iVZukEl/GLvdDPLPjSk88L8qnwLfw0xknQtwIWi0R1Rj+hXLhrX0yaUVJ8UC1YLjCq/llRtFNn0FqxswWc0FdJFhVVWtz++F2qjJ2vTrhzZeF6gCEj7rUA4eQoiaQ5wpaaZmca9vUlqfe3g/r2HHYH56V52qVU9MG5NcIlldkQTy9dRti5MGyn22/nZjqT07ucdm3++Vwi0epjUhS6FCS+gOK4YQY7emanCEaF9rP0YRXervRMU2eA08fbnUX4aIc187zJu+5q6Hp5aDkhvXcfzfgyhLW18y0Gs8vWY5fIUawns9kXKArXLeGm6b7rxBDHkCv13OXvR8J3LWWl++fnuBG/ALqzdmgL3oeIhyeoEY0Ex68jGsGeKvLB/ZOsFcLH/OKCSEy8Gp8X+GTbyWcnyBGsB63ZTJiMENY+DXxzYQPx9kIahGwAlleu+ViCNyL6wlHxskIfi4vx+wfcIE/x5tF3NXIX46xEc+4z40M+qZiiF3mJneIj41BsePnfNV9LvJpiCfM3/zu/StQ347kU064953fv04M2uqN8Hst7vNXQn1gcweG1zKyx/8A9SHNmH8dlEmCLikwz3vfa9W4q/y8/hon8FpoG9Lfa3Gd4sn7iL/X+p8AAwAUXUcrt3fGyAAAAABJRU5ErkJggg==";break;case"bluestar":t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCNTJDRjZENDExRDExRUE5OURGOTFFQzBDRUY2ODQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCNTJDRjZFNDExRDExRUE5OURGOTFFQzBDRUY2ODQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEI1MkNGNkI0MTFEMTFFQTk5REY5MUVDMENFRjY4NDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEI1MkNGNkM0MTFEMTFFQTk5REY5MUVDMENFRjY4NDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4aHzv8AAAJR0lEQVR42uRaeWwU1x3+dnZ9Xxh8xBDMXSeYowKEoZCWhEAgpgmRShqrhUApLSLpITVFjRKhHlFatWrSKKItgQQVApFIW2ggGFoKgqYNDeEwh82REgwGYzCG9b3rndl+v5lnsM2uPbOe+J886fOu7Zl5v+/9ru+9XU9oay5cGmOJicR9xP3EMCKTSCF0ol7hElFOnCYOEyfcmNzTSyJi8NPELGI84XV4vxAsI/5B/Imo6GsiDxDPEgvkGS55NEy8S6wmDji9WXN4/UDiLTXRky6SgHqWPHO/mmPgZ0VksYrnJfjsxxI112K3iawl1hP90Xejv5pznRtEEolS4ttO4kPzhN0ktFTZkBgrkXRiDzHHURkKe+CJa4XX18b0dS2F5ihb0mMh8mdimpPZvHEBnPNn4+Ujc8wi5E1ucJPMNGWTIyJvqN7gsCv4MCTzKn57ajqK/roSl+oHwJtyy00ys5Rttoh8k1gWyyy64UNKcj1mDfwEH52egnk7nsHV+mx4026qOu0KoWXKxm6J5NmtElF7muFFYb9rrDnVOF79BUzZ9hyOVI+AlipkDLc8s07ZGpXIr4mE3va10Rk1fDLVR1odKm8MxEPbfoQPKsdAS/G71UHFxt9EIzIpksticcqo9BsWEYNmM0f8zWl4+P1ncax6FDSS87hD5xvK5ruIvOiOYtLQL74VifEtfO+1Ej3Zj0BLGop3L8P56/dC4+9yna1K6AvCK4sSuWC82JXISGKeO0Q8SPIGkZ3YTI9od9okPXOldhDm71qOhqZ0eJM6l2ZpoqbRCc38XyNLdz0rnp+VLwvXm9Ph8YYizfZVYlRHIktjkOBRPZLESTPYFDutuhidegsnLt+Hr+9bBIR8ltEJTaxqDDd6KczyffFWDvZ+Og4/Pfg4it59Hov+vYCODUGLTERTtsOnauJjrgkKGpzobUO6EDEirE3qDZSenYJfZVfiJ5NK8eHlApxiEz1VNxBHb+bhMF8bGYZooNSiVw7MfwU5aTegt6ZGm1G88rwQGa0QPU5pGOKCpBzuEC4dC1XYynJ5ZW742E+STIkS4Vov451eWHV8Jjacn4BzNDjUnEEPxXNZA7xfLUBiI3YWr8YDw8pgNHSrVU37hciUqG3fYxn335phKKvLQ25iEwYwtuM1A4ZoKv4vzNfGtngEaHxDKAE1gWSc5LVHa++lwc0RPQZKmba2BFRcG0rj20xikJyR+Rhe4P9WP7gBcwsOksQA2JCgU4RIYdQoEWNZMfIY25s+/SK+e2AmVy6OLm+Az3tHFIZML2mWt2RlBSRtrnAkr8h9EvPexs5/F08wsReN34sVRJieCtuTN4XeVU+l/qA98yOS4cMzWUXmDi/DI4PO4mJrGs5fHQEjkMJ5dRj0xO0ya4aOrHCr1Uec9AvxBld/6tAy7Ji7xlwAI5ho9xF+IbKSb3K722BINdGIwVmXsXDEEYy95zzKWRav3cpTedFqvTLkEMteRO5p6odhLAC7in+PNJZuvTXFybNahMgL3en822T4I9yWxACiBBl0DouHH0MG4/pQ7WAE/DkMo6BzL7QP5tYA9pn3Zr+JgnsuQG/s53RBgpo6d7KtP3SGms5ymRwfwMqpW1G24Jd4ZtL7Vmg19rdywqlXuPorCg9g4pCTfEZmLF5NFY88xzfJTs87JNzCzJNMFoJHRxzD5KwqVLH+V7IPmEkr1ciud/isBFa4hfkVJolw2OnhDlqFyHJ1IhjTAU6YYaGxko3KvYAlBR9hMJvX4bpBaAikWjlj6+TAwHl/LqZmX8TI7Co+M96pJbVCvaG3clfnCurStFj/l07ejSfYxBBIsr8zlCbJzr3t0v1mj4khy/xCpNqd47WwGU611fn4y/8mWKFlO9bDZrEopcxv8WdBIxmHo0rrzXnrXRub+GasPzsZ1bX57CUtEQWlJLblqS4k2UArr+dTRQy1yrmzcVrmP+XGaaeHGusmE331mSJTJ3W2M2wZz84/OueC1fmNuC4eYz7pXvzn+mCzWDg8GzspRA66cv7MFX3p+EOovMqtTVzL3f5iAy3OL8fRkp/jh2P3mVLE1FW3GXvMPlR6pYC5FmfqOAfjoBApV4hZtsv51aWrw/HHii9ZQtHTIW+kFJPEtJFH8NaX30E8Jcyr07dgxYRSs5vD6ECG1esMr/WLjDebq61h2q+pp2yPNaTME0Vdw/cOzUOzNLPbipePpRJGUwZKxuzDv4pfR05qndlMxfjVD25ESeF+qwGKVpPraXwde1O5KAXRbPbGdnSQpm9aQeowwT2Gufn5w8kZ+FvFNErxpjtJTQGYwM3Vaw+vx+ZH3uBWtQ26udIGdBGDzJPNs9fhqXF7GWYZ1j3qGpOIvcplKNtvb3XPOfaKSHySOFM9Ai8cepQTt1oyXnRSSwpmjvwY+x//Hb4/cRdjPgl6oIMI5Ksu3qJHN854G9OHnLDkjYRTMAFV9KLN0NqhbO90ivKSo7yQEOKkT+xZjJuyQaKhcVoIMygmt897HXseew1FeZ8gzEapS1J3TV6TTAp8LNNbZ61D3oAqLkCa+fdaIc17vD0n/C/a3/g6/PFjYpM6L+rhsDqIWnbikn8+jYqLYzB8cAXmU/CVUOJPolQxw4L9Qg/F9dAUSYZhlZVZg83MmVk7VyAUTEaN7M8l/MQrui/azZuUzXcRkfFj4ms9njYylg9eGYsM9o59T76M8dxHZGZc56RxFoFgYoe9vI3SzYSfwUVYNXEnVu3+DurpaasARB2SQCs7OTjCh6ELiQ09fZhj8KdPGp8kPAmEqbOMsHZ3x7Zd/WibR0f+Oz9D/8QGHJv/qlkA9MgeWURs7Ok0Xi5Y28Ma8kYDhqw+41o8YESSHU6EJxcC8UG8UvQecrm1bpOwjDzWdiURzSPt4+8xfUbSG6FD72pUwh/WDMMobgeySEjXO4WYfB4/O+K93RCR7S+3fpjeZ0ykGsrpCpM8xH2Op7OHPyCKYX17wtYHPe1DbpipanUfucTaShtsll1I7FC21Hervrvb1KsjyTV9GWJdMm2NsiHY4zbCxliuqlldH/KpU3Mut70fsjnehvUNoPV9QELmGKfmhNtEZFwhvkV8hdjSi3obLaK2qGfLHJcdpdfn/WtOkYaEgnzxrEARpJI0v0/SfgDYpOL+gjL4DKwvnh13Y/L/CzAAhqhqDOLQAncAAAAASUVORK5CYII=";break;case"superfast":t="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1MHB0IiBoZWlnaHQ9IjUwcHQiIHZpZXdCb3g9IjAgMCA1MCA1MCIgdmVyc2lvbj0iMS4xIj48ZyBpZD0ic3VyZmFjZTEiPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMTAwJSwxMDAlLDEwMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA0NS44MzIwMzEgMjUuMzEyNSBDIDQ1LjgzMjAzMSAzNi43MDMxMjUgMzYuNTk3NjU2IDQ1LjkzNzUgMjUuMjA3MDMxIDQ1LjkzNzUgQyAxMy44MTY0MDYgNDUuOTM3NSA0LjU4MjAzMSAzNi43MDMxMjUgNC41ODIwMzEgMjUuMzEyNSBDIDQuNTgyMDMxIDEzLjkyMTg3NSAxMy44MTY0MDYgNC42ODc1IDI1LjIwNzAzMSA0LjY4NzUgQyAzNi41OTc2NTYgNC42ODc1IDQ1LjgzMjAzMSAxMy45MjE4NzUgNDUuODMyMDMxIDI1LjMxMjUgWiBNIDQ1LjgzMjAzMSAyNS4zMTI1ICIvPjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoODQuMzEzNzI1JSwxMi4xNTY4NjMlLDE2LjQ3MDU4OCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMi43MDcwMzEgMzUuNzMwNDY5IEMgMTQuNjg3NSAzNS42MjUgMTYuNTYyNSAzNS40MTc5NjkgMTguNDM3NSAzNC43OTI5NjkgQyAyMC41MTk1MzEgMzQuMDYyNSAyMi4zOTQ1MzEgMzIuOTE3OTY5IDIzLjk1NzAzMSAzMS4zNTU0NjkgQyAyNS40MTc5NjkgMjkuNzkyOTY5IDI2Ljg3NSAyOC4yMzA0NjkgMjguNDM3NSAyNi41NjI1IEMgMzIuNzA3MDMxIDI2LjU2MjUgMzYuOTgwNDY5IDI2LjU2MjUgNDEuMjUgMjYuNTYyNSBDIDQxLjQ1NzAzMSAzMS4zNTU0NjkgMzcuNzA3MDMxIDM3LjgxMjUgMzEuMzU1NDY5IDQwLjQxNzk2OSBDIDI0LjY4NzUgNDMuMTI1IDE2Ljc2OTUzMSA0MC45Mzc1IDEyLjcwNzAzMSAzNS43MzA0NjkgWiBNIDI0LjE2Nzk2OSAyMS41NjI1IEMgMjYuNDU3MDMxIDE4Ljg1NTQ2OSAyOS4wNjI1IDE2LjY2Nzk2OSAzMi42MDU0NjkgMTUuNjI1IEMgMzQuMjY5NTMxIDE1LjIwNzAzMSAzNS44MzIwMzEgMTQuODk0NTMxIDM3LjYwNTQ2OSAxNSBDIDM0LjY4NzUgMTAuNjI1IDI3LjcwNzAzMSA3LjkxNzk2OSAyMS4yNSA5LjU4MjAzMSBDIDEzLjEyNSAxMS42Njc5NjkgOS4yNjk1MzEgMTguODU1NDY5IDkuMTY3OTY5IDIzLjk1NzAzMSBDIDEzLjQzNzUgMjMuOTU3MDMxIDE3LjcwNzAzMSAyMy45NTcwMzEgMjIuMTg3NSAyMy45NTcwMzEgQyAyMi44MTI1IDIzLjEyNSAyMy41NDI5NjkgMjIuMzk0NTMxIDI0LjE2Nzk2OSAyMS41NjI1IFogTSAyNC4xNjc5NjkgMjEuNTYyNSAiLz48cGF0aCBzdHlsZT0iIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6cmdiKDEuOTYwNzg0JSwzMS4zNzI1NDklLDYyLjM1Mjk0MSUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAyNy45MTc5NjkgMjUuMjA3MDMxIEMgMjYuNjY3OTY5IDI2LjY2Nzk2OSAyNS40MTc5NjkgMjcuOTE3OTY5IDI0LjI2OTUzMSAyOS4xNjc5NjkgQyAxNy45MTc5NjkgMjkuMTY3OTY5IDExLjY2Nzk2OSAyOS4xNjc5NjkgNS4yMDcwMzEgMjkuMTY3OTY5IEMgNS41MTk1MzEgMjguMzMyMDMxIDYuMjUgMjcuODEyNSA2Ljc2OTUzMSAyNy4xODc1IEMgNy4yOTI5NjkgMjYuNTYyNSA3LjgxMjUgMjUuOTM3NSA4LjQzNzUgMjUuMzEyNSBDIDEzLjAxOTUzMSAyNS4zMTI1IDE3LjcwNzAzMSAyNS4zMTI1IDIyLjM5NDUzMSAyNS4zMTI1IEMgMjMuNTQyOTY5IDI0LjA2MjUgMjQuNjg3NSAyMi44MTI1IDI1LjczMDQ2OSAyMS41NjI1IEMgMzIuMDgyMDMxIDIxLjU2MjUgMzguNDM3NSAyMS41NjI1IDQ1IDIxLjU2MjUgQyA0My44NTU0NjkgMjIuOTE3OTY5IDQyLjgxMjUgMjQuMDYyNSA0MS43Njk1MzEgMjUuMjA3MDMxIEMgMzcuMjkyOTY5IDI1LjIwNzAzMSAzMi43MDcwMzEgMjUuMjA3MDMxIDI3LjkxNzk2OSAyNS4yMDcwMzEgWiBNIDQ2LjQ1NzAzMSAyMC4yMDcwMzEgQyA0Ny42MDU0NjkgMTguOTU3MDMxIDQ4LjY0NDUzMSAxNy43MDcwMzEgNDkuODk0NTMxIDE2LjM1NTQ2OSBDIDQ1IDE2LjM1NTQ2OSA0MC4zMTI1IDE2LjI1IDM1LjYyNSAxNi4zNTU0NjkgQyAzMy42NDQ1MzEgMTYuMzU1NDY5IDMxLjc2OTUzMSAxNy4wODIwMzEgMzAuMTA1NDY5IDE4LjAxOTUzMSBDIDI5LjE2Nzk2OSAxOC41NDI5NjkgMjguMTI1IDE5LjA2MjUgMjcuMzk0NTMxIDIwLjIwNzAzMSBDIDMzLjc1IDIwLjIwNzAzMSA0MC4xMDU0NjkgMjAuMjA3MDMxIDQ2LjQ1NzAzMSAyMC4yMDcwMzEgWiBNIDMuODU1NDY5IDMwLjUxOTUzMSBDIDIuNzA3MDMxIDMxLjc2OTUzMSAxLjY2Nzk2OSAzMy4wMTk1MzEgMC42MjUgMzQuMTY3OTY5IEMgMC45Mzc1IDM0LjU4MjAzMSAxLjI1IDM0LjM3NSAxLjU2MjUgMzQuMzc1IEMgNS41MTk1MzEgMzQuMzc1IDkuNTgyMDMxIDM0LjM3NSAxMy41NDI5NjkgMzQuMzc1IEMgMTQuNTgyMDMxIDM0LjM3NSAxNS42MjUgMzQuMjY5NTMxIDE2LjU2MjUgMzQuMDYyNSBDIDE4Ljk1NzAzMSAzMy41NDI5NjkgMjEuMTQ0NTMxIDMyLjUgMjMuMTI1IDMwLjUxOTUzMSBDIDE2LjU2MjUgMzAuNTE5NTMxIDEwLjIwNzAzMSAzMC41MTk1MzEgMy44NTU0NjkgMzAuNTE5NTMxIFogTSAzLjg1NTQ2OSAzMC41MTk1MzEgIi8+PC9nPjwvc3ZnPg==";break;case"bluestar-hellenic":t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAyCAYAAABWIFV0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY3QzYwMjU3MDcyMTExRUI4NzczQkJDQzkyQUIxMTE5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY3QzYwMjU4MDcyMTExRUI4NzczQkJDQzkyQUIxMTE5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjdDNjAyNTUwNzIxMTFFQjg3NzNCQkNDOTJBQjExMTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjdDNjAyNTYwNzIxMTFFQjg3NzNCQkNDOTJBQjExMTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7tRt9uAAASG0lEQVR42uRcCXhV1bX+zz333uTezGQyhHkQkFGgDzCgzKCipWrtR21R22otgp99g1/7vdY+O9BWWvX5wBHqExyogKgIiCi0CBSVIRAgDEGIAUIYMufe5N57znlr7bMvSchN7pih31vft74kN+fuvc/+91rrX2vvcxTf+mzESIaTjiEdTDqEtC9pGmkCqUZaLbWE9CjpMdJ9pAWx6FydewH/X8Qa5fcZnPtJZ5CO5Llr49oM+XMU6R3ydwbzIOlW0tdJC9vzZst7DoxVU/GkeVJvIL2eNJc0kdRJ6iKtJT1HekIu0l1S6zsLtEmkC0m/TapEYyCko6U+QbqGdBnpji64wC2ks0m/S/otCU5r4pSaRXpjk88ZzPWkb5FukYs2ooGEI91J/yIn9d4oAbtWFNnm32Uf3bsIWDbSB6U730h6XxDAEATM+2Q7hbJdW3uC9oCMPw92wEQ9KPt6oJMBm0KaLxfRwBi3PVC2y+FhanuA9irpa6TdOnDCusk+l3cCWA7Sl0i3yZjVnsK84FPZnzMWoHHA3Uz6o3B8nEUxYnlTP5RjiO8gwPqRfkH64w5eKNzf57L/iEFLJv1EBt+QRTMUKLZ6qFYvYMQs5M2WY0lu54kbJRnesE5yx8Nk/zdGCtpaSWlDp4K2BpysysTi/TzHBlRnTSyBy5Njai/hlOVvpNd1chzl/rfLBRQWaK/I3Cs80azonXYBfz4yEePefQIl1elQEypjCdwMObZYywCZK6Z0EcbK4/hYjisk0L5H+lAkPWm6FQnOaszoXoQvjo3HnA8fxYXqTKhJFTI3iAl4D8kxxko4+K8jzexieSGP591A5ORa0HKiY2tEQHQVQ1MvEvcrxaHS6zH+vX/H/tL+sCQycHqsbmi5HGss5FnSEeiawqXB54KB9jRpXLQ58g0pZdQyJftJ5Si+0h1T3/s37CweBktCVayycR7jkhjlYQ93KiwazZPHC6OhgdRj/t3Ss0xtDbSxMXE7ZGwDk6+YoOkEEcW0KlcSpm9ciPzSgbAQkEpsoLtPjjmaSscLnQKUosCorYV+9hz0ykoYPh8UVYViIV9UXgGjooLmr5k9LWtaOWlae/xFTAZkWJBqr0e83Y16D7ljg1yiswoNrlTcvuUhfHbHc+jX7QK0ulQafHB3qVo9wuVqRHLQMv/jMc+NcKQ/gLkj0b5CQMDrE2DAMEwla1IHD4LtrrlQR42A2rMHlFSaD80H36HDaFi9Rvy0ZGaY15vj5PG+LDCXWzPMUri2pkY7RpXAulTTDWM2LkJJZRatjwa5uqjzmjQMzzmFXd98BkmOOmjuxKtAcEKuqJTbqT76QzcBpc9KLvVEPFltOhEcQ28xPF3e0MlQtmaaVPl5sRa2xs5iJYa7HpbsTDgeXwTr6FHQiouhnzoNJTsL9lnT6X+Bt8UMlwuVedOg5R+EpUeu/+NT8l591iZVBzVWluagiU+hBLvEaGLiTPsTK1FwbjC+s30+Ns18FWqcywTHTsDqFhpsMkoI8KKqLOy42Bubzw6Bk0D/6+Q3YKE2tZagWeTYfxbmKKe3N2BinTod0M+dh/vZ55G6fw+sY24M8XtOJPz+KdTMf4gstByW9G4cdvrLlGezVfLwO2O3vBTEk8UkE2jQA6yDxCvYfGI8/pBZjJ+N3Yx/nBuEI5SQHynvjgMVOdhHP2vdSWSVNFCyrh1zn0FW0hVo9Ymt9ch7cz83o2nIMr9D4taVchj19bBOyiP78AbleGyZ0HWBiH36VKTt3YW6J5+CZ937UFKSuc35ftBuQJCiqMpuy+YxXZkeILUTLs4wf5J7tFK+5hBlrADXqkRQ4urw5KFpWPnVaJwkcHwuyiV9dnJaZHF2CXZ8LTbdvgyT+h6EXtNmndo//iNhMM872xUwilkMgDqUPMXipwQA4uOiUyJWMQFhcJT4OBGzvPkFMM6eJVJSZYLGU0r/U/v2gVFVDTjizdimKDxuB4M2vvUYagLxeVlfHCzPQXZ8HdIdNbBTzNG5xkj/M+hnrdeOBgKqxheHsgYnDtO1By73oOlxBbREjnNebxwKL/YhoLwCRFC7AnQmHPS/ZVNW4tZBewiw9FBMaHwYoI2DeQSiXaxLUHbJ/KyTJgrX1rDmXXg/2yVovZqVDSUrXZAMxW6HVlYG7dhxeHZspXBBZMSqmj6Dwdy5m8BzQOmW5icxnGjfxKANbdVcGRgiATkUi948PQo/3jGNLIKYp7OG2m4sCPuE9VlMK2SLYSWAheUEsjb+HhMOtfYaWkEDprg2f+Q2LCA1yAKN0EpgQ8OY2luic/+GCYrRZCl5Kc+qcxGNrxLUIP7B78P+vXkwKB55PthIlN4L+60zYZt4E5SkpBZNOhb+BLWP/hTuF56Dmt6PXZto/+qd681Ydp61LdorACeQeiWW4/mbV2NevwP41b5bsbVoLHyiAFR9zdWcTZB7i3Obfxth7LFKdjmhTz5en7JKAKiTBSO0bZ4hIbHvkcOhHywYGpXnK/uaFiVPqJXu0GcO3ZEE66iRiLv3LqiDBsH1+yWwFpcI8HBPaO0m/GkxvLv+Aa2gAJYsZt225gujSThg0HKDTaZG7koltzWh11F8fN0prDszAv/1xR04fGGACRJbVTRFYQaG8ra+WaexduYKkZhrlJAj9H253FCtTMnMmAifRgwtXkwMJ7VwOPzBWzA3scrj7ObvlPiK60QeRa4vJYW8Dw3NSpNqtwuGqA4ZDNvNE0UTno0fifWq5gY/LWGQhaK2zlzgqhWpu7fBveQ5uJe+ZN66LeARnsH8abdQJlVjq6GJVS0+3D1kN27NPY6lh2/B4vwZqCKKzpUPsMuMpNpBiyI9+RLWTHsd3dPIx1enhwMYS2ooF9nnzH7aYjDAihk72M1RHFKs1saYxBPFXav0P/5c5/zRYl5L4KmcNzGB8DGhiqPvqoJ0cMzybNlK96Ih9bOtplerqIS2dz98FLN0il28ACy5udAvXoJ2gAhWRTlQ39DoCQhoJTGRlEJufauHtnI4uaZvivOJYdF6lV0gEYjiyz2xJH86lh2llca0PKHKLGGFY3m1afhl3hr8euIacpHpYiM1TKmg5Dro4ivvdf1ewmuMAI3jhL9C4Y8Z9LshflfMSo6mm0Dy7/7P/d8T1+sUPjRB5w2tDtZhY+H83a8IZBu8H2+F9nUJuc54WIgFikSagFfo+54dO9Gw7h1qmiw1IUG2pwjL4wUkiIfoN+DCdfMS0yJxZ5qH3EuDA71TLmHp1FW4rU8B/rh/FnaUDDFJBoMa6uSThe651EtYsgBci/Y4Ziui60ZAxqeqTcrdITBEmnijppZyMI+wHmveeDgeWyhKVtrhoyKhVvv1hWPRT2AZ0L9FE/GPLYD7xcmoW/iv9Ec8AetoTjz8hCewONjSuDzSL4qABFXRTAsj1rjiaJ4gK+fq0qS7DCW6WwVp+WjWK5jV/4BZ3gpPSsjSegW76Eq33A00GXOuToi/os4gGNKS+LNr/y8sUjOtAWYIUHsPEMTDSuSGXSPHvIQ//CasQdd89340vL0aSka2iI3XsMTWRFhaTbRlfRHvKAHmcyE//JctyC/vjqUEHBy+0GITJ9y1yXiPrHTW4D1QCLQwjwZVhcQeRww7rSY4zVjFsSwp0fxJq13EKTJEC39GpEC4skSZzjHh4N/ZXVIM4wKv9ZZJRFbioJ36Ct7tO0Q8CtHazUVA1p348lLYKPF2L3kW+uUr5jhCwJpBK4V5PiLKxNIQifLl0l5Yd2q0mTSHTCb4ux5sLh0Id1UGHPZ6wVjDkLOhXORY8PBRyql8FOytCrs5u01YjSAiVjM3YoBMekif221XWaWfgivMJClOafsOiOTXR+4wbt69Ig9rTTxbt8FH12oniwicy6Lqz30o6Wmi2m9JTyeicjHUey31V7tnR4uZyMjsLrx2YiZKL5OnoljXwlzYIikOwl8oburFKW0oprj2eVkfTO6fLxhlGHIslItOLnr8dAYsLqeBZJ+fhEhCcXWsV12UISyv0T0aJj8h4qHXm8cn4n/wCBIpIWbGF0ga1q4n+v4ifH//zNyQiHOaKYaCq1UPz4ebYUlNMZPu0NzjMWsY5Z8245pCgFWQW1x2fJyoGzYHTCbaugU3ZJ3B0Ss9TJeoNj1mx2xNxe5LPTG5b4Eooemhs8jDoVxUoGinxlvU87S+k7VwHDAXf11uGJVkJWoc4qbMhuMXT8A+dUrgEH36DNxPLUb9X9eSmXlgyckxXXIActFK1aMtKWQD2ROD0r6wlN8emopikXC7W9phdQZup+T8wLxf4/Hh20W5ymSJRuPwiTluPj+IrMwm6pphSKj3UERZ0HpXZaUoznIepVdUiA1K/Up5o5IL0y9JJbelnS8ReZv97nuQtGoFUrZtDgwYTXz9a6tQNWMO3K+vFBYkYp0sS8VIdvGsHZUa2fFnztkSqlFyoR9eKrxJur4mcY6Bqe2GvAH78Zeb34adrOvZie/Ao6t4Yd9tZlJu8UnQdBwncKvcSUhx1AXeUWgp/vEHlRSLFV9C+9+pd8/9uY9XtkPSbYovlmSTlIhYw67KYqYCnEcpWZmwjf9GwE1LLgJrJ4rMovAnFLu+2CsIhdqjZ1u5VqTi8oPGrW6IDDTFPEmsWbDoyzlwUZLMG52my6NmG5wihs0bth1vTl1JQZxusCpTJObLpqxCRX0C3j48WRwAAqcNZGnlDQk4WpWFCYknzOJ0cNkQ5l7aCd+YUUXx3bsP0LlEJSvyij9X44n2n89QzMqJYrND238Q3vJysatsSc8QZzv0olPwfrkPWuEx6BfKxLWWnOsawYotYCwf+Ck/ywrS/0CYjz5ZmEw4q/EiJdXvF+bRyq1tJBy1qYhLrMDTk1bjsRGfmuc8eHOTrIkTc5W++9bM5XSpjtVHbqF2zDIYXyNAo2RdgB6EQMuxhyQTVJPceP/8/GM+q3WToUdwpE9WUAw33Ssn1wQo7HGwXJdtgtV2YhytrBRbPn5iJVfsN8Nxiwol1MdL++M/v7zNLByzO3ObB3amDdiL343bgHE9jon4pbHV+OMUV1QIEJXi4KrJb+Asuc+dpynrSKJA74nD2boUszISXD6UYw9Xtho+HxcV+ke6b6Y4kyJ/Si0y+QrmKehmlvXb8GqPLjHB3/rkAVTwZia5NRvFpsn98rFhzv/gkzv/G+NyimBQ0h3wJJUALgFWcpXrZyxHTjqlWm6zsn+5IUHEQjU4GflNhBPAQXQJ/rlkiRx3syN0e0nfhHmesO0Chs2Dy/WJmPfp/Sj8ehj69SzE3N6HMa//fozNPmOewKJ41cy6WqumuFKQkVaGtyjGzdi0AD6PE2VceObaZtt1yDflmCMVfqDvcXTEMbro5VjTMHDtjHBc4227uKAF3vPDkWJ3Y/u9izEysxhpnExrNhMsT3wjewwlXSACM5kAf3LMJjy55WFUe/jsRJuHw3g/44koJ4KLiAtgPjjY1eVROV4gAPHgklbQhy90ikezexzH2lnLKRHORxoREKMuVZCICLZVzNolffeXoz9CTyIgF0TBuE3AeYznYzAZ/EjRK10csFevXViB2OIqeWFbtkFf1KGzVTFQZFm6n+ZHWnTmspXdg2fGfYBsWgTe1un+q3KMsZKfkh7qooAVSBfeTFoLGPxQArGL1p9RM2L6YgPTlequJNzT9yByKY2ootiW4ahtwfoQ+wcmOGG9m3Q3utbjThRvcJccH4JZml84tu3syFGKY9+UNkzI/ko8D6BpzeLaToR8TCZsKZILtKqLAMbjmCnHhXBA46NW02Qu1DHCaQCfwvLZxXbjNfnYNDmm9hJ+NcRk0s5+X1OZvNf8VosaQRqglF8cu365Qy2u+Z8vyzF4OqBrnih+G9HhTgKM++VjXfvarESF2NgjpN8nLe/AGyiXfT7SwRPHLolPIXf0+0tWyH6Lgl0YTq3xDZiPk77WATfAfYyQfXaGuGRawW6qsJ37Oib7+VEg0hEtaJC5ET/cxker34mC47fmFd+RbXMf57oAIeD8iF8NwY9TnYxx2ydluyPDTfCVKN/3GM6rAwPm1YjRqwPDfKgwoi5IZ8F8xJkL684ILfh96UEifgudEsOXdLI745d0DpJgcp7HB0j9T6jUyTh1RoJzXAbcmCS2HQBaU4mXhOUmNL7vsYe8Vz5j7pb3yweO/O975DyQD4tE/b7H/xNgAIjhuPKlotEJAAAAAElFTkSuQmCC"}return t},getMarkerLabel:function(e){var t={text:e.markerTitle,fontWeight:"bold"};switch(e.type){case"agent":t.color="white";break;case"gate":t.color="black";break;default:t=null}return t},openMarkerWindow:function(e){var t=this.markersWindowsObj.find((function(t){return t.id===e.id}));if(!this.hasValue(t)||!this.hasValue(t.window))return!1;t.window.open(this.map,e)},setInfoWindowObj:function(e){var t=this,i=t.results.find((function(t){return t.id===e.id}));return null!==t.getInfoWindowContentString(i)?new google.maps.InfoWindow({content:t.getInfoWindowContentString(i)}):null},getInfoWindowContentString:function(e){return this.hasValue(e.infoWindowHeading)?'<div id="content" style="max-width:350px;"><div id="siteNotice"></div><h1 id="firstHeading" class="firstHeading" style="font-size:1.25em; margin:0 0 10px 0;">'+e.infoWindowHeading+'</h1><div id="bodyContent"><p>'+e.infoWindowContent+"</p></div></div>":null},setBreadcrumb:function(){jQuery(".s-breadcrumb").appendTo(".s-piraeus__breadcrumb")}},computed:{},watch:{}})}if(document.getElementById("v-retrieve-booking")){new VueW3CValid({el:"#v-retrieve-booking"});vueDemo=new Vue({el:"#v-retrieve-booking",mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,errorDialog:!1,errorMsgs:[]}},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el)},methods:{},computed:{},watch:{}})}if(document.getElementById("v-trips")){new VueW3CValid({el:"#v-trips"});vueDemo=new Vue({el:"#v-trips",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){var e;return _defineProperty(e={$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},errorDialog:!1,errorMsgs:[],destinationsData:this.getData("destinationsData"),destsHandler:null},"isLoading",!1),_defineProperty(e,"total",0),_defineProperty(e,"page",api.fn.getUrlParameter("page")?parseInt(api.fn.getUrlParameter("page")):1),_defineProperty(e,"itemsPerPage",0),e},created:function(){axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},beforeMount:function(){},mounted:function(){var e=this;e.isMounted=!0,e.elem=jQuery(e.$el),e.destsHandler=e.elem.data("tripshandler"),e.itemsPerPage=e.elem.data("itemsperpage"),e.fetchData()},methods:{fetchData:function(e){var t=this,i=this;i.isLoading=!0;var n=JSON.stringify({page:this.page,pageSize:this.itemsPerPage});axios.post(this.destsHandler,n,this.getAxiosConfig).then((function(n){setTimeout(function(){if(n.data.hasError)return i.handleError(n.data.errorMessages),!1;i.destinationsData=n.data.data.records,i.total=n.data.data.recordsCount,i.isLoading=!1,e&&i.scrollToElem(jQuery(".s-destinations__aside"),100),api.fn.setUrlParameter("page",i.page)}.bind(t),0)})).catch((function(e){i.handleError(),console.error(e)}))},handleError:function(e){this.errorMsgs=this.hasValue(e)?e:[],this.isLoading=!1,this.errorDialog=!0}},computed:{hasData:function(){return null===this.destinationsData||0!==this.destinationsData.length},pages:function(){return this.hasValue(this.destinationsData)?Math.ceil(this.total/this.itemsPerPage):0}},watch:{page:function(e,t){this.fetchData(!0)}}})}if(document.getElementById("v-contact-form")){new VueW3CValid({el:"#v-contact-form"});vueDemo=new Vue({el:"#v-contact-form",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,menu_props:{offsetY:!0,closeOnClick:!1},dictionary:void 0!==window.dictionaryData?window.dictionaryData:null,countriesData:void 0!==window.countriesData?window.countriesData:[],topicsData:void 0!==window.topicsData?window.topicsData:[],values:{FirstName:"",LastName:"",Email:"",PhoneNumber:"",Address:"",ZipCode:"",City:"",Country:"",Topic:"",Comment:"",AgreeTerms:!1,Subscribe:!1,ExtraConsent:!1,Captcha:""},rules:{FirstName:[],LastName:[],Email:[],PhoneNumber:[],Address:[],ZipCode:[],City:[],Country:[],Topic:[],Comment:[],AgreeTerms:[],Subscribe:[],ExtraConsent:[],Captcha:[]},msgs:{FirstName:"",LastName:"",Email:"",PhoneNumber:"",Address:"",ZipCode:"",City:"",Country:"",Topic:"",Comment:"",AgreeTerms:"",Subscribe:"",ExtraConsent:"",Captcha:""},formValid:!1,errorDialog:!1,serverErrors:[],formSubmittedData:window.formSubmittedData}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.elem=jQuery(this.$el),e.isMounted=!0,e.isLoading=!0,e.vSelectMouseDown(),e.setValidationRules(),e.checkFormSubmittedData(),document.addEventListener("captcha-changed",(function(){e.values.Captcha=!0,e.clearInputMsg("Captcha")}))},methods:{setValidationRules:function(){var e=this;null!==this.dictionary&&(this.rules.trip=[function(t){return!!t||e.dictionary.tripRequired}],this.rules.FirstName=[function(t){return!!t||e.dictionary.firstNameRequired}],this.rules.LastName=[function(t){return!!t||e.dictionary.lastNameRequired}],this.rules.Email=[function(t){return!!t||e.dictionary.emailRequired},function(t){return/.+@.+\..+/.test(t)||e.dictionary.emailRegex}],this.rules.PhoneNumber=[function(t){return/^[0-9]+$/.test(t)||""==t||e.dictionary.phoneNumberRegex}],this.rules.Country=[function(t){return!!t||e.dictionary.countryRequired}],this.rules.Topic=[function(t){return!!t||e.dictionary.topicRequired}],this.rules.Comment=[function(t){return!!t||e.dictionary.commentRequired}],this.rules.Captcha=[function(t){return!!t||e.dictionary.captchaRequired}])},clearInputMsg:function(e){this.msgs[e]=""},formSubmit:function(e){var t=this;t.resetErrorMsgs(),t.values.Captcha=grecaptcha.getResponse().length,t.$refs.form.validate()||(e.preventDefault(),setTimeout((function(){t.scrollToError()})))},checkFormSubmittedData:function(){var e=this;void 0!==e.formSubmittedData&&(e.formSubmittedData.success||(e.errorDialog=!0,e.serverErrors=e.formSubmittedData.serverErrors),e.formSubmittedData.inputs.forEach((function(t){void 0!==e.values[t.id]&&(e.values[t.id]="false"!=t.value&&t.value,e.msgs[t.id]=t.msg)})),e.$nextTick((function(){setTimeout((function(){e.scrollToError()}))})))},scrollToError:function(){var e=jQuery(".v-messages.error--text");e.length&&api.fn.moveWindowToObj(e,-20,300)},resetErrorMsgs:function(){var e=this;Object.keys(e.msgs).forEach((function(t){e.msgs[t]=""}))}},computed:{},watch:{}})}if(document.getElementById("v-booking-form")){new VueW3CValid({el:"#v-booking-form"});vueDemo=new Vue({el:"#v-booking-form",vuetify:new Vuetify({theme:{disable:!0}}),mixins:[mixins],data:function(){return{$this:[],isMounted:!1,isLoading:!1,locale:"",menu_props:{offsetY:!0,closeOnClick:!1},dictionary:void 0!==window.dictionaryData?window.dictionaryData:null,countriesData:void 0!==window.countriesData?window.countriesData:[],tripsData:void 0!==window.tripsData?window.tripsData:[],values:{Trip:"",DepartureDate:"",ReturnDate:"",Passengers:"",FirstName:"",LastName:"",Email:"",PhoneNumber:"",Country:"",Comment:"",AgreeTerms:!1,Subscribe:!1,Captcha:""},rules:{Trip:[],DepartureDate:[],ReturnDate:[],Passengers:[],FirstName:[],LastName:[],Email:[],PhoneNumber:[],Country:[],Comment:[],AgreeTerms:[],Subscribe:[],Captcha:[]},msgs:{Trip:"",DepartureDate:"",ReturnDate:"",Passengers:"",FirstName:"",LastName:"",Email:"",PhoneNumber:"",Country:"",Comment:"",AgreeTerms:"",Subscribe:"",Captcha:""},DepartureDateMenu:!1,ReturnDateMenu:!1,formValid:!1,errorDialog:!1,serverErrors:[],formSubmittedData:window.formSubmittedData}},created:function(){},beforeMount:function(){},mounted:function(){var e=this;e.elem=jQuery(e.$el),e.isMounted=!0,e.isLoading=!0,e.locale=e.elem.data("locale"),e.vSelectMouseDown(),e.setValidationRules(),e.checkFormSubmittedData(),document.addEventListener("captcha-changed",(function(){e.values.Captcha=!0,e.clearInputMsg("Captcha")}))},methods:{setValidationRules:function(){var e=this;null!==this.dictionary&&(this.rules.Trip=[function(t){return!!t||e.dictionary.tripRequired}],this.rules.DepartureDate=[function(t){return!!t||e.dictionary.departureDateRequired}],this.rules.ReturnDate=[function(t){return!!t||e.dictionary.returnDateRequired}],this.rules.Passengers=[function(t){return!!t||e.dictionary.passengersRequired},function(t){return!(void 0!==t&&t<1)||e.dictionary.passengersMin}],this.rules.FirstName=[function(t){return!!t||e.dictionary.firstNameRequired}],this.rules.LastName=[function(t){return!!t||e.dictionary.lastNameRequired}],this.rules.Email=[function(t){return!!t||e.dictionary.emailRequired},function(t){return/.+@.+\..+/.test(t)||e.dictionary.emailRegex}],this.rules.PhoneNumber=[function(t){return/^[0-9]+$/.test(t)||""==t||e.dictionary.phoneNumberRegex}],this.rules.Country=[function(t){return!!t||e.dictionary.countryRequired}],this.rules.Comment=[function(t){return!!t||e.dictionary.commentRequired}],this.rules.AgreeTerms=[function(t){return!!t||e.dictionary.agreeTermsRequired}],this.rules.Captcha=[function(t){return!!t||e.dictionary.captchaRequired}])},passengersIncrement:function(){var e=this;e.values.Passengers=""==e.values.Passengers?1:e.values.Passengers+1,e.$nextTick((function(){e.$refs.Passengers.validate()}))},passengersDecrement:function(){var e=this;e.values.Passengers=""==e.values.Passengers?1:Math.max(e.values.Passengers-1,1),e.$nextTick((function(){e.$refs.Passengers.validate()}))},clearInputMsg:function(e){this.msgs[e]=""},formSubmit:function(e){var t=this;t.resetErrorMsgs(),t.values.Captcha=grecaptcha.getResponse().length,t.$refs.form.validate()||(e.preventDefault(),setTimeout((function(){t.scrollToError()})))},checkFormSubmittedData:function(){var e=this;void 0!==e.formSubmittedData&&(e.formSubmittedData.success||(e.errorDialog=!0,e.serverErrors=e.formSubmittedData.serverErrors),e.formSubmittedData.inputs.forEach((function(t){void 0!==e.values[t.id]&&(e.values[t.id]="false"!=t.value&&t.value,e.msgs[t.id]=t.msg)})),e.$nextTick((function(){setTimeout((function(){e.scrollToError()}))})))},scrollToError:function(){var e=jQuery(".v-messages.error--text");e.length&&api.fn.moveWindowToObj(e,-20,300)},resetErrorMsgs:function(){var e=this;Object.keys(e.msgs).forEach((function(t){e.msgs[t]=""}))}},computed:{DepartureDateFormatted:function(){if(!this.values.DepartureDate)return null;var e=_slicedToArray(this.values.DepartureDate.split("-"),3),t=e[0],i=e[1],n=e[2];return"el-GR"==this.locale?"".concat(n,"/").concat(i,"/").concat(t):"".concat(i,"/").concat(n,"/").concat(t)},ReturnDateFormatted:function(){if(!this.values.ReturnDate)return null;var e=_slicedToArray(this.values.ReturnDate.split("-"),3),t=e[0],i=e[1],n=e[2];return"el-GR"==this.locale?"".concat(n,"/").concat(i,"/").concat(t):"".concat(i,"/").concat(n,"/").concat(t)}},watch:{DepartureDateFormatted:function(){var e=this;this.$nextTick((function(){e.$refs.DepartureDate.hasError&&e.$refs.DepartureDate.validate()}))},ReturnDateFormatted:function(){var e=this;this.$nextTick((function(){e.$refs.ReturnDate.hasError&&e.$refs.ReturnDate.validate()}))}}})}
